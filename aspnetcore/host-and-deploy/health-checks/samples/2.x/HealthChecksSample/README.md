# <a name="aspnet-core-health-check-sample"></a><span data-ttu-id="d500f-101">Beispiel für die ASP.NET Core-Integritätsprüfung</span><span class="sxs-lookup"><span data-stu-id="d500f-101">ASP.NET Core Health Check Sample</span></span>

<span data-ttu-id="d500f-102">Dieses Beispiel veranschaulicht die Verwendung von Middleware und Diensten für die Integritätsprüfung.</span><span class="sxs-lookup"><span data-stu-id="d500f-102">This sample illustrates the use of Health Check Middleware and services.</span></span> <span data-ttu-id="d500f-103">Dieses Beispiel veranschaulicht das Szenario aus dem Thema [Integritätsprüfungen in ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks).</span><span class="sxs-lookup"><span data-stu-id="d500f-103">This sample demonstrates the scenario described in the [Health checks in ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic.</span></span>

<span data-ttu-id="d500f-104">Um die Beispiel-App für ein im Thema beschriebenes Szenario auszuführen, verwenden Sie den Befehl [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) aus dem Ordner des Projekts in einer Befehlsshell.</span><span class="sxs-lookup"><span data-stu-id="d500f-104">To run the sample app for a scenario described in the topic, use the [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) command from the project's folder in a command shell.</span></span> <span data-ttu-id="d500f-105">Übergeben Sie einen Schalter für das Szenario, das Sie untersuchen möchten.</span><span class="sxs-lookup"><span data-stu-id="d500f-105">Pass a switch for the scenario that you're exploring.</span></span> <span data-ttu-id="d500f-106">Die App verwendet standardmäßig die `basic`-Konfiguration, wenn kein Schalter in `dotnet run` angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d500f-106">The app defaults to the `basic` configuration when a switch isn't provided to `dotnet run`.</span></span>

| <span data-ttu-id="d500f-107">Szenario</span><span class="sxs-lookup"><span data-stu-id="d500f-107">Scenario</span></span>                                               | <span data-ttu-id="d500f-108">Befehl für die Beispiel-App</span><span class="sxs-lookup"><span data-stu-id="d500f-108">Sample app command</span></span>               | <span data-ttu-id="d500f-109">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="d500f-109">Description</span></span> |
| ------------------------------------------------------ | -------------------------------- | ----------- |
| <span data-ttu-id="d500f-110">Grundlegender Integritätstest (Standard)</span><span class="sxs-lookup"><span data-stu-id="d500f-110">Basic health probe (default)</span></span>                           | `dotnet run --scenario basic`    | <span data-ttu-id="d500f-111">Bestätigt, dass die App HTTP-Anforderungen verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="d500f-111">Confirms that the app can process HTTP requests.</span></span> |
| <span data-ttu-id="d500f-112">Datenbanktest</span><span class="sxs-lookup"><span data-stu-id="d500f-112">Database probe</span></span>                                         | `dotnet run --scenario db`       | <span data-ttu-id="d500f-113">Überprüft die Verbindung mit der SQL Server-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="d500f-113">Checks a SQL Server database connection.</span></span> <span data-ttu-id="d500f-114">Im Abschnitt [Datenbanktest](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) des Themas finden Sie Anweisungen dazu.</span><span class="sxs-lookup"><span data-stu-id="d500f-114">See the [Database probe](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) section of the topic for instructions.</span></span> |
| <span data-ttu-id="d500f-115">Tests auf Bereitschaft/Lebendigkeit</span><span class="sxs-lookup"><span data-stu-id="d500f-115">Readiness/liveness probes</span></span>                              | `dotnet run --scenario liveness` | <span data-ttu-id="d500f-116">Überprüft den Status einer Live-App (*Lebendigkeit*) im Vergleich zum Status einer App, die auf die Liveschaltung vorbereitet wird (*Bereitschaft*).</span><span class="sxs-lookup"><span data-stu-id="d500f-116">Performs checks for a live app status (*liveness*) versus the app preparing to become live (*readiness*).</span></span> |
| <span data-ttu-id="d500f-117">Metrikbasierter Test (Arbeitsspeicher)/</span><span class="sxs-lookup"><span data-stu-id="d500f-117">Metric-based probe (memory)/</span></span><br><span data-ttu-id="d500f-118">benutzerdefinierter Antwortwriter</span><span class="sxs-lookup"><span data-stu-id="d500f-118">custom response writer</span></span> | `dotnet run --scenario writer`   | <span data-ttu-id="d500f-119">Überprüft die Arbeitsspeichernutzung und schreibt benutzerdefinierten JSON-Code, wenn der Integritätsendpunkt geprüft wird.</span><span class="sxs-lookup"><span data-stu-id="d500f-119">Checks against memory use and writes out custom JSON when the health endpoint is checked.</span></span> |
| <span data-ttu-id="d500f-120">Filtern nach Port</span><span class="sxs-lookup"><span data-stu-id="d500f-120">Filter by port</span></span>                                         | `dotnet run --scenario port`     | <span data-ttu-id="d500f-121">Filtert Integritätsprüfungen nach einem bestimmten Port.</span><span class="sxs-lookup"><span data-stu-id="d500f-121">Filters health checks to a given port.</span></span> <span data-ttu-id="d500f-122">Im Abschnitt [Filtern nach Port](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) des Themas finden Sie Anweisungen dazu.</span><span class="sxs-lookup"><span data-stu-id="d500f-122">See the [Filter by port](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) section of the topic for instructions.</span></span> |

<span data-ttu-id="d500f-123">Die Szenarien für Datenbanktest und Portfilterung erfordern zusätzliche Konfigurationsschritte.</span><span class="sxs-lookup"><span data-stu-id="d500f-123">The database probe and port filter scenarios require additional configuration.</span></span> <span data-ttu-id="d500f-124">Details finden Sie im Thema [Integritätsprüfungen](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks).</span><span class="sxs-lookup"><span data-stu-id="d500f-124">See the [Health checks](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic for details.</span></span>
