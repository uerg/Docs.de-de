---
title: Modellbindung in ASP.NET Core
author: tdykstra
description: Erfahren Sie, wie die Modellbindung in ASP.NET Core MVC Aktionsmethodenparametern Daten aus HTTP-Anforderungen zuordnet.
ms.assetid: 0be164aa-1d72-4192-bd6b-192c9c301164
ms.author: tdykstra
ms.date: 08/14/2018
uid: mvc/models/model-binding
ms.openlocfilehash: 0ce20a8040c6b19da1f57e1c053a7ef81d8bcb23
ms.sourcegitcommit: d53e0cc71542b92de867bcce51575b054886f529
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 08/16/2018
ms.locfileid: "41751711"
---
# <a name="model-binding-in-aspnet-core"></a><span data-ttu-id="81d14-103">Modellbindung in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="81d14-103">Model Binding in ASP.NET Core</span></span>

<span data-ttu-id="81d14-104">Von [Rachel Appel](https://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="81d14-104">By [Rachel Appel](https://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-binding"></a><span data-ttu-id="81d14-105">Einführung in die Modellbindung</span><span class="sxs-lookup"><span data-stu-id="81d14-105">Introduction to model binding</span></span>

<span data-ttu-id="81d14-106">Die Modellbindung in ASP.NET Core MVC ordnet Daten aus HTTP-Anforderungen Aktionsmethodenparametern zu.</span><span class="sxs-lookup"><span data-stu-id="81d14-106">Model binding in ASP.NET Core MVC maps data from HTTP requests to action method parameters.</span></span> <span data-ttu-id="81d14-107">Diese Parameter können einfache Typen wie Zeichenfolgen, ganze Zahlen, Gleitkommazahlen oder komplexe Typen sein.</span><span class="sxs-lookup"><span data-stu-id="81d14-107">The parameters may be simple types such as strings, integers, or floats, or they may be complex types.</span></span> <span data-ttu-id="81d14-108">Dieses Feature von MVC ist sehr hilfreich, denn das Zuordnen von eingehenden Daten zu einem Gegenstück ist ein häufiges Szenario, unabhängig von der Größe und Komplexität der Daten.</span><span class="sxs-lookup"><span data-stu-id="81d14-108">This is a great feature of MVC because mapping incoming data to a counterpart is an often repeated scenario, regardless of size or complexity of the data.</span></span> <span data-ttu-id="81d14-109">MVC löst dieses Problem, indem die Bindung abstrahiert wird, sodass Entwickler nicht denselben Code für jede App umschreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="81d14-109">MVC solves this problem by abstracting binding away so developers don't have to keep rewriting a slightly different version of that same code in every app.</span></span> <span data-ttu-id="81d14-110">Einen eigenen Text-in-Typ-Konverter zu schreiben ist mühsam und fehleranfällig.</span><span class="sxs-lookup"><span data-stu-id="81d14-110">Writing your own text to type converter code is tedious, and error prone.</span></span>

## <a name="how-model-binding-works"></a><span data-ttu-id="81d14-111">So funktioniert die Modellbindung</span><span class="sxs-lookup"><span data-stu-id="81d14-111">How model binding works</span></span>

<span data-ttu-id="81d14-112">Wenn MVC eine HTTP-Anforderung empfängt, wird sie an eine bestimmte Aktionsmethode eines Controllers weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="81d14-112">When MVC receives an HTTP request, it routes it to a specific action method of a controller.</span></span> <span data-ttu-id="81d14-113">MVC bestimmt auf Grundlage der Routendaten, welche Aktionsmethode ausgeführt werden soll, und bindet dann Werte aus der HTTP-Anforderung an die Parameter dieser Aktionsmethode.</span><span class="sxs-lookup"><span data-stu-id="81d14-113">It determines which action method to run based on what is in the route data, then it binds values from the HTTP request to that action method's parameters.</span></span> <span data-ttu-id="81d14-114">Nehmen wir beispielsweise die folgende URL:</span><span class="sxs-lookup"><span data-stu-id="81d14-114">For example, consider the following URL:</span></span>

`http://contoso.com/movies/edit/2`

<span data-ttu-id="81d14-115">Da die Routenvorlage `{controller=Home}/{action=Index}/{id?}` entspricht, leitet `movies/edit/2` an den `Movies`-Controller und die zugehörige `Edit`-Aktionsmethode weiter.</span><span class="sxs-lookup"><span data-stu-id="81d14-115">Since the route template looks like this, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` routes to the `Movies` controller, and its `Edit` action method.</span></span> <span data-ttu-id="81d14-116">Diese akzeptiert auch einen optionalen Parameter namens `id`.</span><span class="sxs-lookup"><span data-stu-id="81d14-116">It also accepts an optional parameter called `id`.</span></span> <span data-ttu-id="81d14-117">Der Code für die Aktionsmethode sollte etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="81d14-117">The code for the action method should look something like this:</span></span>

```csharp
public IActionResult Edit(int? id)
   ```

<span data-ttu-id="81d14-118">Hinweis: Bei den Zeichenfolgen in der URL-Route wird die Groß-/Kleinschreibung nicht beachtet.</span><span class="sxs-lookup"><span data-stu-id="81d14-118">Note: The strings in the URL route are not case sensitive.</span></span>

<span data-ttu-id="81d14-119">MVC versucht, Anforderungsdaten anhand des Namens an die Aktionsparameter zu binden,</span><span class="sxs-lookup"><span data-stu-id="81d14-119">MVC will try to bind request data to the action parameters by name.</span></span> <span data-ttu-id="81d14-120">und sucht mithilfe des Parameternamens und der Namen der öffentlichen festlegbaren Eigenschaften nach Werten für jeden Parameter.</span><span class="sxs-lookup"><span data-stu-id="81d14-120">MVC will look for values for each parameter using the parameter name and the names of its public settable properties.</span></span> <span data-ttu-id="81d14-121">Im obigen Beispiel heißt der einzige Aktionsparameter `id`. Dieser wird von MVC an den Wert gebunden, der in den Routenwerten denselben Namen trägt.</span><span class="sxs-lookup"><span data-stu-id="81d14-121">In the above example, the only action parameter is named `id`, which MVC binds to the value with the same name in the route values.</span></span> <span data-ttu-id="81d14-122">Zusätzlich zu den Routenwerten bindet MVC Daten aus verschiedenen Teilen der Anforderung, und zwar in einer festgelegten Reihenfolge.</span><span class="sxs-lookup"><span data-stu-id="81d14-122">In addition to route values MVC will bind data from various parts of the request and it does so in a set order.</span></span> <span data-ttu-id="81d14-123">Bei der Modellbindung werden die folgenden Datenquellen in der folgenden Reihenfolge durchgegangen:</span><span class="sxs-lookup"><span data-stu-id="81d14-123">Below is a list of the data sources in the order that model binding looks through them:</span></span>

1. <span data-ttu-id="81d14-124">`Form values`: Dies sind Formularwerte, die in der HTTP-Anforderung mithilfe der POST-Methode verwendet werden</span><span class="sxs-lookup"><span data-stu-id="81d14-124">`Form values`: These are form values that go in the HTTP request using the POST method.</span></span> <span data-ttu-id="81d14-125">(einschließlich jQuery-POST-Anforderungen).</span><span class="sxs-lookup"><span data-stu-id="81d14-125">(including jQuery POST requests).</span></span>

2. <span data-ttu-id="81d14-126">`Route values`: Die vom [Routing](xref:fundamentals/routing) bereitgestellten Routenwerte</span><span class="sxs-lookup"><span data-stu-id="81d14-126">`Route values`: The set of route values provided by [Routing](xref:fundamentals/routing)</span></span>

3. <span data-ttu-id="81d14-127">`Query strings`: Die Abfragezeichenfolge des URIs</span><span class="sxs-lookup"><span data-stu-id="81d14-127">`Query strings`: The query string part of the URI.</span></span>

<!-- DocFX BUG
The link works but generates an error when building with DocFX
@fundamentals/routing
[Routing](xref:fundamentals/routing)
-->

<span data-ttu-id="81d14-128">Hinweis: Formularwerte, Routendaten und Abfragezeichenfolgen werden als Name/Wert-Paare gespeichert.</span><span class="sxs-lookup"><span data-stu-id="81d14-128">Note: Form values, route data, and query strings are all stored as name-value pairs.</span></span>

<span data-ttu-id="81d14-129">Da die Modellbindung einen Schlüssel namens `id` verlangt, `id` jedoch kein Teil der Formularwerte ist, wird in den Routenwerten nach diesem Schlüssel gesucht.</span><span class="sxs-lookup"><span data-stu-id="81d14-129">Since model binding asked for a key named `id` and there's nothing named `id` in the form values, it moved on to the route values looking for that key.</span></span> <span data-ttu-id="81d14-130">In unserem Beispiel befindet sich der Schlüssel dort.</span><span class="sxs-lookup"><span data-stu-id="81d14-130">In our example, it's a match.</span></span> <span data-ttu-id="81d14-131">Eine Bindung wird hergestellt, und der Wert wird in die ganze Zahl 2 konvertiert.</span><span class="sxs-lookup"><span data-stu-id="81d14-131">Binding happens, and the value is converted to the integer 2.</span></span> <span data-ttu-id="81d14-132">Dieselbe Anforderung mit „Edit(Zeichenfolgen-ID)“ würde in die Zeichenfolge „2“ konvertiert werden.</span><span class="sxs-lookup"><span data-stu-id="81d14-132">The same request using Edit(string id) would convert to the string "2".</span></span>

<span data-ttu-id="81d14-133">Bisher wurden in diesem Beispiel einfache Typen verwendet.</span><span class="sxs-lookup"><span data-stu-id="81d14-133">So far the example uses simple types.</span></span> <span data-ttu-id="81d14-134">Einfache Typen bestehen in MVC aus allen primitiven .NET-Typen oder aus Typen mit einem Zeichenfolgentypkonverter.</span><span class="sxs-lookup"><span data-stu-id="81d14-134">In MVC simple types are any .NET primitive type or type with a string type converter.</span></span> <span data-ttu-id="81d14-135">Falls der Aktionsmethodenparameter aus einer Klasse wie dem `Movie`-Typen besteht, der sowohl einfache als auch komplexe Typen als Eigenschaften enthält, kann die Modellbindung von MVC ihn trotzdem ordnungsgemäß verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="81d14-135">If the action method's parameter were a class such as the `Movie` type, which contains both simple and complex types as properties, MVC's model binding will still handle it nicely.</span></span> <span data-ttu-id="81d14-136">Sie nutzt Reflektion und Rekursion, um die Eigenschaften komplexer Typen auf der Suche nach Übereinstimmungen zu durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="81d14-136">It uses reflection and recursion to traverse the properties of complex types looking for matches.</span></span> <span data-ttu-id="81d14-137">Die Modellbindung sucht nach der Schreibweise *Parametername.Eigenschaftenname*, um Werte an Eigenschaften zu binden.</span><span class="sxs-lookup"><span data-stu-id="81d14-137">Model binding looks for the pattern *parameter_name.property_name* to bind values to properties.</span></span> <span data-ttu-id="81d14-138">Wenn keine übereinstimmenden Werte gefunden werden, versucht die Modellbindung, einfach anhand des Eigenschaftennamens Bindungen durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="81d14-138">If it doesn't find matching values of this form, it will attempt to bind using just the property name.</span></span> <span data-ttu-id="81d14-139">Bei Typen wie `Collection` sucht die Modellbindung nach Übereinstimmungen mit *Parametername[index]* oder nur *[index]*.</span><span class="sxs-lookup"><span data-stu-id="81d14-139">For those types such as `Collection` types, model binding looks for matches to *parameter_name[index]* or just *[index]*.</span></span> <span data-ttu-id="81d14-140">Bei der Modellbindung werden `Dictionary`-Typen ähnlich behandelt, da nur *parametername[key]* oder nur *[key]* verlangt wird, solange die Schlüssel aus einfachen Typen bestehen.</span><span class="sxs-lookup"><span data-stu-id="81d14-140">Model binding treats  `Dictionary` types similarly, asking for *parameter_name[key]* or just *[key]*, as long as the keys are simple types.</span></span> <span data-ttu-id="81d14-141">Unterstützte Schlüssel stimmen mit der Feldnamen-HTML überein und markieren Hilfsprogramme, die für den gleichen Modelltyp generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="81d14-141">Keys that are supported match the field names HTML and tag helpers generated for the same model type.</span></span> <span data-ttu-id="81d14-142">Dies ermöglicht die Erhaltung von Werten, sodass Formularfelder der Einfachheit halber mit der Benutzereingabe befüllt bleiben, z.B. wenn gebundene Daten aus einem Erstellungs- oder Bearbeitungsvorgang die Überprüfung nicht bestanden haben.</span><span class="sxs-lookup"><span data-stu-id="81d14-142">This enables round-tripping values so that the form fields remain filled with the user's input for their convenience, for example, when bound data from a create or edit didn't pass validation.</span></span>

<span data-ttu-id="81d14-143">Damit eine Bindung hergestellt werden kann, muss die Klasse einen öffentlichen Standardkonstruktor und der zu bindende Member öffentliche schreibbare Eigenschaften haben.</span><span class="sxs-lookup"><span data-stu-id="81d14-143">In order for binding to happen the class must have a public default constructor and member to be bound must be public writable properties.</span></span> <span data-ttu-id="81d14-144">Wenn die Modellbindung erfolgt, wird die Klasse nur mit dem öffentlichen Standardkonstruktor instanziiert. Anschließend können die Eigenschaften festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="81d14-144">When model binding happens the class will only be instantiated using the public default constructor, then the properties can be set.</span></span>

<span data-ttu-id="81d14-145">Wenn ein Parameter gebunden ist, beendet die Modellbindung die Suche nach Werten mit diesem Namen und fährt mit dem Binden des nächsten Parameters fort.</span><span class="sxs-lookup"><span data-stu-id="81d14-145">When a parameter is bound, model binding stops looking for values with that name and it moves on to bind the next parameter.</span></span> <span data-ttu-id="81d14-146">Andernfalls legt das Verhalten der Standardmodellbindung Parameter in Abhängigkeit ihres Typs auf ihre jeweiligen Standardwerte fest:</span><span class="sxs-lookup"><span data-stu-id="81d14-146">Otherwise, the default model binding behavior sets parameters to their default values depending on their type:</span></span>

* <span data-ttu-id="81d14-147">`T[]`: Mit Ausnahme von Arrays des Typs `byte[]` legt die Bindung Parameter des Typs `T[]` auf `Array.Empty<T>()` fest.</span><span class="sxs-lookup"><span data-stu-id="81d14-147">`T[]`: With the exception of arrays of type `byte[]`, binding sets parameters of type `T[]` to `Array.Empty<T>()`.</span></span> <span data-ttu-id="81d14-148">Arrays des Typs `byte[]` werden auf `null` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="81d14-148">Arrays of type `byte[]` are set to `null`.</span></span>

* <span data-ttu-id="81d14-149">Verweistypen: Die Bindung erstellt eine Instanz einer Klasse mit dem Standardkonstruktor, ohne Eigenschaften festzulegen.</span><span class="sxs-lookup"><span data-stu-id="81d14-149">Reference Types: Binding creates an instance of a class with the default constructor without setting properties.</span></span> <span data-ttu-id="81d14-150">Die Modellbindung legt `string`-Parameter jedoch auf `null` fest.</span><span class="sxs-lookup"><span data-stu-id="81d14-150">However, model binding sets `string` parameters to `null`.</span></span>

* <span data-ttu-id="81d14-151">Nullable-Typ: Nullable-Typen werden auf `null` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="81d14-151">Nullable Types: Nullable types are set to `null`.</span></span> <span data-ttu-id="81d14-152">Im obigen Beispiel legt die Modellbindung `id` auf `null` fest, da dessen Typ `int?` ist.</span><span class="sxs-lookup"><span data-stu-id="81d14-152">In the above example, model binding sets `id` to `null` since it's of type `int?`.</span></span>

* <span data-ttu-id="81d14-153">Werttypen: `T`-Typen, die keine Nullable-Typen sind, werden auf `default(T)` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="81d14-153">Value Types: Non-nullable value types of type `T` are set to `default(T)`.</span></span> <span data-ttu-id="81d14-154">Beispielsweise legt die Modellbindung einen Parameters `int id` auf 0 (null) fest.</span><span class="sxs-lookup"><span data-stu-id="81d14-154">For example, model binding will set a parameter `int id` to 0.</span></span> <span data-ttu-id="81d14-155">Sie sollten statt Standardwerten die Modellvalidierung oder Nullable-Typen verwenden.</span><span class="sxs-lookup"><span data-stu-id="81d14-155">Consider using model validation or nullable types rather than relying on default values.</span></span>

<span data-ttu-id="81d14-156">Wenn die Bindung fehlschlägt, gibt MVC keinen Fehler aus.</span><span class="sxs-lookup"><span data-stu-id="81d14-156">If binding fails, MVC doesn't throw an error.</span></span> <span data-ttu-id="81d14-157">Jede Aktion, die eine Benutzereingabe akzeptiert, sollte die Eigenschaft `ModelState.IsValid` prüfen.</span><span class="sxs-lookup"><span data-stu-id="81d14-157">Every action which accepts user input should check the `ModelState.IsValid` property.</span></span>

<span data-ttu-id="81d14-158">Hinweis: Jeder Eintrag in der `ModelState`-Eigenschaft des Controllers ist ein `ModelStateEntry`, das eine `Errors`-Eigenschaft enthält.</span><span class="sxs-lookup"><span data-stu-id="81d14-158">Note: Each entry in the controller's `ModelState` property is a `ModelStateEntry` containing an `Errors` property.</span></span> <span data-ttu-id="81d14-159">Es ist nur selten notwendig, diese Auflistung selbst abzufragen.</span><span class="sxs-lookup"><span data-stu-id="81d14-159">It's rarely necessary to query this collection yourself.</span></span> <span data-ttu-id="81d14-160">Verwenden Sie stattdessen `ModelState.IsValid`.</span><span class="sxs-lookup"><span data-stu-id="81d14-160">Use `ModelState.IsValid` instead.</span></span>

<span data-ttu-id="81d14-161">Darüber hinaus gibt es einige spezielle Datentypen, die MVC beim Ausführen der Modellbindung berücksichtigen muss:</span><span class="sxs-lookup"><span data-stu-id="81d14-161">Additionally, there are some special data types that MVC must consider when performing model binding:</span></span>

* <span data-ttu-id="81d14-162">`IFormFile`, `IEnumerable<IFormFile>`: Eine oder mehrere hochgeladene Dateien, die Teil der HTTP-Anforderung sind.</span><span class="sxs-lookup"><span data-stu-id="81d14-162">`IFormFile`, `IEnumerable<IFormFile>`: One or more uploaded files that are part of the HTTP request.</span></span>

* <span data-ttu-id="81d14-163">`CancellationToken`: Wird verwendet, um die Aktivität in asynchronen Controllern zu beenden.</span><span class="sxs-lookup"><span data-stu-id="81d14-163">`CancellationToken`: Used to cancel activity in asynchronous controllers.</span></span>

<span data-ttu-id="81d14-164">Diese Typen können an Aktionsparameter oder Eigenschaften eines Klassentyps gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="81d14-164">These types can be bound to action parameters or to properties on a class type.</span></span>

<span data-ttu-id="81d14-165">Nach Abschluss der Modellbindung, wird die [Validierung](validation.md) ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="81d14-165">Once model binding is complete, [Validation](validation.md) occurs.</span></span> <span data-ttu-id="81d14-166">Die Standardmodellbindung funktioniert hervorragend für die meisten Entwicklungsszenarios.</span><span class="sxs-lookup"><span data-stu-id="81d14-166">Default model binding works great for the vast majority of development scenarios.</span></span> <span data-ttu-id="81d14-167">Sie ist außerdem erweiterbar. Wenn Sie also besondere Anforderungen haben, können Sie das integrierte Verhalten anpassen.</span><span class="sxs-lookup"><span data-stu-id="81d14-167">It's also extensible so if you have unique needs you can customize the built-in behavior.</span></span>

## <a name="customize-model-binding-behavior-with-attributes"></a><span data-ttu-id="81d14-168">Anpassen des Modellbindungsverhaltens mit Attributen</span><span class="sxs-lookup"><span data-stu-id="81d14-168">Customize model binding behavior with attributes</span></span>

<span data-ttu-id="81d14-169">MVC enthält mehrere Attribute, mit denen Sie das Standardverhalten der Modellbindung auf eine andere Datenquelle richten können.</span><span class="sxs-lookup"><span data-stu-id="81d14-169">MVC contains several attributes that you can use to direct its default model binding behavior to a different source.</span></span> <span data-ttu-id="81d14-170">Sie können beispielsweise angeben, ob die Bindung für eine Eigenschaft erforderlich ist oder ob sie überhaupt niemals mithilfe der Attribute `[BindRequired]` oder `[BindNever]` erfolgen sollte.</span><span class="sxs-lookup"><span data-stu-id="81d14-170">For example, you can specify whether binding is required for a property, or if it should never happen at all by using the `[BindRequired]` or `[BindNever]` attributes.</span></span> <span data-ttu-id="81d14-171">Alternativ können Sie die Standarddatenquelle überschreiben und die Datenquelle der Modellbindung angeben.</span><span class="sxs-lookup"><span data-stu-id="81d14-171">Alternatively, you can override the default data source, and specify the model binder's data source.</span></span> <span data-ttu-id="81d14-172">Es folgt eine Liste der Modellbindungsattribute:</span><span class="sxs-lookup"><span data-stu-id="81d14-172">Below is a list of model binding attributes:</span></span>

* <span data-ttu-id="81d14-173">`[BindRequired]`: Dieses Attribut fügt einen Modellzustandsfehler hinzu, wenn kein Bindung hergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="81d14-173">`[BindRequired]`: This attribute adds a model state error if binding cannot occur.</span></span>

* <span data-ttu-id="81d14-174">`[BindNever]`: Dieses Attribut weist die Modellbindung an, nie an diesen Parameter zu binden.</span><span class="sxs-lookup"><span data-stu-id="81d14-174">`[BindNever]`: Tells the model binder to never bind to this parameter.</span></span>

* <span data-ttu-id="81d14-175">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Mit diesen Attributen können Sie genau die gewünschte Bindungsquelle angeben.</span><span class="sxs-lookup"><span data-stu-id="81d14-175">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Use these to specify the exact binding source you want to apply.</span></span>

* <span data-ttu-id="81d14-176">`[FromServices]`: Dieses Attribut verwendet [Dependency Injection](../../fundamentals/dependency-injection.md), um Parameter aus Diensten zu binden.</span><span class="sxs-lookup"><span data-stu-id="81d14-176">`[FromServices]`: This attribute uses [dependency injection](../../fundamentals/dependency-injection.md) to bind parameters from services.</span></span>

* <span data-ttu-id="81d14-177">`[FromBody]`: Mithilfe der konfigurierten Formatierer können Sie Daten aus dem Anforderungstext binden.</span><span class="sxs-lookup"><span data-stu-id="81d14-177">`[FromBody]`: Use the configured formatters to bind data from the request body.</span></span> <span data-ttu-id="81d14-178">Der Formatierer wird basierend auf dem Inhaltstyp der Anforderung ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="81d14-178">The formatter is selected based on content type of the request.</span></span>

* <span data-ttu-id="81d14-179">`[ModelBinder]`: Mit diesem Attribut können Sie die Standardmodellbindung, die Bindungsquelle und den Namen überschreiben.</span><span class="sxs-lookup"><span data-stu-id="81d14-179">`[ModelBinder]`: Used to override the default model binder, binding source and name.</span></span>

<span data-ttu-id="81d14-180">Attribute sind sehr nützliche Tools, wenn Sie das Standardverhalten der Modellbindung überschreiben möchten.</span><span class="sxs-lookup"><span data-stu-id="81d14-180">Attributes are very helpful tools when you need to override the default behavior of model binding.</span></span>

## <a name="customize-model-binding-and-validation-globally"></a><span data-ttu-id="81d14-181">Globales Anpassen der Modellbindung und der Überprüfung</span><span class="sxs-lookup"><span data-stu-id="81d14-181">Customize model binding and validation globally</span></span>

<span data-ttu-id="81d14-182">Das Verhalten des Systems für die Modellbindung und Überprüfung wird durch die Klasse [ModelMetadata](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelmetadata) gesteuert, die Folgendes beschreibt:</span><span class="sxs-lookup"><span data-stu-id="81d14-182">The model binding and validation system's behavior is driven by [ModelMetadata](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelmetadata) that describes:</span></span>

* <span data-ttu-id="81d14-183">Wie ein Modell gebunden werden soll.</span><span class="sxs-lookup"><span data-stu-id="81d14-183">How a model is to be bound.</span></span>
* <span data-ttu-id="81d14-184">Wie die Überprüfung für den Typ und dessen Eigenschaften erfolgt.</span><span class="sxs-lookup"><span data-stu-id="81d14-184">How validation occurs on the type and its properties.</span></span>

<span data-ttu-id="81d14-185">Die Aspekte des Systemverhaltens können durch Hinzufügen eines Detailanbieters zu [MvcOptions.ModelMetadataDetailsProviders](/dotnet/api/microsoft.aspnetcore.mvc.mvcoptions.modelmetadatadetailsproviders#Microsoft_AspNetCore_Mvc_MvcOptions_ModelMetadataDetailsProviders) global konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="81d14-185">Aspects of the system's behavior can be configured globally by adding a details provider to [MvcOptions.ModelMetadataDetailsProviders](/dotnet/api/microsoft.aspnetcore.mvc.mvcoptions.modelmetadatadetailsproviders#Microsoft_AspNetCore_Mvc_MvcOptions_ModelMetadataDetailsProviders).</span></span> <span data-ttu-id="81d14-186">MVC enthält einige integrierte Detailanbieter, die das Konfigurieren des Verhalten wie das Deaktivieren der Modellbindung oder der Überprüfung für bestimmte Typen ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="81d14-186">MVC has a few built-in details providers that allow configuring behavior such as disabling model binding or validation for certain types.</span></span>

<span data-ttu-id="81d14-187">Fügen Sie [ExcludeBindingMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.excludebindingmetadataprovider) in `Startup.ConfigureServices` hinzu, um die Modellbindung für alle Modelle eines bestimmten Typs zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="81d14-187">To disable model binding on all models of a certain type, add an [ExcludeBindingMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.excludebindingmetadataprovider) in `Startup.ConfigureServices`.</span></span> <span data-ttu-id="81d14-188">Beispielsweise können Sie die Modellbindung für alle Modelle vom Typ `System.Version` wie folgt deaktivieren:</span><span class="sxs-lookup"><span data-stu-id="81d14-188">For example, to disable model binding on all models of type `System.Version`:</span></span>

```csharp
services.AddMvc().AddMvcOptions(options =>
    options.ModelMetadataDetailsProviders.Add(
        new ExcludeBindingMetadataProvider(typeof(System.Version))));
```

<span data-ttu-id="81d14-189">Fügen Sie [SuppressChildValidationMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.suppresschildvalidationmetadataprovider) in `Startup.ConfigureServices` hinzu, um die Überprüfung von Eigenschaften eines bestimmten Typs zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="81d14-189">To disable validation on properties of a certain type, add a [SuppressChildValidationMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.suppresschildvalidationmetadataprovider) in `Startup.ConfigureServices`.</span></span> <span data-ttu-id="81d14-190">Beispielsweise können Sie die Überprüfung von Eigenschaften vom Typ `System.Guid` wie folgt deaktivieren:</span><span class="sxs-lookup"><span data-stu-id="81d14-190">For example, to disable validation on properties of type `System.Guid`:</span></span>

```csharp
services.AddMvc().AddMvcOptions(options =>
    options.ModelMetadataDetailsProviders.Add(
        new SuppressChildValidationMetadataProvider(typeof(System.Guid))));
```

## <a name="bind-formatted-data-from-the-request-body"></a><span data-ttu-id="81d14-191">Binden formatierter Daten aus dem Anforderungstext</span><span class="sxs-lookup"><span data-stu-id="81d14-191">Bind formatted data from the request body</span></span>

<span data-ttu-id="81d14-192">Anforderungsdaten können in einer Vielzahl von Formaten wie JSON und XML vorliegen.</span><span class="sxs-lookup"><span data-stu-id="81d14-192">Request data can come in a variety of formats including JSON, XML and many others.</span></span> <span data-ttu-id="81d14-193">Wenn Sie mit dem Attribut [FromBody] angeben, dass Sie einen Parameter an Daten im Anforderungstext binden möchten, verwendet MVC einige konfigurierte Formatierer, um die Daten basierend auf deren Inhaltstyp zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="81d14-193">When you use the [FromBody] attribute to indicate that you want to bind a parameter to data in the request body, MVC uses a configured set of formatters to handle the request data based on its content type.</span></span> <span data-ttu-id="81d14-194">MVC umfasst standardmäßig eine `JsonInputFormatter`-Klasse für die Verarbeitung von JSON-Daten. Sie können jedoch zusätzliche Formatierer für die Verarbeitung von XML und anderen benutzerdefinierten Formaten hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="81d14-194">By default MVC includes a `JsonInputFormatter` class for handling JSON data, but you can add additional formatters for handling XML and other custom formats.</span></span>

> [!NOTE]
> <span data-ttu-id="81d14-195">Es kann höchstens ein Parameter pro Aktion um `[FromBody]` ergänzt werden.</span><span class="sxs-lookup"><span data-stu-id="81d14-195">There can be at most one parameter per action decorated with `[FromBody]`.</span></span> <span data-ttu-id="81d14-196">Die ASP.NET-MVC-Runtime delegiert die Verantwortung, den Anforderungsdatenstrom zu lesen, an den Formatierer.</span><span class="sxs-lookup"><span data-stu-id="81d14-196">The ASP.NET Core MVC run-time delegates the responsibility of reading the request stream to the formatter.</span></span> <span data-ttu-id="81d14-197">Sobald der Anforderungsdatenstrom auf einen Parameter gelesen wurde, kann der Anforderungsdatenstrom üblicherweise nicht erneut zum Binden von anderen `[FromBody]`-Parametern gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="81d14-197">Once the request stream is read for a parameter, it's generally not possible to read the request stream again for binding other `[FromBody]` parameters.</span></span>

> [!NOTE]
> <span data-ttu-id="81d14-198">`JsonInputFormatter` ist der Standardformatierer und basiert auf [Json.NET](https://www.newtonsoft.com/json).</span><span class="sxs-lookup"><span data-stu-id="81d14-198">The `JsonInputFormatter` is the default formatter and is based on [Json.NET](https://www.newtonsoft.com/json).</span></span>

<span data-ttu-id="81d14-199">ASP.NET Core wählt Eingabeformatierer basierend auf dem Header [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) und dem Parametertyp aus, es sei denn, es wird ein Attribut darauf angewendet, das etwas anderes angibt.</span><span class="sxs-lookup"><span data-stu-id="81d14-199">ASP.NET Core selects input formatters based on the [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) header and the type of the parameter, unless there's an attribute applied to it specifying otherwise.</span></span> <span data-ttu-id="81d14-200">Wenn Sie XML-Code oder ein anderes Format verwenden möchten, müssen Sie es in der Datei *Startup.cs* konfigurieren. Zunächst müssen Sie jedoch ggf. einen Verweis auf `Microsoft.AspNetCore.Mvc.Formatters.Xml` mithilfe von NuGet abrufen.</span><span class="sxs-lookup"><span data-stu-id="81d14-200">If you'd like to use XML or another format you must configure it in the *Startup.cs* file, but you may first have to obtain a reference to `Microsoft.AspNetCore.Mvc.Formatters.Xml` using NuGet.</span></span> <span data-ttu-id="81d14-201">Der Startcode sollte in etwa folgendermaßen aussehen:</span><span class="sxs-lookup"><span data-stu-id="81d14-201">Your startup code should look something like this:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddXmlSerializerFormatters();
   }
```

<span data-ttu-id="81d14-202">Der Code in der Datei *Startup.cs* enthält eine `ConfigureServices`-Methode mit einem `services`-Argument, mit dem Sie Dienste für Ihre ASP.NET Core-App erstellen können.</span><span class="sxs-lookup"><span data-stu-id="81d14-202">Code in the *Startup.cs* file contains a `ConfigureServices` method with a `services` argument you can use to build up services for your ASP.NET Core app.</span></span> <span data-ttu-id="81d14-203">In diesem Beispiel werden wir einen XML-Formatierer als Dienst hinzufügen, den MVC für diese App bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="81d14-203">In the sample, we are adding an XML formatter as a service that MVC will provide for this app.</span></span> <span data-ttu-id="81d14-204">Mit dem an die `AddMvc`-Methode übergebenen `options`-Argument können Sie Filter, Formatierer und andere Systemoptionen von MVC beim Start der App hinzufügen und verwalten.</span><span class="sxs-lookup"><span data-stu-id="81d14-204">The `options` argument passed into the `AddMvc` method allows you to add and manage filters, formatters, and other system options from MVC upon app startup.</span></span> <span data-ttu-id="81d14-205">Wenden Sie dann das `Consumes`-Attribut auf Controllerklassen oder Aktionsmethoden an, damit sie mit allen Formaten funktionieren.</span><span class="sxs-lookup"><span data-stu-id="81d14-205">Then apply the `Consumes` attribute to controller classes or action methods to work with the format you want.</span></span>

### <a name="custom-model-binding"></a><span data-ttu-id="81d14-206">Benutzerdefinierte Modellbindung</span><span class="sxs-lookup"><span data-stu-id="81d14-206">Custom Model Binding</span></span>

<span data-ttu-id="81d14-207">Sie können die Modellbindung erweitern, indem Sie Ihre eigene benutzerdefinierte Modellbindung schreiben.</span><span class="sxs-lookup"><span data-stu-id="81d14-207">You can extend model binding by writing your own custom model binders.</span></span> <span data-ttu-id="81d14-208">Erfahren Sie mehr über die [benutzerdefinierte Modellbindung](../advanced/custom-model-binding.md).</span><span class="sxs-lookup"><span data-stu-id="81d14-208">Learn more about [custom model binding](../advanced/custom-model-binding.md).</span></span>
