---
uid: web-pages/overview/data/7-displaying-data-in-a-chart
title: Anzeigen von Daten in einem Diagramm mit ASP.NET Web Pages (Razor) | Microsoft-Dokumentation
author: microsoft
description: In diesem Kapitel wird erläutert, wie Daten in einem Diagramm angezeigt wird. In den vorherigen Kapiteln haben Sie gelernt, wie Daten manuell und in einem Raster angezeigt werden. In diesem Kapitel wird erläutert...
ms.author: riande
ms.date: 05/22/2012
ms.assetid: f889fd46-4dac-4ecb-83d8-60e64c22036e
msc.legacyurl: /web-pages/overview/data/7-displaying-data-in-a-chart
msc.type: authoredcontent
ms.openlocfilehash: 00529355476e88c47ab790121ae77202aa5e7b76
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/16/2018
ms.locfileid: "41833507"
---
<a name="displaying-data-in-a-chart-with-aspnet-web-pages-razor"></a><span data-ttu-id="6cba5-105">Anzeigen von Daten in einem Diagramm mit ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="6cba5-105">Displaying Data in a Chart with ASP.NET Web Pages (Razor)</span></span>
====================
<span data-ttu-id="6cba5-106">durch [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="6cba5-106">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="6cba5-107">In diesem Artikel wird erläutert, wie Sie ein Diagramm zu verwenden, zum Anzeigen von Daten in einer ASP.NET Web Pages (Razor)-Website mithilfe der `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="6cba5-107">This article explains how to use a chart to display data in an ASP.NET Web Pages (Razor) website by using the `Chart` helper.</span></span>
> 
> <span data-ttu-id="6cba5-108">**Sie lernen Folgendes**:</span><span class="sxs-lookup"><span data-stu-id="6cba5-108">**What you'll learn**:</span></span>
> 
> - <span data-ttu-id="6cba5-109">Informationen zum Anzeigen von Daten in einem Diagramm.</span><span class="sxs-lookup"><span data-stu-id="6cba5-109">How to display data in a chart.</span></span>
> - <span data-ttu-id="6cba5-110">Informationen zum Formatieren von Diagrammen, die unter Verwendung von integrierten Designs.</span><span class="sxs-lookup"><span data-stu-id="6cba5-110">How to style charts using built-in themes.</span></span>
> - <span data-ttu-id="6cba5-111">Gewusst wie: Speichern von Diagrammen und wie sie für eine bessere Leistung zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="6cba5-111">How to save charts and how to cache them for better performance.</span></span>
> 
> <span data-ttu-id="6cba5-112">Hierbei handelt es sich um das ASP.NET-PROGRAMMIERMODELL in diesem Artikel vorgestellten Funktionen dar:</span><span class="sxs-lookup"><span data-stu-id="6cba5-112">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="6cba5-113">Die `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="6cba5-113">The `Chart` helper.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="6cba5-114">Die Informationen in diesem Artikel gelten für ASP.NET Web Pages-1.0- und Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="6cba5-114">The information in this article applies to ASP.NET Web Pages 1.0 and Web Pages 2.</span></span>


<a id="The_Chart_Helper"></a>
## <a name="the-chart-helper"></a><span data-ttu-id="6cba5-115">Der Diagramm-Hilfe</span><span class="sxs-lookup"><span data-stu-id="6cba5-115">The Chart Helper</span></span>

<span data-ttu-id="6cba5-116">Wenn Sie Ihre Daten in grafischer Form anzeigen möchten, können Sie `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="6cba5-116">When you want to display your data in graphical form, you can use `Chart` helper.</span></span> <span data-ttu-id="6cba5-117">Die `Chart` Hilfsprogramm kann ein Bild, das Daten, in einer Vielzahl von Diagrammtypen anzeigt rendern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-117">The `Chart` helper can render an image that displays data in a variety of chart types.</span></span> <span data-ttu-id="6cba5-118">Er unterstützt viele Optionen zum Formatieren und beschriften.</span><span class="sxs-lookup"><span data-stu-id="6cba5-118">It supports many options for formatting and labeling.</span></span> <span data-ttu-id="6cba5-119">Die `Chart` Hilfsprogramm kann mehr als 30 Arten von Diagrammen, einschließlich aller Typen von Diagrammen, die Sie von Microsoft Excel oder anderen Tools möglicherweise Rendern &#8212; Flächendiagramme, Balkendiagramme, Säulendiagrammen, Linien- und Diagrammen als Kreisdiagrammen sowie weitere spezialisierter Diagramme wie Kursdiagramme.</span><span class="sxs-lookup"><span data-stu-id="6cba5-119">The `Chart` helper can render more than 30 types of charts, including all the types of charts that you might be familiar with from Microsoft Excel or other tools &#8212; area charts, bar charts, column charts, line charts, and pie charts, along with more specialized charts like stock charts.</span></span>

| <span data-ttu-id="6cba5-120">**Flächendiagramm** ![Beschreibung: Bild des flächendiagrammtyps](7-displaying-data-in-a-chart/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="6cba5-120">**Area chart** ![Description: Picture of the Area chart type](7-displaying-data-in-a-chart/_static/image1.jpg)</span></span> | <span data-ttu-id="6cba5-121">**Balkendiagramm** ![Beschreibung: Bild des balkendiagrammtyps](7-displaying-data-in-a-chart/_static/image2.jpg)</span><span class="sxs-lookup"><span data-stu-id="6cba5-121">**Bar chart** ![Description: Picture of the Bar chart type](7-displaying-data-in-a-chart/_static/image2.jpg)</span></span> |
| --- | --- |
| <span data-ttu-id="6cba5-122">**Säulendiagramm** ![Beschreibung: Bild des säulendiagrammtyps](7-displaying-data-in-a-chart/_static/image3.jpg)</span><span class="sxs-lookup"><span data-stu-id="6cba5-122">**Column chart** ![Description: Picture of the Column chart type](7-displaying-data-in-a-chart/_static/image3.jpg)</span></span> | <span data-ttu-id="6cba5-123">**Liniendiagramm** ![Beschreibung: Bild des liniendiagrammtyps](7-displaying-data-in-a-chart/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="6cba5-123">**Line chart** ![Description: Picture of the Line chart type](7-displaying-data-in-a-chart/_static/image4.jpg)</span></span> |
| <span data-ttu-id="6cba5-124">**Kreisdiagramm** ![Beschreibung: Bild des kreisdiagrammtyps](7-displaying-data-in-a-chart/_static/image5.jpg)</span><span class="sxs-lookup"><span data-stu-id="6cba5-124">**Pie chart** ![Description: Picture of the Pie chart type](7-displaying-data-in-a-chart/_static/image5.jpg)</span></span> | <span data-ttu-id="6cba5-125">**Kursdiagramm** ![Beschreibung: Bild des kursdiagrammtyps](7-displaying-data-in-a-chart/_static/image6.jpg)</span><span class="sxs-lookup"><span data-stu-id="6cba5-125">**Stock chart** ![Description: Picture of the Stock chart type](7-displaying-data-in-a-chart/_static/image6.jpg)</span></span> |

### <a name="chart-elements"></a><span data-ttu-id="6cba5-126">Diagrammelemente</span><span class="sxs-lookup"><span data-stu-id="6cba5-126">Chart Elements</span></span>

<span data-ttu-id="6cba5-127">Diagramme stellen die Daten und zusätzliche Elemente, z. B. Legenden, Achsen, Reihen und So weiter.</span><span class="sxs-lookup"><span data-stu-id="6cba5-127">Charts show data and additional elements like legends, axes, series, and so on.</span></span> <span data-ttu-id="6cba5-128">Die folgende Abbildung zeigt viele der Diagrammelemente, die Sie anpassen können, bei der Verwendung der `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="6cba5-128">The following picture shows many of the chart elements that you can customize when you use the `Chart` helper.</span></span> <span data-ttu-id="6cba5-129">In diesem Artikel erfahren Sie, wie Sie festlegen (nicht alle) Elemente.</span><span class="sxs-lookup"><span data-stu-id="6cba5-129">This article shows you how to set some (not all) of these elements.</span></span>

![Beschreibung: Bild der Diagrammelemente](7-displaying-data-in-a-chart/_static/image7.jpg)

<a id="Creating_a_Chart"></a>
## <a name="creating-a-chart-from-data"></a><span data-ttu-id="6cba5-131">Erstellen eines Diagramms aus Daten</span><span class="sxs-lookup"><span data-stu-id="6cba5-131">Creating a Chart from Data</span></span>

<span data-ttu-id="6cba5-132">Die Daten, die Sie in einem Diagramm anzeigen, können aus einem Array, aus den Ergebnissen zurückgegeben, die aus einer Datenbank oder von Daten in eine XML-Datei sein.</span><span class="sxs-lookup"><span data-stu-id="6cba5-132">The data you display in a chart can be from an array, from the results returned from a database, or from data that's in an XML file.</span></span>

### <a name="using-an-array"></a><span data-ttu-id="6cba5-133">Ein Array</span><span class="sxs-lookup"><span data-stu-id="6cba5-133">Using an Array</span></span>

<span data-ttu-id="6cba5-134">Siehe [Einführung in ASP.NET Web Pages-Programmierung verwenden die Razor-Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), ein Array können Sie eine Sammlung mit ähnlichen Elementen in einer einzelnen Variablen zu speichern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-134">As explained in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), an array lets you store a collection of similar items in a single variable.</span></span> <span data-ttu-id="6cba5-135">Sie können Arrays verwenden, um die Daten aufzunehmen, die Sie in Ihr Diagramm aufnehmen möchten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-135">You can use arrays to contain the data that you want to include in your chart.</span></span>

<span data-ttu-id="6cba5-136">Diese Prozedur zeigt, wie Sie ein Diagramm aus Daten in Arrays erstellen können mithilfe des Standarddiagrammtyp.</span><span class="sxs-lookup"><span data-stu-id="6cba5-136">This procedure shows how you can create a chart from data in arrays, using the default chart type.</span></span> <span data-ttu-id="6cba5-137">Es wird gezeigt, wie im Diagramm auf der Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-137">It also shows how to display the chart within the page.</span></span>

1. <span data-ttu-id="6cba5-138">Erstellen Sie eine neue Datei namens *ChartArrayBasic.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-138">Create a new file named *ChartArrayBasic.cshtml*.</span></span>
2. <span data-ttu-id="6cba5-139">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-139">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample1.cshtml)]

    <span data-ttu-id="6cba5-140">Der Code zuerst erstellt ein neues Diagramm, und legt die Breite und Höhe.</span><span class="sxs-lookup"><span data-stu-id="6cba5-140">The code first creates a new chart and sets its width and height.</span></span> <span data-ttu-id="6cba5-141">Geben Sie den Diagrammtitel mithilfe der `AddTitle` Methode.</span><span class="sxs-lookup"><span data-stu-id="6cba5-141">You specify the chart title by using the `AddTitle` method.</span></span> <span data-ttu-id="6cba5-142">Um Daten hinzuzufügen, verwenden Sie die `AddSeries` Methode.</span><span class="sxs-lookup"><span data-stu-id="6cba5-142">To add data, you use the `AddSeries` method.</span></span> <span data-ttu-id="6cba5-143">In diesem Beispiel verwenden Sie die `name`, `xValue`, und `yValues` Parameter von der `AddSeries` Methode.</span><span class="sxs-lookup"><span data-stu-id="6cba5-143">In this example, you use the `name`, `xValue`, and `yValues` parameters of the `AddSeries` method.</span></span> <span data-ttu-id="6cba5-144">Die `name` Parameter wird in der Diagrammlegende angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-144">The `name` parameter is displayed in the chart legend.</span></span> <span data-ttu-id="6cba5-145">Die `xValue` Parameter enthält ein Array von Daten, die entlang der horizontalen Achse des Diagramms angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6cba5-145">The `xValue` parameter contains an array of data that's displayed along the horizontal axis of the chart.</span></span> <span data-ttu-id="6cba5-146">Die `yValues` Parameter enthält ein Array von Daten, die verwendet wird, um die vertikalen Punkte des Diagramms zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-146">The `yValues` parameter contains an array of data that's used to plot the vertical points of the chart.</span></span>

    <span data-ttu-id="6cba5-147">Die `Write` rendert die Methode tatsächlich im Diagramm.</span><span class="sxs-lookup"><span data-stu-id="6cba5-147">The `Write` method actually renders the chart.</span></span> <span data-ttu-id="6cba5-148">In diesem Fall, da Sie keinen Diagrammtyp angegeben haben die `Chart` rendert die Standarddiagramm, d.h. ein Säulendiagramm.</span><span class="sxs-lookup"><span data-stu-id="6cba5-148">In this case, because you didn't specify a chart type, the `Chart` helper renders its default chart, which is a column chart.</span></span>
3. <span data-ttu-id="6cba5-149">Führen Sie die Seite im Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-149">Run the page in the browser.</span></span> <span data-ttu-id="6cba5-150">Der Browser zeigt das Diagramm.</span><span class="sxs-lookup"><span data-stu-id="6cba5-150">The browser displays the chart.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image8.jpg)

### <a name="using-a-database-query-for-chart-data"></a><span data-ttu-id="6cba5-151">Mithilfe einer Abfrage für die Diagrammdaten</span><span class="sxs-lookup"><span data-stu-id="6cba5-151">Using a Database Query for Chart Data</span></span>

<span data-ttu-id="6cba5-152">Wenn die Informationen, die Sie darstellen möchten in einer Datenbank ist, können Sie Ausführen eine Datenbankabfrage und verwenden Sie dann die Daten aus den Ergebnissen auf um das Diagramm zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-152">If the information you want to chart is in a database, you can run a database query and then use data from the results to create the chart.</span></span> <span data-ttu-id="6cba5-153">Dieses Verfahren zeigt, wie zum Lesen und Anzeigen der Daten aus der Datenbank, die in diesem Artikel erstellten [Einführung in die Arbeit mit einer Datenbank in ASP.NET Web Pages-Websites](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="6cba5-153">This procedure shows you how to read and display the data from the database created in the article [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>

1. <span data-ttu-id="6cba5-154">Hinzufügen einer *App\_Daten* Ordner in das Stammverzeichnis der Website ein, wenn der Ordner nicht bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="6cba5-154">Add an *App\_Data* folder to the root of the website if the folder does not already exist.</span></span>
2. <span data-ttu-id="6cba5-155">In der *App\_Daten* Ordner, fügen Sie die Datenbankdatei mit dem Namen *SmallBakery.sdf* , finden Sie im [Einführung in die Arbeit mit einer Datenbank in ASP.NET Web Pages-Websites](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="6cba5-155">In the *App\_Data* folder, add the database file named *SmallBakery.sdf* that's described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>
3. <span data-ttu-id="6cba5-156">Erstellen Sie eine neue Datei namens *ChartDataQuery.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-156">Create a new file named *ChartDataQuery.cshtml*.</span></span>
4. <span data-ttu-id="6cba5-157">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-157">Replace the existing content with the following:</span></span>   

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample2.cshtml)]

    <span data-ttu-id="6cba5-158">Der Code zuerst die SmallBakery-Datenbank wird geöffnet und weist sie einer Variablen namens `db`.</span><span class="sxs-lookup"><span data-stu-id="6cba5-158">The code first opens the SmallBakery database and assigns it to a variable named `db`.</span></span> <span data-ttu-id="6cba5-159">Diese Variable steht für eine `Database` -Objekt, das Lese-und Schreibberechtigungen für die Datenbank verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="6cba5-159">This variable represents a `Database` object that can be used to read from and write to the database.</span></span> <span data-ttu-id="6cba5-160">Als Nächstes führt der Code eine SQL-Abfrage zum Abrufen des Namens und der Preis für jedes Produkt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-160">Next, the code runs a SQL query to get the name and price of each product.</span></span> <span data-ttu-id="6cba5-161">Der Code erstellt ein neues Diagramm und übergibt Sie die Datenbankabfrage, durch den Aufruf des Diagramms `DataBindTable` Methode.</span><span class="sxs-lookup"><span data-stu-id="6cba5-161">The code creates a new chart and passes the database query to it by calling the chart's `DataBindTable` method.</span></span> <span data-ttu-id="6cba5-162">Diese Methode akzeptiert zwei Parameter: den `dataSource` Parameter ist für die Daten aus der Abfrage und die `xField` Parameter können Sie festlegen, welche Datenspalte für die x-Achse verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6cba5-162">This method takes two parameters: the `dataSource` parameter is for the data from the query, and the `xField` parameter lets you set which data column is used for the chart's x-axis.</span></span>

    <span data-ttu-id="6cba5-163">Als Alternative zur Verwendung der `DataBindTable` -Methode, die Sie verwenden die `AddSeries` -Methode der der `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="6cba5-163">As an alternative to using the `DataBindTable` method, you can use the `AddSeries` method of the `Chart` helper.</span></span> <span data-ttu-id="6cba5-164">Die `AddSeries` Methode ermöglicht das Festlegen der `xValue` und `yValues` Parameter.</span><span class="sxs-lookup"><span data-stu-id="6cba5-164">The `AddSeries` method lets you set the `xValue` and `yValues` parameters.</span></span> <span data-ttu-id="6cba5-165">Z. B. statt der `DataBindTable` Methode wie folgt:</span><span class="sxs-lookup"><span data-stu-id="6cba5-165">For example, instead of using the `DataBindTable` method like this:</span></span>

    [!code-css[Main](7-displaying-data-in-a-chart/samples/sample3.css)]

    <span data-ttu-id="6cba5-166">Sie können die `AddSeries` Methode wie folgt:</span><span class="sxs-lookup"><span data-stu-id="6cba5-166">You can use the `AddSeries` method like this:</span></span>

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample4.html)]

    <span data-ttu-id="6cba5-167">Beide die gleichen Ergebnisse zu rendern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-167">Both render the same results.</span></span> <span data-ttu-id="6cba5-168">Die `AddSeries` Methode ist flexibler, da Sie den Diagrammtyp und Daten mehr explizit angeben, können aber die `DataBindTable` Methode ist einfacher zu verwenden, wenn Sie die zusätzliche Flexibilität nicht benötigen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-168">The `AddSeries` method is more flexible because you can specify the chart type and data more explicitly, but the `DataBindTable` method is easier to use if you don't need the extra flexibility.</span></span>
5. <span data-ttu-id="6cba5-169">Führen Sie die Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-169">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image9.jpg)

### <a name="using-xml-data"></a><span data-ttu-id="6cba5-170">Verwenden von XML-Daten</span><span class="sxs-lookup"><span data-stu-id="6cba5-170">Using XML Data</span></span>

<span data-ttu-id="6cba5-171">Die dritte Option für die diagrammerstellung ist die Verwendung eine XML-Datei wie die Daten für das Diagramm.</span><span class="sxs-lookup"><span data-stu-id="6cba5-171">The third option for charting is to use an XML file as the data for the chart.</span></span> <span data-ttu-id="6cba5-172">Dies erfordert, dass die XML-Datei auch eine Schemadatei verfügen (*XSD* Datei), die die XML-Struktur beschreibt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-172">This requires that the XML file also have a schema file (*.xsd* file) that describes the XML structure.</span></span> <span data-ttu-id="6cba5-173">Dieses Verfahren zeigt, wie Sie Daten aus einer XML-Datei zu lesen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-173">This procedure shows you how to read data from an XML file.</span></span>

1. <span data-ttu-id="6cba5-174">In der *App\_Daten* Ordner, erstellen Sie eine neue XML-Datei mit dem Namen *data.xml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-174">In the *App\_Data* folder, create a new XML file named *data.xml*.</span></span>
2. <span data-ttu-id="6cba5-175">Ersetzen Sie den vorhandenen XML-Code, mit der folgenden, die einige XML-über Mitarbeiter in einem fiktiven Unternehmen Daten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-175">Replace the existing XML with the following, which is some XML data about employees in a fictional company.</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample5.xml)]
3. <span data-ttu-id="6cba5-176">In der *App\_Daten* Ordner, erstellen Sie eine neue XML-Datei mit dem Namen *data.xsd*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-176">In the *App\_Data* folder, create a new XML file named *data.xsd*.</span></span> <span data-ttu-id="6cba5-177">(Beachten Sie, dass die Erweiterung dieses Mal *XSD*.)</span><span class="sxs-lookup"><span data-stu-id="6cba5-177">(Note that the extension this time is *.xsd*.)</span></span>
4. <span data-ttu-id="6cba5-178">Ersetzen Sie den vorhandenen XML-Code durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-178">Replace the existing XML with the following:</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample6.xml)]
5. <span data-ttu-id="6cba5-179">Erstellen Sie im Stammverzeichnis der Website, eine neue Datei namens *ChartDataXML.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-179">In the root of the website, create a new file named *ChartDataXML.cshtml*.</span></span>
6. <span data-ttu-id="6cba5-180">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-180">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample7.cshtml)]

    <span data-ttu-id="6cba5-181">Der Code erstellt zunächst einen `DataSet` Objekt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-181">The code first creates a `DataSet` object.</span></span> <span data-ttu-id="6cba5-182">Dieses Objekt wird verwendet, um die Daten zu verwalten, die aus der XML-Datei gelesen und entsprechend den Informationen in der Schemadatei zu organisieren.</span><span class="sxs-lookup"><span data-stu-id="6cba5-182">This object is used to manage the data that's read from the XML file and organize it according to the information in the schema file.</span></span> <span data-ttu-id="6cba5-183">(Beachten Sie, dass am Anfang der Code die Anweisung enthält `using SystemData`.</span><span class="sxs-lookup"><span data-stu-id="6cba5-183">(Notice that the top of the code includes the statement `using SystemData`.</span></span> <span data-ttu-id="6cba5-184">Dies ist erforderlich, damit Sie die Arbeit mit können der `DataSet` Objekt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-184">This is required in order to be able to work with the `DataSet` object.</span></span> <span data-ttu-id="6cba5-185">Weitere Informationen finden Sie unter [ &quot;Using&quot; -Anweisungen und vollständig qualifizierte Namen](#SB_UsingStatements) weiter unten in diesem Artikel.)</span><span class="sxs-lookup"><span data-stu-id="6cba5-185">For more information, see [&quot;Using&quot; Statements and Fully Qualified Names](#SB_UsingStatements) later in this article.)</span></span>

    <span data-ttu-id="6cba5-186">Als Nächstes der Code erstellt eine `DataView` Objekt basierend auf dem Dataset.</span><span class="sxs-lookup"><span data-stu-id="6cba5-186">Next, the code creates a `DataView` object based on the dataset.</span></span> <span data-ttu-id="6cba5-187">Die Datensicht bietet ein Objekt, das das Diagramm werden, um gebunden kann &#8212; , also lesen und zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-187">The data view provides an object that the chart can bind to &#8212; that is, read and plot.</span></span> <span data-ttu-id="6cba5-188">Das Diagramm gebunden wird, um die Daten mit der `AddSeries` -Methode, wie Sie weiter oben gesehen haben, wenn die Daten des Arrays, außer dass diesmal diagrammerstellung der `xValue` und `yValues` Parameter werden festgelegt, um die `DataView` Objekt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-188">The chart binds to the data using the `AddSeries` method, as you saw earlier when charting the array data, except that this time the `xValue` and `yValues` parameters are set to the `DataView` object.</span></span>

    <span data-ttu-id="6cba5-189">Dieses Beispiel zeigt auch das Angeben eines bestimmten Diagrammtyps.</span><span class="sxs-lookup"><span data-stu-id="6cba5-189">This example also shows you how to specify a particular chart type.</span></span> <span data-ttu-id="6cba5-190">Wenn die Daten hinzugefügt werden, der `AddSeries` -Methode, die `chartType` Parametersatz ist auch zu einem Kreisdiagramm angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-190">When the data is added in the `AddSeries` method, the `chartType` parameter is also set to display a pie chart.</span></span>
7. <span data-ttu-id="6cba5-191">Führen Sie die Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-191">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image10.jpg)

> [!TIP]
> 
> <a id="SB_UsingStatements"></a>
> ### <a name="using-statements-and-fully-qualified-names"></a><span data-ttu-id="6cba5-192">"Using"-Anweisungen und vollständig qualifizierte Namen</span><span class="sxs-lookup"><span data-stu-id="6cba5-192">"Using" Statements and Fully Qualified Names</span></span>
> 
> <span data-ttu-id="6cba5-193">.NET Framework, dem basierend auf ASP.NET Web Pages mit Razor-Syntax besteht aus Tausenden von Komponenten (Klassen).</span><span class="sxs-lookup"><span data-stu-id="6cba5-193">The .NET Framework that ASP.NET Web Pages with Razor syntax is based on consists of many thousands of components (classes).</span></span> <span data-ttu-id="6cba5-194">Damit praktikabel, alle diese Klassen verwenden können, sind sie in organisiert *Namespaces*, denen es sich ein wenig wie Bibliotheken.</span><span class="sxs-lookup"><span data-stu-id="6cba5-194">To make it manageable to work with all these classes, they're organized into *namespaces*, which are somewhat like libraries.</span></span> <span data-ttu-id="6cba5-195">Z. B. die `System.Web` -Namespace enthält Klassen, die Browser-/Serverkommunikation, unterstützen die `System.Xml` -Namespace enthält Klassen, die das Erstellen und Lesen von XML-Dateien verwendet werden und die `System.Data` -Namespace enthält Klassen, mit denen Sie arbeiten mit Daten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-195">For example, the `System.Web` namespace contains classes that support browser/server communication, the `System.Xml` namespace contains classes that are used to create and read XML files, and the `System.Data` namespace contains classes that let you work with data.</span></span>
> 
> <span data-ttu-id="6cba5-196">Zum Zugriff auf einer bestimmten Klasse in .NET Framework muss Code wissen nicht nur den Klassennamen, sondern auch den Namespace aus, dem die Klasse befindet.</span><span class="sxs-lookup"><span data-stu-id="6cba5-196">In order to access any given class in the .NET Framework, code needs to know not just the class name, but also the namespace that the class is in.</span></span> <span data-ttu-id="6cba5-197">Um verwenden Sie beispielsweise die `Chart` Hilfsprogramms des, muss Code finden Sie die `System.Web.Helpers.Chart` -Klasse, die den Namespace kombiniert (`System.Web.Helpers`) mit dem Klassennamen (`Chart`).</span><span class="sxs-lookup"><span data-stu-id="6cba5-197">For example, in order to use the `Chart` helper, code needs to find the `System.Web.Helpers.Chart` class, which combines the namespace (`System.Web.Helpers`) with the class name (`Chart`).</span></span> <span data-ttu-id="6cba5-198">Dies bezeichnet man als der Klasse *vollqualifizierten* Namen &#8212; seine vollständige, eindeutige Position in der Umfangs von .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="6cba5-198">This is known as the class's *fully-qualified* name &#8212; its complete, unambiguous location within the vastness of the .NET Framework.</span></span> <span data-ttu-id="6cba5-199">Im Code würde dies wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="6cba5-199">In code, this would look like the following:</span></span>
> 
> `var myChart = new System.Web.Helpers.Chart(width: 600, height: 400) // etc.`
> 
> <span data-ttu-id="6cba5-200">Es ist jedoch umständlich (und fehleranfällig), müssen Sie diese langen, den vollqualifizierten Namen verwenden, jedes Mal, wenn Sie auf eine Klasse oder das Hilfsprogramm verweisen möchten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-200">However, it's cumbersome (and error prone) to have to use these long, fully-qualified names every time you want to refer to a class or helper.</span></span> <span data-ttu-id="6cba5-201">Um Klassennamen verwenden zu erleichtern, können Sie aus diesem Grund *importieren* die Namespaces interessiert, in der Regel ist nur eine Handvoll aus der vielen in .NET Framework-Namespaces.</span><span class="sxs-lookup"><span data-stu-id="6cba5-201">Therefore, to make it easier to use class names, you can *import* the namespaces you're interested in, which is usually is just a handful from among the many namespaces in the .NET Framework.</span></span> <span data-ttu-id="6cba5-202">Wenn Sie einen Namespace importiert haben, können Sie nur ein Klassenname (`Chart`) anstelle der vollqualifizierte Name (`System.Web.Helpers.Chart`).</span><span class="sxs-lookup"><span data-stu-id="6cba5-202">If you've imported a namespace, you can use just a class name (`Chart`) instead of the fully qualified name (`System.Web.Helpers.Chart`).</span></span> <span data-ttu-id="6cba5-203">Wenn Ihr Code ausgeführt wird und ein Klassenname auftritt, finden sie in der nur die Namespaces, die Sie importiert haben, um diese Klasse zu suchen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-203">When your code runs and encounters a class name, it can look in just the namespaces you've imported to find that class.</span></span>
> 
> <span data-ttu-id="6cba5-204">Wenn Sie ASP.NET Web Pages mit Razor-Syntax verwenden, um Webseiten zu erstellen, Sie in der Regel verwenden den gleichen Satz von Klassen jedes Mal, einschließlich der `WebPage` -Klasse, die verschiedene Hilfsprogramme und So weiter.</span><span class="sxs-lookup"><span data-stu-id="6cba5-204">When you use ASP.NET Web Pages with Razor syntax to create web pages, you typically use the same set of classes each time, including the `WebPage` class, the various helpers, and so on.</span></span> <span data-ttu-id="6cba5-205">Damit Sie sparen die Arbeit, die relevanten Namespaces importieren, jedes Mal, wenn Sie eine Website erstellen, ist ASP.NET konfiguriert, damit er automatisch einen Satz von Core-Namespaces für jede Website importiert.</span><span class="sxs-lookup"><span data-stu-id="6cba5-205">To save you the work of importing the relevant namespaces every time you create a website, ASP.NET is configured so it automatically imports a set of core namespaces for every website.</span></span> <span data-ttu-id="6cba5-206">Daher mussten Sie noch nicht für den Umgang mit Namespaces, oder importieren Sie bis jetzt; alle Klassen, mit denen Sie gearbeitet haben, sind in Namespaces, die Sie bereits importiert werden.</span><span class="sxs-lookup"><span data-stu-id="6cba5-206">That's why you haven't had to deal with namespaces or importing up to now; all the classes you've worked with are in namespaces that are already imported for you.</span></span>
> 
> <span data-ttu-id="6cba5-207">Allerdings müssen gelegentlich Sie arbeiten mit einer Klasse, die in einem Namespace ist nicht das für Sie automatisch importiert wird.</span><span class="sxs-lookup"><span data-stu-id="6cba5-207">However, sometimes you need to work with a class that isn't in a namespace that's automatically imported for you.</span></span> <span data-ttu-id="6cba5-208">In diesem Fall können Sie entweder den vollqualifizierten Namen von dieser Klasse verwenden, oder Sie können den Namespace, der die Klasse enthält manuell importieren.</span><span class="sxs-lookup"><span data-stu-id="6cba5-208">In that case, you can either use that class's fully-qualified name, or you can manually import the namespace that contains the class.</span></span> <span data-ttu-id="6cba5-209">Um einen Namespace zu importieren, verwenden Sie die `using` Anweisung (`import` in Visual Basic), wie Sie in einem Beispiel weiter oben gesehen haben den Artikel.</span><span class="sxs-lookup"><span data-stu-id="6cba5-209">To import a namespace, you use the `using` statement (`import` in Visual Basic), as you saw in an example earlier the article.</span></span>
> 
> <span data-ttu-id="6cba5-210">Z. B. die `DataSet` Klasse ist in der `System.Data` Namespace.</span><span class="sxs-lookup"><span data-stu-id="6cba5-210">For example, the `DataSet` class is in the `System.Data` namespace.</span></span> <span data-ttu-id="6cba5-211">Die `System.Data` Namespace ist nicht automatisch für ASP.NET Razor-Seiten zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="6cba5-211">The `System.Data` namespace is not automatically available to ASP.NET Razor pages.</span></span> <span data-ttu-id="6cba5-212">Aus diesem Grund funktioniert mit der `DataSet` Klasse unter Verwendung des vollqualifizierten Namens, können Sie Code wie folgt verwenden:</span><span class="sxs-lookup"><span data-stu-id="6cba5-212">Therefore, to work with the `DataSet` class using its fully qualified name, you can use code like this:</span></span>
> 
> `var dataSet = new System.Data.DataSet();`
> 
> <span data-ttu-id="6cba5-213">Wenn Sie verwenden die `DataSet` Klasse wiederholt Sie einen Namespace wie folgt importieren und dann nur den Klassennamen in Code verwenden:</span><span class="sxs-lookup"><span data-stu-id="6cba5-213">If you have to use the `DataSet` class repeatedly you can import a namespace like this and then use just the class name in code:</span></span>
> 
> [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample8.cshtml)]
> 
> <span data-ttu-id="6cba5-214">Sie können hinzufügen `using` -Anweisungen für alle anderen .NET Framework-Namespaces, die Sie verweisen möchten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-214">You can add `using` statements for any other .NET Framework namespaces that you want to reference.</span></span> <span data-ttu-id="6cba5-215">Aber wie bereits erwähnt, brauchen Sie häufig dazu, da die meisten Klassen, die Sie verwenden werden in Namespaces befinden, die von ASP.NET automatisch, für die Verwendung in importiert werden *.cshtml* und *vbhtml* Seiten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-215">However, as noted, you won't need to do this often, because most of the classes that you'll work with are in namespaces that are imported automatically by ASP.NET for use in *.cshtml* and *.vbhtml* pages.</span></span>


<a id="Displaying_Charts"></a>
## <a name="displaying-charts-inside-a-web-page"></a><span data-ttu-id="6cba5-216">Anzeigen von Diagrammen in einer Webseite</span><span class="sxs-lookup"><span data-stu-id="6cba5-216">Displaying Charts Inside a Web Page</span></span>

<span data-ttu-id="6cba5-217">In den Beispielen haben Sie bisher gesehen, Sie ein Diagramm erstellen, und klicken Sie dann das Diagramm gerendert wird, direkt an den Browser als Grafik.</span><span class="sxs-lookup"><span data-stu-id="6cba5-217">In the examples you've seen so far, you create a chart and then the chart is rendered directly to the browser as a graphic.</span></span> <span data-ttu-id="6cba5-218">In vielen Fällen möchten Sie jedoch, um das Diagramm als Teil einer Seite, nicht nur allein im Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-218">In many cases, though, you want to display a chart as part of a page, not just by itself in the browser.</span></span> <span data-ttu-id="6cba5-219">Zu diesem Zweck müssen einen zweistufiger Prozess.</span><span class="sxs-lookup"><span data-stu-id="6cba5-219">To do that requires a two-step process.</span></span> <span data-ttu-id="6cba5-220">Der erste Schritt ist, erstellen Sie eine Seite, die im Diagramm generiert, da Sie bereits gesehen haben.</span><span class="sxs-lookup"><span data-stu-id="6cba5-220">The first step is to create a page that generates the chart, as you've already seen.</span></span>

<span data-ttu-id="6cba5-221">Der zweite Schritt ist das resultierende Image in eine andere Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-221">The second step is to display the resulting image in another page.</span></span> <span data-ttu-id="6cba5-222">Um das Bild anzuzeigen, verwenden Sie eine HTML `<img>` Element, in der gleichen Weise um jedem Bild anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-222">To display the image, you use an HTML `<img>` element, in the same way you would to display any image.</span></span> <span data-ttu-id="6cba5-223">Jedoch anstelle von Verweisen auf eine *jpg* oder *PNG* -Datei, die `<img>` Elementverweise der *.cshtml* -Datei mit der `Chart` Helper, das Diagramm wird erstellt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-223">However, instead of referencing a *.jpg* or *.png* file, the `<img>` element references the *.cshtml* file that contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="6cba5-224">Wenn die Seite ausgeführt wird, wird die `<img>` Element empfängt die Ausgabe von der `Chart` Helper und rendert das Diagramm.</span><span class="sxs-lookup"><span data-stu-id="6cba5-224">When the display page runs, the `<img>` element gets the output of the `Chart` helper and renders the chart.</span></span>

![](7-displaying-data-in-a-chart/_static/image11.jpg)

1. <span data-ttu-id="6cba5-225">Erstellen Sie eine Datei mit dem Namen *ShowChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-225">Create a file named *ShowChart.cshtml*.</span></span>
2. <span data-ttu-id="6cba5-226">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-226">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample9.html)]

    <span data-ttu-id="6cba5-227">Der Code verwendet die `<img>` im Diagramm angezeigt werden soll, die Sie zuvor in erstellt die *ChartArrayBasic.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="6cba5-227">The code uses the `<img>` element to display the chart that you created earlier in the *ChartArrayBasic.cshtml* file.</span></span>
3. <span data-ttu-id="6cba5-228">Führen Sie die Webseite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-228">Run the web page in a browser.</span></span> <span data-ttu-id="6cba5-229">Die *ShowChart.cshtml* Datei zeigt das Diagrammbild basierend auf der Code in die *ChartArrayBasic.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="6cba5-229">The *ShowChart.cshtml* file displays the chart image based on the code contained in the *ChartArrayBasic.cshtml* file.</span></span>

<a id="Styling_a_Chart"></a>
## <a name="styling-a-chart"></a><span data-ttu-id="6cba5-230">Formatieren eines Diagramms</span><span class="sxs-lookup"><span data-stu-id="6cba5-230">Styling a Chart</span></span>

<span data-ttu-id="6cba5-231">Die `Chart` Hilfsprogramm unterstützt eine große Anzahl von Optionen, mit denen Sie die Darstellung des Diagramms anpassen können.</span><span class="sxs-lookup"><span data-stu-id="6cba5-231">The `Chart` helper supports a large number of options that let you customize the appearance of the chart.</span></span> <span data-ttu-id="6cba5-232">Sie können Farben, Schriftarten, Ränder und usw. festlegen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-232">You can set colors, fonts, borders, and so on.</span></span> <span data-ttu-id="6cba5-233">Eine einfache Möglichkeit zum Anpassen der Darstellung eines Diagramms ist die Verwendung einer *Design*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-233">An easy way to customize the appearance of a chart is to use a *theme*.</span></span> <span data-ttu-id="6cba5-234">Designs sind Informationssammlungen, die angeben, wie ein Diagramm mithilfe von Schriftarten, Farben, Beschriftungen, Paletten, Rahmen und Effekten gerendert.</span><span class="sxs-lookup"><span data-stu-id="6cba5-234">Themes are collections of information that specify how to render a chart using fonts, colors, labels, palettes, borders, and effects.</span></span> <span data-ttu-id="6cba5-235">(Beachten Sie, dass das Format eines Diagramms den Typ des Diagramms nicht angegeben ist.)</span><span class="sxs-lookup"><span data-stu-id="6cba5-235">(Note that the style of a chart does not indicate the type of chart.)</span></span>

<span data-ttu-id="6cba5-236">Die folgende Tabelle enthält die integrierten Designs.</span><span class="sxs-lookup"><span data-stu-id="6cba5-236">The following table lists built-in themes.</span></span>

| <span data-ttu-id="6cba5-237">Design</span><span class="sxs-lookup"><span data-stu-id="6cba5-237">Theme</span></span> | <span data-ttu-id="6cba5-238">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6cba5-238">Description</span></span> |
| --- | --- |
| `Vanilla` | <span data-ttu-id="6cba5-239">Zeigt den roten Spalten auf weißem Hintergrund an.</span><span class="sxs-lookup"><span data-stu-id="6cba5-239">Displays red columns on a white background.</span></span> |
| `Blue` | <span data-ttu-id="6cba5-240">Zeigt blauer Spalten auf einen blauen Hintergrund mit Farbverlauf.</span><span class="sxs-lookup"><span data-stu-id="6cba5-240">Displays blue columns on a blue gradient background.</span></span> |
| `Green` | <span data-ttu-id="6cba5-241">Zeigt blauer Spalten in einem grünen Hintergrund mit Farbverlauf.</span><span class="sxs-lookup"><span data-stu-id="6cba5-241">Displays blue columns on a green gradient background.</span></span> |
| `Yellow` | <span data-ttu-id="6cba5-242">Orange zeigt die Spalten auf einen gelben Hintergrund mit Farbverlauf.</span><span class="sxs-lookup"><span data-stu-id="6cba5-242">Displays orange columns on a yellow gradient background.</span></span> |
| `Vanilla3D` | <span data-ttu-id="6cba5-243">Zeigt 3-d-Rot-Spalten auf weißem Hintergrund an.</span><span class="sxs-lookup"><span data-stu-id="6cba5-243">Displays 3-D red columns on a white background.</span></span> |

<span data-ttu-id="6cba5-244">Sie können angeben, dass das Design zu verwenden, wenn Sie ein neues Diagramm erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-244">You can specify the theme to use when you create a new chart.</span></span>

1. <span data-ttu-id="6cba5-245">Erstellen Sie eine neue Datei namens *ChartStyleGreen.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-245">Create a new file named *ChartStyleGreen.cshtml*.</span></span>
2. <span data-ttu-id="6cba5-246">Ersetzen Sie den vorhandenen Inhalt auf der Seite durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-246">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample10.cshtml)]

    <span data-ttu-id="6cba5-247">Dieser Code ist identisch mit dem vorherigen Beispiel, das für die Datenbank verwendet, fügt jedoch das `theme` Parameter beim Erstellen der `Chart` Objekt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-247">This code is the same as the earlier example that uses the database for data, but adds the `theme` parameter when it creates the `Chart` object.</span></span> <span data-ttu-id="6cba5-248">Das folgende Beispiel zeigt den geänderten Code:</span><span class="sxs-lookup"><span data-stu-id="6cba5-248">The following shows the changed code:</span></span>

    [!code-csharp[Main](7-displaying-data-in-a-chart/samples/sample11.cs)]
3. <span data-ttu-id="6cba5-249">Führen Sie die Seite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-249">Run the page in a browser.</span></span> <span data-ttu-id="6cba5-250">Sie sehen die gleichen Daten wie zuvor, aber das Diagramm sieht besseres aus:</span><span class="sxs-lookup"><span data-stu-id="6cba5-250">You see the same data as before, but the chart looks more polished:</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image12.jpg)

<a id="Saving_a_Chart"></a>
## <a name="saving-a-chart"></a><span data-ttu-id="6cba5-251">Speichern eines Diagramms</span><span class="sxs-lookup"><span data-stu-id="6cba5-251">Saving a Chart</span></span>

<span data-ttu-id="6cba5-252">Bei Verwendung der `Chart` Helper als Sie bislang kennengelernt haben in diesem Artikel das Hilfsprogramm erneut das Diagramm von Grund auf neu erstellt jedes Mal, die sie aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="6cba5-252">When you use the `Chart` helper as you've seen so far in this article, the helper re-creates the chart from scratch each time it's invoked.</span></span> <span data-ttu-id="6cba5-253">Bei Bedarf werden von der Code für das Diagramm auch die Datenbank erneut abgefragt oder erneut liest die XML-Datei zum Abrufen der Daten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-253">If necessary, the code for the chart also re-queries the database or re-reads the XML file to get the data.</span></span> <span data-ttu-id="6cba5-254">In einigen Fällen auf diese Weise kann ein komplexer Vorgang sein, z. B. wenn die Datenbank, die Sie Abfragen sind sehr groß ist oder wenn die XML-Datei eine große Datenmenge enthält.</span><span class="sxs-lookup"><span data-stu-id="6cba5-254">In some cases, doing this can be a complex operation, such as if the database that you're querying is large, or if the XML file contains a lot of data.</span></span> <span data-ttu-id="6cba5-255">Auch wenn das Diagramm nicht viele Daten beinhalten beansprucht dynamisch erstellen ein Image von Serverressourcen, und wenn viele Benutzer anfordern, die Seite oder Seiten, die im Diagramm angezeigt, es kann sein wirkt sich auf die Leistung Ihrer Website.</span><span class="sxs-lookup"><span data-stu-id="6cba5-255">Even if the chart doesn't involve a lot of data, the process of dynamically creating an image takes up server resources, and if many people request the page or pages that display the chart, there can be an impact on the performance of your website.</span></span>

<span data-ttu-id="6cba5-256">Damit können Sie die potenziellen Auswirkungen auf die Leistung Erstellen eines Diagramms zu reduzieren, können Sie ein Diagramm das erste Mal erstellen Sie es benötigen, und speichern Sie sie.</span><span class="sxs-lookup"><span data-stu-id="6cba5-256">To help you reduce the potential performance impact of creating a chart, you can create a chart the first time you need it and then save it.</span></span> <span data-ttu-id="6cba5-257">Wenn das Diagramm in diesem Fall benötigt wird, anstatt neu zu erstellen, können Sie nur die gespeicherte Version abrufen und rendern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-257">When the chart is needed again, rather than regenerating it, you can just fetch the saved version and render that.</span></span>

<span data-ttu-id="6cba5-258">Sie können ein Diagramm wie folgt speichern:</span><span class="sxs-lookup"><span data-stu-id="6cba5-258">You can save a chart in these ways:</span></span>

- <span data-ttu-id="6cba5-259">Speichern Sie das Diagramm im Arbeitsspeicher des Computers (auf dem Server).</span><span class="sxs-lookup"><span data-stu-id="6cba5-259">Cache the chart in computer memory (on the server).</span></span>
- <span data-ttu-id="6cba5-260">Speichern Sie das Diagramm als Bilddatei an.</span><span class="sxs-lookup"><span data-stu-id="6cba5-260">Save the chart as an image file.</span></span>
- <span data-ttu-id="6cba5-261">Speichern Sie das Diagramm als eine XML-Datei.</span><span class="sxs-lookup"><span data-stu-id="6cba5-261">Save the chart as an XML file.</span></span> <span data-ttu-id="6cba5-262">Dieser Option können Sie das Diagramm zu ändern, bevor Sie sie speichern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-262">This option lets you modify the chart before you save it.</span></span>

### <a name="caching-a-chart"></a><span data-ttu-id="6cba5-263">Zwischenspeichern eines Diagramms</span><span class="sxs-lookup"><span data-stu-id="6cba5-263">Caching a Chart</span></span>

<span data-ttu-id="6cba5-264">Nachdem Sie ein Diagramm erstellt haben, können Sie ihn Zwischenspeichern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-264">After you've created a chart, you can cache it.</span></span> <span data-ttu-id="6cba5-265">Zwischenspeichern eines Diagramms bedeutet, dass es nicht neu erstellt werden, wenn sie wieder angezeigt werden muss.</span><span class="sxs-lookup"><span data-stu-id="6cba5-265">Caching a chart means that it doesn't have to be re-created if it needs to be displayed again.</span></span> <span data-ttu-id="6cba5-266">Wenn Sie ein Diagramm im Cache speichern, geben Sie ihm einen Schlüssel, der für dieses Diagramm eindeutig sein muss.</span><span class="sxs-lookup"><span data-stu-id="6cba5-266">When you save a chart in the cache, you give it a key that must be unique to that chart.</span></span>

<span data-ttu-id="6cba5-267">Im Cache gespeicherte Diagramme können entfernt werden, wenn der Server für den Arbeitsspeicher knapp wird.</span><span class="sxs-lookup"><span data-stu-id="6cba5-267">Charts saved to the cache might be removed if the server runs low on memory.</span></span> <span data-ttu-id="6cba5-268">Darüber hinaus wird der Cache geleert, wenn Ihre Anwendung aus irgendeinem Grund neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="6cba5-268">In addition, the cache is cleared if your application restarts for any reason.</span></span> <span data-ttu-id="6cba5-269">Daher ist die Standardmethode zum Arbeiten mit einem zwischengespeicherten Diagramm immer zuerst prüfen, ob es im Cache verfügbar ist, und falls nicht, und klicken Sie dann zum Erstellen oder neu zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-269">Therefore, the standard way to work with a cached chart is to always check first whether it's available in the cache, and if not, then to create or re-create it.</span></span>

1. <span data-ttu-id="6cba5-270">Erstellen Sie im Stammverzeichnis Ihrer Website, eine Datei namens *ShowCachedChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-270">At the root of your website, create a file named *ShowCachedChart.cshtml*.</span></span>
2. <span data-ttu-id="6cba5-271">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-271">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample12.html)]

    <span data-ttu-id="6cba5-272">Die `<img>` Tag enthält eine `src` -Attribut, das zeigt die *ChartSaveToCache.cshtml* Datei und einen Schlüssel an die Seite als Abfragezeichenfolge übergeben.</span><span class="sxs-lookup"><span data-stu-id="6cba5-272">The `<img>` tag includes a `src` attribute that points to the *ChartSaveToCache.cshtml* file and passes a key to the page as a query string.</span></span> <span data-ttu-id="6cba5-273">Der Schlüssel enthält den Wert &quot;MyChartKey&quot;.</span><span class="sxs-lookup"><span data-stu-id="6cba5-273">The key contains the value &quot;myChartKey&quot;.</span></span> <span data-ttu-id="6cba5-274">Die *ChartSaveToCache.cshtml* -Datei enthält die `Chart` Hilfsmethode, die das Diagramm erstellt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-274">The *ChartSaveToCache.cshtml* file contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="6cba5-275">Sie erstellen auf dieser Seite in Kürze.</span><span class="sxs-lookup"><span data-stu-id="6cba5-275">You'll create this page in a moment.</span></span>

    <span data-ttu-id="6cba5-276">Am Ende der Seite ein Link zu einer Seite mit dem Namen besteht *ClearCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-276">At the end of the page there's a link to a page named *ClearCache.cshtml*.</span></span> <span data-ttu-id="6cba5-277">Das ist eine Seite, die Sie auch in Kürze erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-277">That's a page that you'll also create shortly.</span></span> <span data-ttu-id="6cba5-278">Müssen Sie die *ClearCache.cshtml* nur für die Zwischenspeicherung für dieses Beispiel zu testen – es ist nicht, einen Link oder eine Seite, die Sie normalerweise beim Arbeiten mit Diagrammen von zwischengespeicherten enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="6cba5-278">You need the *ClearCache.cshtml* only to test caching for this example — it's not a link or page that you'd normally include when working with cached charts.</span></span>
3. <span data-ttu-id="6cba5-279">Erstellen Sie im Stammverzeichnis der Website eine neue Datei namens *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-279">At the root of your website, create a new file named *ChartSaveToCache.cshtml*.</span></span>
4. <span data-ttu-id="6cba5-280">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-280">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample13.cshtml)]

    <span data-ttu-id="6cba5-281">Der Code prüft zunächst, ob alles als der Schlüsselwert in der Abfragezeichenfolge übergeben wurde.</span><span class="sxs-lookup"><span data-stu-id="6cba5-281">The code first checks whether anything was passed as the key value in the query string.</span></span> <span data-ttu-id="6cba5-282">Wenn also der Code versucht, lesen Sie ein Diagramm aus dem Cache durch Aufrufen der `GetFromCache` -Methode und übergeben sie den Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="6cba5-282">If so, the code tries to read a chart out of the cache by calling the `GetFromCache` method and passing it the key.</span></span> <span data-ttu-id="6cba5-283">Wenn sich herausstellt, die vorhanden "nothing" in den Cache unter diesem Schlüssel ist (die beim ersten, die das Diagramm angefordert hat, ist der Fall wäre), erstellt der Code das Diagramm wie gewohnt an.</span><span class="sxs-lookup"><span data-stu-id="6cba5-283">If it turns out that there's nothing in the cache under that key (which would happen the first time that the chart is requested), the code creates the chart as usual.</span></span> <span data-ttu-id="6cba5-284">Wenn das Diagramm abgeschlossen ist, der Code speichert sie in den Cache durch Aufrufen von `SaveToCache`.</span><span class="sxs-lookup"><span data-stu-id="6cba5-284">When the chart is finished, the code saves it to the cache by calling `SaveToCache`.</span></span> <span data-ttu-id="6cba5-285">Diese Methode benötigt einen Schlüssel (also das Diagramm später angefordert werden kann), und die Zeitspanne, die das Diagramm im Cache gespeichert werden soll.</span><span class="sxs-lookup"><span data-stu-id="6cba5-285">That method requires a key (so the chart can be requested later), and the amount of time that the chart should be saved in the cache.</span></span> <span data-ttu-id="6cba5-286">(Die genaue Zeit, die Sie einem Diagramm Zwischenspeichern würde hängt wie oft Sie dachten, dass die Daten, die es darstellt geändert werden können.) Die `SaveToCache` Methode erfordert außerdem eine `slidingExpiration` Parameter &#8212; Wenn dieser Wert wird festgelegt auf "true", "das Timeout Zähler wird jedes Mal zurückgesetzt Diagramm erfolgt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-286">(The exact time you'd cache a chart would depend on how often you thought the data it represents might change.) The `SaveToCache` method also requires a `slidingExpiration` parameter &#8212; if this is set to true, the timeout counter is reset each time the chart is accessed.</span></span> <span data-ttu-id="6cba5-287">In diesem Fall bedeutet dies in Kraft, dass Cacheeintrag des Diagramms 2 Minuten nach der letzten Zeit abläuft, hat eine Person im Diagramm zugegriffen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-287">In this case, it in effect means that the chart's cache entry expires 2 minutes after the last time someone accessed the chart.</span></span> <span data-ttu-id="6cba5-288">(Die Alternative, um die gleitende Ablaufzeit ist ein absoluter Ablauf, was bedeutet, dass der Cacheeintrag abläuft würde genau 2 Minuten, nachdem es wurde im Cache abgelegt, unabhängig davon, wie oft sie zugegriffen wurde.)</span><span class="sxs-lookup"><span data-stu-id="6cba5-288">(The alternative to sliding expiration is absolute expiration, meaning that the cache entry would expire exactly 2 minutes after it was put into the cache, no matter how often it had been accessed.)</span></span>

    <span data-ttu-id="6cba5-289">Der Code schließlich verwendet der `WriteFromCache` Methode zum Abrufen und Rendern das Diagramm aus dem Cache.</span><span class="sxs-lookup"><span data-stu-id="6cba5-289">Finally, the code uses the `WriteFromCache` method to fetch and render the chart from the cache.</span></span> <span data-ttu-id="6cba5-290">Beachten Sie, dass diese Methode außerhalb der `if` Block, der den Cache überprüft werden, da das Diagramm aus dem Cache abgerufen werden sollen, ob das Diagramm zunächst es gab oder mussten generiert und im Cache gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="6cba5-290">Note that this method is outside the `if` block that checks the cache, because it will get the chart from the cache whether the chart was there to begin with or had to be generated and saved in the cache.</span></span>

    <span data-ttu-id="6cba5-291">Beachten Sie, dass im Beispiel die `AddTitle` Methode enthält einen Zeitstempel.</span><span class="sxs-lookup"><span data-stu-id="6cba5-291">Notice that in the example, the `AddTitle` method includes a timestamp.</span></span> <span data-ttu-id="6cba5-292">(sie fügt das aktuelle Datum und die Uhrzeit &#8212; `DateTime.Now` &#8212; auf den Titel.)</span><span class="sxs-lookup"><span data-stu-id="6cba5-292">(It adds the current date and time &#8212; `DateTime.Now` &#8212; to the title.)</span></span>
5. <span data-ttu-id="6cba5-293">Erstellen Sie eine neue Seite mit dem Namen *ClearCache.cshtml* und seinen Inhalt durch Folgendes ersetzen:</span><span class="sxs-lookup"><span data-stu-id="6cba5-293">Create a new page named *ClearCache.cshtml* and replace its content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample14.cshtml)]

    <span data-ttu-id="6cba5-294">Diese Seite verwendet die `WebCache` Hilfsfunktion, um das Diagramm zu entfernen, die in zwischengespeicherten *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-294">This page uses the `WebCache` helper to remove the chart that's cached in *ChartSaveToCache.cshtml*.</span></span> <span data-ttu-id="6cba5-295">Wie bereits erwähnt, müssen Sie normalerweise eine Seite wie diese haben.</span><span class="sxs-lookup"><span data-stu-id="6cba5-295">As noted earlier, you don't normally have to have a page like this.</span></span> <span data-ttu-id="6cba5-296">Sie erstellen hier nur zum Testen der Zwischenspeicherung vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-296">You're creating it here only to make it easier to test caching.</span></span>
6. <span data-ttu-id="6cba5-297">Führen Sie die *ShowCachedChart.cshtml* Webseite in einem Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-297">Run the *ShowCachedChart.cshtml* web page in a browser.</span></span> <span data-ttu-id="6cba5-298">Die Seite zeigt das Diagrammbild basierend auf der Code in die *ChartSaveToCache.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="6cba5-298">The page displays the chart image based on the code contained in the *ChartSaveToCache.cshtml* file.</span></span> <span data-ttu-id="6cba5-299">Notieren Sie sich die Aussage des Zeitstempels der Diagrammtitel.</span><span class="sxs-lookup"><span data-stu-id="6cba5-299">Take note of what the timestamp says in the chart title.</span></span> 

    ![Beschreibung: Überblick über grundlegende Diagramm mit den Zeitstempel in den Diagrammtitel](7-displaying-data-in-a-chart/_static/image13.jpg)
7. <span data-ttu-id="6cba5-301">Schließen Sie den Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-301">Close the browser.</span></span>
8. <span data-ttu-id="6cba5-302">Führen Sie die *ShowCachedChart.cshtml* erneut aus.</span><span class="sxs-lookup"><span data-stu-id="6cba5-302">Run the *ShowCachedChart.cshtml* again.</span></span> <span data-ttu-id="6cba5-303">Beachten Sie, dass die Zeitstempel gleich wie zuvor ist dies bedeutet, dass das Diagramm wurde nicht erneut generiert, aber stattdessen aus dem Cache gelesen wurde.</span><span class="sxs-lookup"><span data-stu-id="6cba5-303">Notice that the timestamp is the same as before, which indicates that the chart was not regenerated, but was instead read from the cache.</span></span>
9. <span data-ttu-id="6cba5-304">In *ShowCachedChart.cshtml*, klicken Sie auf die **Cache löschen** Link.</span><span class="sxs-lookup"><span data-stu-id="6cba5-304">In *ShowCachedChart.cshtml*, click the **Clear cache** link.</span></span> <span data-ttu-id="6cba5-305">Dadurch gelangen Sie zum *ClearCache.cshtml*, das meldet, dass der Cache gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="6cba5-305">This takes you to *ClearCache.cshtml*, which reports that the cache has been cleared.</span></span>
10. <span data-ttu-id="6cba5-306">Klicken Sie auf die **zurück zu ShowCachedChart.cshtml** verknüpfen, oder führen Sie erneut *ShowCachedChart.cshtml* von WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="6cba5-306">Click the **Return to ShowCachedChart.cshtml** link, or re-run *ShowCachedChart.cshtml* from WebMatrix.</span></span> <span data-ttu-id="6cba5-307">Beachten Sie, dass dieses Mal der Zeitstempel geändert hat, aus, da es sich bei der Cache gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="6cba5-307">Notice that this time the timestamp has changed, because the cache has been cleared.</span></span> <span data-ttu-id="6cba5-308">Daher musste der Code zum Generieren des Diagramms, und legen Sie sie wieder in den Cache ein.</span><span class="sxs-lookup"><span data-stu-id="6cba5-308">Therefore, the code had to regenerate the chart and put it back into the cache.</span></span>

### <a name="saving-a-chart-as-an-image-file"></a><span data-ttu-id="6cba5-309">Speichern eines Diagramms als Bilddatei</span><span class="sxs-lookup"><span data-stu-id="6cba5-309">Saving a Chart as an Image File</span></span>

<span data-ttu-id="6cba5-310">Sie können auch ein Diagramm speichern, als Bilddatei (z. B. eine *jpg* Datei) auf dem Server.</span><span class="sxs-lookup"><span data-stu-id="6cba5-310">You can also save a chart as an image file (for example, as a *.jpg* file) on the server.</span></span> <span data-ttu-id="6cba5-311">Anschließend können Sie die Bilddatei genauso wie jedes Image.</span><span class="sxs-lookup"><span data-stu-id="6cba5-311">You can then use the image file the way you would any image.</span></span> <span data-ttu-id="6cba5-312">Der Vorteil ist die Datei wird gespeichert sondern in einem temporären Cache gespeichert.</span><span class="sxs-lookup"><span data-stu-id="6cba5-312">The advantage is the file is stored rather than saved to a temporary cache.</span></span> <span data-ttu-id="6cba5-313">Können Sie ein neue Diagrammbild speichern, zu unterschiedlichen Zeitpunkten (z. B. einmal pro Stunde) und eine permanente Aufzeichnung der Änderungen, die im Laufe der Zeit auftreten, werden beibehalten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-313">You can save a new chart image at different times (for example, every hour) and then keep a permanent record of the changes that occur over time.</span></span> <span data-ttu-id="6cba5-314">Beachten Sie, dass Sie sicherstellen müssen, dass Ihre Web-Anwendung verfügt über die Berechtigung zum Speichern einer Datei in den Ordner auf dem Server, in dem Sie die Imagedatei speichern möchten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-314">Note that you must make sure that your web application has permission to save a file to the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="6cba5-315">Erstellen Sie im Stammverzeichnis Ihrer Website einen Ordner namens  *\_ChartFiles* ist es nicht bereits vorhanden.</span><span class="sxs-lookup"><span data-stu-id="6cba5-315">At the root of your website, create a folder named *\_ChartFiles* if it does not already exist.</span></span>
2. <span data-ttu-id="6cba5-316">Erstellen Sie im Stammverzeichnis der Website eine neue Datei namens *ChartSave.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-316">At the root of your website, create a new file named *ChartSave.cshtml*.</span></span>
3. <span data-ttu-id="6cba5-317">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-317">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample15.cshtml)]

    <span data-ttu-id="6cba5-318">Der Code überprüft zuerst, ob die *jpg* Datei vorhanden ist, durch den Aufruf der `File.Exists` Methode.</span><span class="sxs-lookup"><span data-stu-id="6cba5-318">The code first checks to see whether the *.jpg* file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="6cba5-319">Wenn die Datei nicht vorhanden ist, erstellt der Code ein neues `Chart` aus einem Array.</span><span class="sxs-lookup"><span data-stu-id="6cba5-319">If the file does not exist, the code creates a new `Chart` from an array.</span></span> <span data-ttu-id="6cba5-320">Diesmal ist der Code Ruft die `Save` -Methode auf und übergibt die `path` -Parameter den Dateipfad und den Dateinamen zum Speichern des Diagramms fest.</span><span class="sxs-lookup"><span data-stu-id="6cba5-320">This time, the code calls the `Save` method and passes the `path` parameter to specify the file path and file name of where to save the chart.</span></span> <span data-ttu-id="6cba5-321">Im Hauptteil der Seite ein `<img>` -Element verwendet den Pfad, um zu zeigen die *jpg* Datei angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-321">In the body of the page, an `<img>` element uses the path to point to the *.jpg* file to display.</span></span>
4. <span data-ttu-id="6cba5-322">Führen Sie die *ChartSave.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="6cba5-322">Run the *ChartSave.cshtml* file.</span></span>
5. <span data-ttu-id="6cba5-323">WebMatrix zurück.</span><span class="sxs-lookup"><span data-stu-id="6cba5-323">Return to WebMatrix.</span></span> <span data-ttu-id="6cba5-324">Beachten Sie, dass eine Bilddatei mit dem Namen *chart01.jpg* wurde gespeichert, der  *\_ChartFiles* Ordner.</span><span class="sxs-lookup"><span data-stu-id="6cba5-324">Notice that an image file named *chart01.jpg* has been saved in the *\_ChartFiles* folder.</span></span>

### <a name="saving-a-chart-as-an-xml-file"></a><span data-ttu-id="6cba5-325">Speichern eines Diagramms als eine XML-Datei</span><span class="sxs-lookup"><span data-stu-id="6cba5-325">Saving a Chart as an XML File</span></span>

<span data-ttu-id="6cba5-326">Schließlich können Sie ein Diagramm als eine XML-Datei auf dem Server speichern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-326">Finally, you can save a chart as an XML file on the server.</span></span> <span data-ttu-id="6cba5-327">Ein Vorteil der Verwendung dieser Methode über das Zwischenspeichern des Diagramms oder Speichern des Diagramms in eine Datei ist, dass Sie den XML-Code vor der Anzeige des Diagramms aus, wenn Sie möchten, ändern können.</span><span class="sxs-lookup"><span data-stu-id="6cba5-327">An advantage of using this method over caching the chart or saving the chart to a file is that you could modify the XML before displaying the chart if you wanted to.</span></span> <span data-ttu-id="6cba5-328">Die Anwendung muss über Lese-/Schreibberechtigungen für den Ordner auf dem Server verfügen, in dem Sie die Imagedatei speichern möchten.</span><span class="sxs-lookup"><span data-stu-id="6cba5-328">Your application has to have read/write permissions for the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="6cba5-329">Erstellen Sie im Stammverzeichnis der Website eine neue Datei namens *ChartSaveXml.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="6cba5-329">At the root of your website, create a new file named *ChartSaveXml.cshtml*.</span></span>
2. <span data-ttu-id="6cba5-330">Ersetzen Sie den vorhandenen Inhalt durch Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6cba5-330">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample16.cshtml)]

    <span data-ttu-id="6cba5-331">Dieser Code ist ähnlich wie der Code, den Sie bereits gesehen haben für ein Diagramm im Cache speichern, jedoch eine XML-Datei verwendet.</span><span class="sxs-lookup"><span data-stu-id="6cba5-331">This code is similar to the code that you saw earlier for storing a chart in the cache, except that it uses an XML file.</span></span> <span data-ttu-id="6cba5-332">Der Code zuerst überprüft, ob die XML-Datei vorhanden, durch den Aufruf ist der `File.Exists` Methode.</span><span class="sxs-lookup"><span data-stu-id="6cba5-332">The code first checks to see whether the XML file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="6cba5-333">Wenn die Datei vorhanden ist, erstellt der Code eine neue `Chart` -Objekt und übergibt den Dateinamen als dem `themePath` Parameter.</span><span class="sxs-lookup"><span data-stu-id="6cba5-333">If the file does exist, the code creates a new `Chart` object and passes the file name as the `themePath` parameter.</span></span> <span data-ttu-id="6cba5-334">Dadurch wird das Diagramm, das basierend auf den Inhalt der XML-Datei wird erstellt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-334">This creates the chart based on whatever's in the XML file.</span></span> <span data-ttu-id="6cba5-335">Wenn die XML-Datei nicht bereits vorhanden ist, wird der Code erstellt ein Diagramm wie üblich und ruft dann `SaveXml` zu speichern.</span><span class="sxs-lookup"><span data-stu-id="6cba5-335">If the XML file doesn't already exist, the code creates a chart like normal and then calls `SaveXml` to save it.</span></span> <span data-ttu-id="6cba5-336">Das Diagramm gerendert wird, mit der `Write` -Methode, Sie haben gesehen vor.</span><span class="sxs-lookup"><span data-stu-id="6cba5-336">The chart is rendered using the `Write` method, as you've seen before.</span></span>

    <span data-ttu-id="6cba5-337">Wie bei der Seite, die Zwischenspeicherung wurde gezeigt, enthält dieser Code einen Zeitstempel in den Titel an.</span><span class="sxs-lookup"><span data-stu-id="6cba5-337">As with the page that showed caching, this code includes a timestamp in the chart title.</span></span>
3. <span data-ttu-id="6cba5-338">Erstellen Sie eine neue Seite mit dem Namen *ChartDisplayXMLChart.cshtml* , und fügen Sie das folgende Markup hinzu:</span><span class="sxs-lookup"><span data-stu-id="6cba5-338">Create a new page named *ChartDisplayXMLChart.cshtml* and add the following markup to it:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample17.html)]
4. <span data-ttu-id="6cba5-339">Führen Sie die *ChartDisplayXMLChart.cshtml* Seite.</span><span class="sxs-lookup"><span data-stu-id="6cba5-339">Run the *ChartDisplayXMLChart.cshtml* page.</span></span> <span data-ttu-id="6cba5-340">Das Diagramm wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6cba5-340">The chart is displayed.</span></span> <span data-ttu-id="6cba5-341">Notieren Sie sich den Zeitstempel im Titel des des Diagramms.</span><span class="sxs-lookup"><span data-stu-id="6cba5-341">Take note of the timestamp in the chart's title.</span></span>
5. <span data-ttu-id="6cba5-342">Schließen Sie den Browser.</span><span class="sxs-lookup"><span data-stu-id="6cba5-342">Close the browser.</span></span>
6. <span data-ttu-id="6cba5-343">WebMatrix, mit der Maustaste der  *\_ChartFiles* Ordner, klicken Sie auf **aktualisieren**, und öffnen Sie dann den Ordner.</span><span class="sxs-lookup"><span data-stu-id="6cba5-343">In WebMatrix, right-click the *\_ChartFiles* folder, click **Refresh**, and then open the folder.</span></span> <span data-ttu-id="6cba5-344">Die *XMLChart.xml* Datei in diesem Ordner erstellt wurde, indem die `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="6cba5-344">The *XMLChart.xml* file in this folder was created by the `Chart` helper.</span></span> 

    ![Beschreibung: Der _ChartFiles Ordner mit der XMLChart.xml-Datei, die das Diagramm Hilfsprogramm erstellt wurden.](7-displaying-data-in-a-chart/_static/image14.jpg)
7. <span data-ttu-id="6cba5-346">Führen Sie die *ChartDisplayXMLChart.cshtml* Seite erneut.</span><span class="sxs-lookup"><span data-stu-id="6cba5-346">Run the *ChartDisplayXMLChart.cshtml* page again.</span></span> <span data-ttu-id="6cba5-347">Das Diagramm zeigt den gleichen Zeitstempel als beim ersten die Seite ausführen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-347">The chart shows the same timestamp as the first time you ran the page.</span></span> <span data-ttu-id="6cba5-348">Das ist da das Diagramm aus der XML-Code generiert wird, die Sie zuvor gespeichert haben.</span><span class="sxs-lookup"><span data-stu-id="6cba5-348">That's because the chart is being generated from the XML you saved earlier.</span></span>
8. <span data-ttu-id="6cba5-349">Öffnen Sie in WebMatrix die  *\_ChartFiles* Ordner, und löschen die *XMLChart.xml* Datei.</span><span class="sxs-lookup"><span data-stu-id="6cba5-349">In WebMatrix, open the *\_ChartFiles* folder and delete the *XMLChart.xml* file.</span></span>
9. <span data-ttu-id="6cba5-350">Führen Sie die *ChartDisplayXMLChart.cshtml* Seite noch einmal.</span><span class="sxs-lookup"><span data-stu-id="6cba5-350">Run the *ChartDisplayXMLChart.cshtml* page once more.</span></span> <span data-ttu-id="6cba5-351">Dieses Mal der Zeitstempel aktualisiert wurde, da die `Chart` Helper mussten, um die XML-Datei neu zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cba5-351">This time, the timestamp is updated, because the `Chart` helper had to recreate the XML file.</span></span> <span data-ttu-id="6cba5-352">Wenn Sie möchten, überprüfen Sie die  *\_ChartFiles* Ordner, und beachten Sie, dass die XML-Datei zurück.</span><span class="sxs-lookup"><span data-stu-id="6cba5-352">If you want, check the *\_ChartFiles* folder and notice that the XML file is back.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="6cba5-353">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="6cba5-353">Additional Resources</span></span>

- [<span data-ttu-id="6cba5-354">Einführung in die Arbeit mit einer Datenbank in der ASP.NET Web Pages-Websites</span><span class="sxs-lookup"><span data-stu-id="6cba5-354">Introduction to Working with a Database in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=202893)
- [<span data-ttu-id="6cba5-355">Verwendung von Caching in ASP.NET Web Pages-Websites zur Verbesserung der Leistung</span><span class="sxs-lookup"><span data-stu-id="6cba5-355">Using Caching in ASP.NET Web Pages Sites to Improve Performance</span></span>](https://go.microsoft.com/fwlink/?LinkId=202903)
- <span data-ttu-id="6cba5-356">[Klasse "Diagrammeigenschaften"](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages-API-Referenz auf MSDN)</span><span class="sxs-lookup"><span data-stu-id="6cba5-356">[Chart Class](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages API reference on MSDN)</span></span>
