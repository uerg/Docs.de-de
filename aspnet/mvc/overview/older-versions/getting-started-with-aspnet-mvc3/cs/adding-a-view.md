---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-view
title: Hinzufügen einer Ansicht (c#) | Microsoft Docs
author: Rick-Anderson
description: In diesem Lernprogramm erfahren Sie die Grundlagen der Erstellung einer ASP.NET MVC-Webanwendung mithilfe von Microsoft Visual Web Developer 2010 Express Service Pack 1, also...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/12/2011
ms.topic: article
ms.assetid: abc7c78d-cb09-4a4c-a887-61bc401d40e3
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-view
msc.type: authoredcontent
ms.openlocfilehash: 50ce4a2024ffd9e2bbb5526717052d486689ff38
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="adding-a-view-c"></a><span data-ttu-id="8d1e3-103">Hinzufügen einer Ansicht (c#)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-103">Adding a View (C#)</span></span>
====================
<span data-ttu-id="8d1e3-104">durch [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> > [!NOTE]
> > <span data-ttu-id="8d1e3-105">Eine aktualisierte Version dieses Lernprogramms steht [hier](../../../getting-started/introduction/getting-started.md) , ASP.NET MVC 5 und Visual Studio 2013 verwendet.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-105">An updated version of this tutorial is available [here](../../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="8d1e3-106">Es ist sicherer, viel einfacher, führen und weitere Funktionen veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-106">It's more secure, much simpler to follow and demonstrates more features.</span></span>
> 
> 
> <span data-ttu-id="8d1e3-107">In diesem Lernprogramm erfahren Sie die Grundlagen der Erstellung einer ASP.NET MVC-Webanwendung mithilfe von Microsoft Visual Web Developer 2010 Express Service Pack 1, also eine kostenlose Version von Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-107">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="8d1e3-108">Bevor Sie beginnen, stellen Sie sicher, dass Sie die unten aufgeführten erforderlichen Komponenten installiert haben.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-108">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="8d1e3-109">Sie können alle installieren, indem Sie auf den folgenden Link: [Webplattform-Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-109">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="8d1e3-110">Alternativ können Sie die erforderlichen Komponenten, die über die folgenden Links einzeln installieren:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-110">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="8d1e3-111">Visual Studio Web Developer Express SP1-Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="8d1e3-111">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="8d1e3-112">ASP.NET MVC 3 Tools Update</span><span class="sxs-lookup"><span data-stu-id="8d1e3-112">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="8d1e3-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(Common Language Runtime + Tools unterstützen)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="8d1e3-114">Wenn Sie Visual Studio 2010 anstelle von Visual Web Developer 2010 verwenden, die Komponenten installieren, indem Sie auf den folgenden Link: [Visual Studio 2010-Voraussetzungen](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-114">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="8d1e3-115">Ein Visual Web Developer-Projekt mit C#-Quellcode ist zu diesem Thema steht zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-115">A Visual Web Developer project with C# source code is available to accompany this topic.</span></span> <span data-ttu-id="8d1e3-116">[Die C#-Version herunterladen](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-116">[Download the C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="8d1e3-117">Wenn Sie Visual Basic bevorzugen, wechseln Sie zu der [Visual Basic-Version](../vb/intro-to-aspnet-mvc-3.md) dieses Lernprogramm.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-117">If you prefer Visual Basic, switch to the [Visual Basic version](../vb/intro-to-aspnet-mvc-3.md) of this tutorial.</span></span>


<span data-ttu-id="8d1e3-118">In diesem Abschnitt Sie so ändern Sie nun die `HelloWorldController` Klasse, die anzeigen, die Vorlagendateien sauberes kapseln den Prozess der Generierung der HTML-Antworten auf einem Client verwendet.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-118">In this section you're going to modify the `HelloWorldController` class to use view template files to cleanly encapsulate the process of generating HTML responses to a client.</span></span>

<span data-ttu-id="8d1e3-119">Erstellen Sie eine Datei mit der neuen Vorlage [Razor-Ansichtsmodul](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx) mit ASP.NET MVC 3 eingeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-119">You'll create a view template file using the new [Razor view engine](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx) introduced with ASP.NET MVC 3.</span></span> <span data-ttu-id="8d1e3-120">Razor-basierte Ansichtsvorlagen haben eine *cshtml* Dateierweiterung aus, und geben Sie eine elegante Methode zum Erstellen von HTML-Ausgabe mithilfe von c#.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-120">Razor-based view templates have a *.cshtml* file extension, and provide an elegant way to create HTML output using C#.</span></span> <span data-ttu-id="8d1e3-121">Razor minimiert die Anzahl von Zeichen und Tastatureingaben erforderlich, wenn eine Ansichtenvorlage schreiben und ermöglicht eine schnelle, Fluid Codierung Workflow.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-121">Razor minimizes the number of characters and keystrokes required when writing a view template, and enables a fast, fluid coding workflow.</span></span>

<span data-ttu-id="8d1e3-122">Starten Sie mithilfe einer Vorlage anzeigen, mit der `Index` Methode in der `HelloWorldController` Klasse.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-122">Start by using a view template with the `Index` method in the `HelloWorldController` class.</span></span> <span data-ttu-id="8d1e3-123">Derzeit gibt die `Index`-Methode eine Zeichenfolge mit der Meldung zurück, die in der Controllerklasse hartcodiert ist.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-123">Currently the `Index` method returns a string with a message that is hard-coded in the controller class.</span></span> <span data-ttu-id="8d1e3-124">Ändern der `Index` -Methode zur Rückgabe einer `View` -Objekts, wie im folgenden gezeigt:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-124">Change the `Index` method to return a `View` object, as shown in the following:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample1.cs)]

<span data-ttu-id="8d1e3-125">Dieser Code verwendet eine Vorlage für die Sicht zum Generieren einer HTML-Antwortinhalts an den Browser.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-125">This code uses a view template to generate an HTML response to the browser.</span></span> <span data-ttu-id="8d1e3-126">Fügen Sie im Projekt eine Vorlage anzeigen, die mit der `Index` Methode.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-126">In the project, add a view template that you can use with the `Index` method.</span></span> <span data-ttu-id="8d1e3-127">Zu diesem Zweck Maustaste innerhalb der `Index` -Methode, und klicken Sie auf **Ansicht hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-127">To do this, right-click inside the `Index` method and click **Add View**.</span></span>

![](adding-a-view/_static/image1.png)

<span data-ttu-id="8d1e3-128">Die **Ansicht hinzufügen** Dialogfeld wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-128">The **Add View** dialog box appears.</span></span> <span data-ttu-id="8d1e3-129">Lassen Sie die Möglichkeit, sie sind, und klicken Sie auf, die Standardeinstellungen der **hinzufügen** Schaltfläche:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-129">Leave the defaults the way they are and click the **Add** button:</span></span>

![](adding-a-view/_static/image2.png)

<span data-ttu-id="8d1e3-130">Die *MvcMovie\Views\HelloWorld* Ordner und die *MvcMovie\Views\HelloWorld\Index.cshtml* -Datei erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-130">The *MvcMovie\Views\HelloWorld* folder and the *MvcMovie\Views\HelloWorld\Index.cshtml* file are created.</span></span> <span data-ttu-id="8d1e3-131">Sehen Sie diese in **Projektmappen-Explorer**:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-131">You can see them in **Solution Explorer**:</span></span>

![](adding-a-view/_static/image3.png)

<span data-ttu-id="8d1e3-132">Im folgenden gezeigt die *Index.cshtml* -Datei, die erstellt wurde:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-132">The following shows the *Index.cshtml* file that was created:</span></span>

<span data-ttu-id="8d1e3-133">[![HelloWorldIndex](adding-a-view/_static/image5.png)](adding-a-view/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-133">[![HelloWorldIndex](adding-a-view/_static/image5.png)](adding-a-view/_static/image4.png)</span></span>

<span data-ttu-id="8d1e3-134">Hinzufügen von HTML-Code unter der `<h2>` Tag.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-134">Add some HTML under the `<h2>` tag.</span></span> <span data-ttu-id="8d1e3-135">Das geänderte *MvcMovie\Views\HelloWorld\Index.cshtml* Datei wird unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-135">The modified *MvcMovie\Views\HelloWorld\Index.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample2.cshtml)]

<span data-ttu-id="8d1e3-136">Führen Sie die Anwendung, und navigieren Sie zu der `HelloWorld` Controller (`http://localhost:xxxx/HelloWorld`).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-136">Run the application and browse to the `HelloWorld` controller (`http://localhost:xxxx/HelloWorld`).</span></span> <span data-ttu-id="8d1e3-137">Die `Index` Methode in Ihren in der Regel nicht viel Arbeit ausführen; es einfach ausgeführt wurde, die Anweisung `return View()`, der angegeben wird, dass die Methode eine Vorlagendatei Ansicht verwenden soll, um eine Antwort an den Browser zu rendern.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-137">The `Index` method in your controller didn't do much work; it simply ran the statement `return View()`, which specified that the method should use a view template file to render a response to the browser.</span></span> <span data-ttu-id="8d1e3-138">Da Sie den Namen der Vorlagendatei Ansicht verwenden explizit angegeben haben, ASP.NET MVC verwendet ab sofort standardmäßig mit der *Index.cshtml* -Datei in die *\Views\HelloWorld* Ordner.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-138">Because you didn't explicitly specify the name of the view template file to use, ASP.NET MVC defaulted to using the *Index.cshtml* view file in the *\Views\HelloWorld* folder.</span></span> <span data-ttu-id="8d1e3-139">Die folgende Abbildung zeigt die Zeichenfolge in der Ansicht fest programmiert.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-139">The image below shows the string hard-coded in the view.</span></span>

![](adding-a-view/_static/image6.png)

<span data-ttu-id="8d1e3-140">Sieht ziemlich guten.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-140">Looks pretty good.</span></span> <span data-ttu-id="8d1e3-141">Beachten Sie jedoch, dass die Titelleiste des Browsers sagt "Index" und besagt, dass große Titel auf der Seite "Meine MVC-Anwendung."</span><span class="sxs-lookup"><span data-stu-id="8d1e3-141">However, notice that the browser's title bar says "Index" and the big title on the page says "My MVC Application."</span></span> <span data-ttu-id="8d1e3-142">Wir ändern die.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-142">Let's change those.</span></span>

## <a name="changing-views-and-layout-pages"></a><span data-ttu-id="8d1e3-143">Ändern von Sichten und Layoutseiten</span><span class="sxs-lookup"><span data-stu-id="8d1e3-143">Changing Views and Layout Pages</span></span>

<span data-ttu-id="8d1e3-144">Zuerst möchten Sie den Titel "Meine MVC-Anwendung" am oberen Rand der Seite zu ändern.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-144">First, you want to change the "My MVC Application" title at the top of the page.</span></span> <span data-ttu-id="8d1e3-145">Dieser Text ist üblich, jeder Seite.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-145">That text is common to every page.</span></span> <span data-ttu-id="8d1e3-146">Er ist tatsächlich an nur einem Ort im Projekt implementiert, obwohl er auf jeder Seite in der Anwendung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-146">It actually is implemented in only one place in the project, even though it appears on every page in the application.</span></span> <span data-ttu-id="8d1e3-147">Wechseln Sie zu der */Ansichten/freigegeben* Ordner **Projektmappen-Explorer** , und öffnen Sie die  *\_Layout.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-147">Go to the */Views/Shared* folder in **Solution Explorer** and open the *\_Layout.cshtml* file.</span></span> <span data-ttu-id="8d1e3-148">Diese Datei heißt ein *Layoutseite* und die freigegebenen "Shell", die alle anderen Seiten zu verwenden ist.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-148">This file is called a *layout page* and it's the shared "shell" that all other pages use.</span></span>

<span data-ttu-id="8d1e3-149">[![_LayoutCshtml](adding-a-view/_static/image8.png)](adding-a-view/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-149">[![_LayoutCshtml](adding-a-view/_static/image8.png)](adding-a-view/_static/image7.png)</span></span>

<span data-ttu-id="8d1e3-150">Layoutvorlagen können Sie zum Angeben von HTML-Container-Layout Ihres Standorts an einem Ort, und wenden Sie es über mehrere Seiten an Ihrem Standort.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-150">Layout templates allow you to specify the HTML container layout of your site in one place and then apply it across multiple pages in your site.</span></span> <span data-ttu-id="8d1e3-151">Beachten Sie die `@RenderBody()` Zeile am unteren Rand der Datei.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-151">Note the `@RenderBody()` line near the bottom of the file.</span></span> <span data-ttu-id="8d1e3-152">`RenderBody` ist ein Platzhalter, in dem alle Ansicht-spezifische Seiten, die Sie erstellen, "umschlossene" in der Seite "Layout" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-152">`RenderBody` is a placeholder where all the view-specific pages you create show up, "wrapped" in the layout page.</span></span> <span data-ttu-id="8d1e3-153">Ändern Sie die Titelüberschrift in die Layoutvorlage aus "Meine MVC-Anwendung" in "MVC-Film-App".</span><span class="sxs-lookup"><span data-stu-id="8d1e3-153">Change the title heading in the layout template from "My MVC Application" to "MVC Movie App".</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample3.cshtml)]

<span data-ttu-id="8d1e3-154">Führen Sie die Anwendung, und beachten Sie, dass es jetzt "MVC-Film-App" lautet.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-154">Run the application and notice that it now says "MVC Movie App".</span></span> <span data-ttu-id="8d1e3-155">Klicken Sie auf die **zu** finden Sie unter Link, und Sie die Seite "MVC Film-App" zu veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-155">Click the **About** link, and you see how that page shows "MVC Movie App", too.</span></span> <span data-ttu-id="8d1e3-156">Wir konnten die Änderung in der Layoutvorlage einmal durchgeführt, und haben alle Seiten auf der Website widerspiegeln den neuen Titel.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-156">We were able to make the change once in the layout template and have all pages on the site reflect the new title.</span></span>

![](adding-a-view/_static/image9.png)

<span data-ttu-id="8d1e3-157">Die vollständige  *\_Layout.cshtml* Datei wird unten gezeigt:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-157">The complete *\_Layout.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample4.cshtml)]

<span data-ttu-id="8d1e3-158">Jetzt sehen wir ändern Sie den Titel der Seite "Index" (Ansicht).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-158">Now, let's change the title of the Index page (view).</span></span>

<span data-ttu-id="8d1e3-159">Open *MvcMovie\Views\HelloWorld\Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-159">Open *MvcMovie\Views\HelloWorld\Index.cshtml*.</span></span> <span data-ttu-id="8d1e3-160">Es gibt zwei Bereiche zu ändern: zuerst den Text, der angezeigt wird in der Titelleiste des Browsers, und klicken Sie dann in den sekundären Header (der `<h2>` Element).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-160">There are two places to make a change: first, the text that appears in the title of the browser, and then in the secondary header (the `<h2>` element).</span></span> <span data-ttu-id="8d1e3-161">Sie nehmen diese geringfügig anders vor, damit Sie erkennen können, welcher Teil der App mithilfe einer Codebearbeitung geändert wird.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-161">You'll make them slightly different so you can see which bit of code changes which part of the app.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample5.cshtml)]

<span data-ttu-id="8d1e3-162">An, dass der Titel der HTML-anzuzeigenden Code über legt eine `Title` Eigenschaft von der `ViewBag` Objekt (Dies ist der *Index.cshtml* Vorlage anzeigen).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-162">To indicate the HTML title to display, the code above sets a `Title` property of the `ViewBag` object (which is in the *Index.cshtml* view template).</span></span> <span data-ttu-id="8d1e3-163">Wenn Sie wieder den Quellcode der Layoutvorlage betrachten, werden Sie bemerken, dass die Vorlage, diesen Wert in verwendet der `<title>` -Element als Teil der `<head>` Teil der HTML-Code.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-163">If you look back at the source code of the layout template, you'll notice that the template uses this value in the `<title>` element as part of the `<head>` section of the HTML.</span></span> <span data-ttu-id="8d1e3-164">Bei diesem Ansatz können Sie problemlos andere Parameter zwischen Ihrer Vorlage anzeigen und die Layoutdatei übergeben.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-164">Using this approach, you can easily pass other parameters between your view template and your layout file.</span></span>

<span data-ttu-id="8d1e3-165">Führen Sie die Anwendung, und navigieren Sie zu `http://localhost:xx/HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-165">Run the application and browse to `http://localhost:xx/HelloWorld`.</span></span> <span data-ttu-id="8d1e3-166">Sie sehen, dass sich der Browsertitel, die primäre Überschrift und die sekundären Überschriften geändert haben.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-166">Notice that the browser title, the primary heading, and the secondary headings have changed.</span></span> <span data-ttu-id="8d1e3-167">(Wenn die Änderungen nicht im Browser angezeigt werden, zeigen Sie ggf. zwischengespeicherten Inhalt an.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-167">(If you don't see changes in the browser, you might be viewing cached content.</span></span> <span data-ttu-id="8d1e3-168">Drücken Sie in Ihrem Browser STRG+F5, um das Laden der Antwort vom Server zu erzwingen.)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-168">Press Ctrl+F5 in your browser to force the response from the server to be loaded.)</span></span>

<span data-ttu-id="8d1e3-169">Beachten Sie außerdem wie der Inhalt in die *Index.cshtml* Vorlage anzeigen mit zusammengeführt wurde die  *\_Layout.cshtml* Vorlage anzeigen und eine einzelne HTML-Antwort an den Browser gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-169">Also notice how the content in the *Index.cshtml* view template was merged with the *\_Layout.cshtml* view template and a single HTML response was sent to the browser.</span></span> <span data-ttu-id="8d1e3-170">Layoutvorlagen erleichtern ungemein das Vornehmen von Änderungen an allen Seiten in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-170">Layout templates make it really easy to make changes that apply across all of the pages in your application.</span></span>

![](adding-a-view/_static/image10.png)

<span data-ttu-id="8d1e3-171">Unser kleiner Beitrag zu den „Daten“ (in diesem Fall die Meldung "Hello from our View Template!")</span><span class="sxs-lookup"><span data-stu-id="8d1e3-171">Our little bit of "data" (in this case the "Hello from our View Template!"</span></span> <span data-ttu-id="8d1e3-172">ist jedoch hartcodiert.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-172">message) is hard-coded, though.</span></span> <span data-ttu-id="8d1e3-173">Die MVC-Anwendung weist ein „V“ (View [Ansicht]) auf, und Sie verfügen über ein „C“ (Controller), aber noch nicht über ein „M“ (Modell).</span><span class="sxs-lookup"><span data-stu-id="8d1e3-173">The MVC application has a "V" (view) and you've got a "C" (controller), but no "M" (model) yet.</span></span> <span data-ttu-id="8d1e3-174">In Kürze, wir wird exemplarisch erklärt, wie eine Datenbank erstellen und das Modelldaten daraus abrufen.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-174">Shortly, we'll walk through how create a database and retrieve model data from it.</span></span>

## <a name="passing-data-from-the-controller-to-the-view"></a><span data-ttu-id="8d1e3-175">Übergeben von Daten vom Controller an die Ansicht</span><span class="sxs-lookup"><span data-stu-id="8d1e3-175">Passing Data from the Controller to the View</span></span>

<span data-ttu-id="8d1e3-176">Bevor wir mit einer Datenbank aufrufen und erörtern, Modelle, jedoch, zunächst sprechen wir über Informationen auf dem Controller an eine Ansicht übergeben.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-176">Before we go to a database and talk about models, though, let's first talk about passing information from the controller to a view.</span></span> <span data-ttu-id="8d1e3-177">Controllerklassen werden als Antwort auf eine eingehende URL-Anforderung aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-177">Controller classes are invoked in response to an incoming URL request.</span></span> <span data-ttu-id="8d1e3-178">Eine Controllerklasse ist, in dem Sie den Code schreiben, der Daten aus einer Datenbank abgerufen, verarbeitet die eingehenden Parameter und letztlich entscheidet, welche Art der Antwort zurück an den Browser gesendet.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-178">A controller class is where you write the code that handles the incoming parameters, retrieves data from a database, and ultimately decides what type of response to send back to the browser.</span></span> <span data-ttu-id="8d1e3-179">Ansichtsvorlagen können dann verwendet werden von einem Domänencontroller zum Generieren und Formatieren einer HTML-Antwortinhalts an den Browser.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-179">View templates can then be used from a controller to generate and format an HTML response to the browser.</span></span>

<span data-ttu-id="8d1e3-180">Controller sind verantwortlich für das Bereitstellen von den Daten oder Objekte in Auftrag für eine Sicht Vorlage zum Rendern einer Antwortinhalts an den Browser erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-180">Controllers are responsible for providing whatever data or objects are required in order for a view template to render a response to the browser.</span></span> <span data-ttu-id="8d1e3-181">Eine Ansichtenvorlage sollte nie Geschäftslogik ausführen oder direkt mit einer Datenbank interagieren.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-181">A view template should never perform business logic or interact with a database directly.</span></span> <span data-ttu-id="8d1e3-182">Stattdessen sollte es nur mit den Daten arbeiten, die vom Controller bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-182">Instead, it should work only with the data that's provided to it by the controller.</span></span> <span data-ttu-id="8d1e3-183">Verwalten diese "Trennung von Anliegen" hilft Ihnen, Ihre Ihren Code bereinigen und sind besser verwaltbar.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-183">Maintaining this "separation of concerns" helps keep your code clean and more maintainable.</span></span>

<span data-ttu-id="8d1e3-184">Derzeit die `Welcome` Aktionsmethode in der `HelloWorldController` -Klasse akzeptiert eine `name` und ein `numTimes` übergeben wird und Ausgaben die Werte direkt an den Browser.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-184">Currently, the `Welcome` action method in the `HelloWorldController` class takes a `name` and a `numTimes` parameter and then outputs the values directly to the browser.</span></span> <span data-ttu-id="8d1e3-185">Anstatt den Controller, die dieser Antwort als Zeichenfolge Rendern nutzen zu können, Ändern des Controllers, um stattdessen verwenden Sie eine Vorlage anzeigen.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-185">Rather than have the controller render this response as a string, let's change the controller to use a view template instead.</span></span> <span data-ttu-id="8d1e3-186">Die Ansichtsvorlage generiert eine dynamische Antwort. Das bedeutet, dass Sie die entsprechenden Datenelemente vom Controller an die Ansicht übergeben müssen, um die Antwort zu generieren.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-186">The view template will generate a dynamic response, which means that you need to pass appropriate bits of data from the controller to the view in order to generate the response.</span></span> <span data-ttu-id="8d1e3-187">Hierzu können Sie, dass des Controllers die dynamische Daten zu konzentrieren, die in der Vorlage anzeigen muss ein `ViewBag` -Objekt, das die Ansicht klicken Sie dann auf Sie zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-187">You can do this by having the controller put the dynamic data that the view template needs in a `ViewBag` object that the view template can then access.</span></span>

<span data-ttu-id="8d1e3-188">Zurück zu der *HelloWorldController.cs* Datei und ändern Sie die `Welcome` -Methode zum Hinzufügen einer `Message` und `NumTimes` -Wert an die `ViewBag` Objekt.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-188">Return to the *HelloWorldController.cs* file and change the `Welcome` method to add a `Message` and `NumTimes` value to the `ViewBag` object.</span></span> <span data-ttu-id="8d1e3-189">`ViewBag` ist ein dynamisches Objekt, d. h. Sie beliebig ihm aufnehmen können. die `ViewBag` Objekt verfügt über keine definierten Eigenschaften aus, bis Sie etwas darin einfügen.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-189">`ViewBag` is a dynamic object, which means you can put whatever you want in to it; the `ViewBag` object has no defined properties until you put something inside it.</span></span> <span data-ttu-id="8d1e3-190">Die vollständige Datei *HelloWorldController.cs* sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-190">The complete *HelloWorldController.cs* file looks like this:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample6.cs)]

<span data-ttu-id="8d1e3-191">Jetzt die `ViewBag` -Objekt enthält Daten, die automatisch an die Ansicht übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-191">Now the `ViewBag` object contains data that will be passed to the view automatically.</span></span>

<span data-ttu-id="8d1e3-192">Als Nächstes fügen Sie eine Vorlage Willkommen anzeigen!</span><span class="sxs-lookup"><span data-stu-id="8d1e3-192">Next, you need a Welcome view template!</span></span> <span data-ttu-id="8d1e3-193">In der **Debuggen** klicken Sie im Menü **MvcMovie erstellen** um sicherzustellen, dass das Projekt kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-193">In the **Debug** menu, select **Build MvcMovie** to make sure the project is compiled.</span></span>

<span data-ttu-id="8d1e3-194">[![BuildHelloWorld](adding-a-view/_static/image12.png)](adding-a-view/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-194">[![BuildHelloWorld](adding-a-view/_static/image12.png)](adding-a-view/_static/image11.png)</span></span>

<span data-ttu-id="8d1e3-195">Klicken Sie dann mit der rechten Maustaste innerhalb der `Welcome` -Methode, und klicken Sie auf **Ansicht hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-195">Then right-click inside the `Welcome` method and click **Add View**.</span></span> <span data-ttu-id="8d1e3-196">Hier wird die **Ansicht hinzufügen** das Dialogfeld sieht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-196">Here's what the **Add View** dialog box looks like:</span></span>

![](adding-a-view/_static/image13.png)

<span data-ttu-id="8d1e3-197">Klicken Sie auf **hinzufügen**, und fügen Sie folgenden Code unter der `<h2>` Element in der neuen *Welcome.cshtml* Datei.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-197">Click **Add**, and then add the following code under the `<h2>` element in the new *Welcome.cshtml* file.</span></span> <span data-ttu-id="8d1e3-198">Erstellen Sie eine Schleife, die besagt, "Hello" so häufig dass wie der Benutzer besagt, dass es sollten.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-198">You'll create a loop that says "Hello" as many times as the user says it should.</span></span> <span data-ttu-id="8d1e3-199">Die vollständige *Welcome.cshtml* Datei wird unten gezeigt.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-199">The complete *Welcome.cshtml* file is shown below.</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample7.cshtml)]

<span data-ttu-id="8d1e3-200">Führen Sie die Anwendung, und navigieren Sie zu folgender URL:</span><span class="sxs-lookup"><span data-stu-id="8d1e3-200">Run the application and browse to the following URL:</span></span>

`http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4`

<span data-ttu-id="8d1e3-201">Jetzt werden die Daten der URL entnommen und automatisch an den Controller übergeben.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-201">Now data is taken from the URL and passed to the controller automatically.</span></span> <span data-ttu-id="8d1e3-202">Der Controller Packt die Daten in einem `ViewBag` Objekt auf und übergibt das Objekt in der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-202">The controller packages the data into a `ViewBag` object and passes that object to the view.</span></span> <span data-ttu-id="8d1e3-203">Die Ansicht zeigt die Daten dann als HTML an den Benutzer.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-203">The view then displays the data as HTML to the user.</span></span>

![](adding-a-view/_static/image14.png)

<span data-ttu-id="8d1e3-204">Das war also eine Art eines „M“ für Modell, jedoch nicht der Art Datenbank.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-204">Well, that was a kind of an "M" for model, but not the database kind.</span></span> <span data-ttu-id="8d1e3-205">Lassen Sie uns das Gelernte umsetzen und eine Filmdatenbank erstellen.</span><span class="sxs-lookup"><span data-stu-id="8d1e3-205">Let's take what we've learned and create a database of movies.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8d1e3-206">[Zurück](adding-a-controller.md)
> [Weiter](adding-a-model.md)</span><span class="sxs-lookup"><span data-stu-id="8d1e3-206">[Previous](adding-a-controller.md)
[Next](adding-a-model.md)</span></span>
