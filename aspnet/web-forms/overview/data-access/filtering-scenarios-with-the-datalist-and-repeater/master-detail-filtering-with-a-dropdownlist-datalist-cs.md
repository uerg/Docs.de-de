---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
title: Master/Detail-Filtern mit einem DropDownList-Steuerelement (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial sehen wir die Vorgehensweise beim Anzeigen von Master/Detail-Berichte in einer einzelnen Webseite DropDownList-Steuerelementen verwenden, die "master"-Datensätze und einem DataList-Steuerelement, bol angezeigt...
ms.author: aspnetcontent
ms.date: 07/18/2007
ms.assetid: 07fa47ae-e491-4a2f-b265-d342b9ddef46
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: ed2631e49786c81075099cca6941d98ba3b67e37
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/05/2018
ms.locfileid: "37818251"
---
<a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="46888-103">Master/Detail-Filtern mit einem DropDownList-Steuerelement (c#)</span><span class="sxs-lookup"><span data-stu-id="46888-103">Master/Detail Filtering With a DropDownList (C#)</span></span>
====================
<span data-ttu-id="46888-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="46888-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="46888-105">[Beispiel-App herunter](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) oder [PDF-Datei herunterladen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="46888-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span></span>

> <span data-ttu-id="46888-106">In diesem Tutorial erfahren Sie wie Master/Detail-Berichte in einer einzelnen Webseite mit DropDownList-Steuerelementen zum Anzeigen der "master"-Datensätze und einem DataList-Steuerelement zum Anzeigen der "Details" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>


## <a name="introduction"></a><span data-ttu-id="46888-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="46888-107">Introduction</span></span>

<span data-ttu-id="46888-108">Master/Detail-Berichts, die wir zuerst erstellt unter Verwendung eines GridView weiter oben [Master/Detail-Filtern mit einer DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) Lernprogramm beginnt mit einem Satz von "master"-Datensätze.</span><span class="sxs-lookup"><span data-stu-id="46888-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="46888-109">Der Benutzer kann dann einen der master-Datensätze aufgliedern und Anzeigen des Datensatzes, master "."</span><span class="sxs-lookup"><span data-stu-id="46888-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="46888-110">Master/Detail-Berichte sind eine ideale Option für die Visualisierung von 1: n Beziehungen und zum Anzeigen von Informationen aus besonders "Breite" Tabellen (von denen viele Spalten).</span><span class="sxs-lookup"><span data-stu-id="46888-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="46888-111">Wir haben die Implementierung von Master/Detail-Berichte, die mit den GridView und DetailsView-Steuerelementen in vorherigen Tutorials untersucht.</span><span class="sxs-lookup"><span data-stu-id="46888-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="46888-112">In diesem Tutorial und die nächsten beiden wir werden diese Konzepte, aber der Schwerpunkt auf die mit DataList nochmals aus, und stattdessen Repeater-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="46888-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="46888-113">In diesem Tutorial betrachten wir, wie Sie mithilfe einer DropDownList für die "master"-Datensätze, die "details" Datensätze in einem DataList-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="46888-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="46888-114">Schritt 1: Hinzufügen von Webseiten das Master/Detail-Tutorial</span><span class="sxs-lookup"><span data-stu-id="46888-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="46888-115">Bevor wir in diesem Tutorial beginnen, zuerst werfen wir einen Moment Zeit, fügen Sie den Ordner und ASP.NET-Seiten benötigen wir für dieses Lernprogramm sowie die nächsten beiden Umgang mit Master/Detail-Berichte, die mit den Steuerelementen DataList- oder Wiederholungssteuerelement.</span><span class="sxs-lookup"><span data-stu-id="46888-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="46888-116">Zunächst erstellen Sie einen neuen Ordner im Projekt mit dem Namen `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="46888-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="46888-117">Fügen Sie die folgenden fünf ASP.NET-Seiten in diesen Ordner, wenn all diese Einstellungen zu konfigurieren, um die Masterseite verwenden `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="46888-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`


![Erstellen Sie einen Ordner DataListRepeaterFiltering, und fügen Sie die Tutorial ASP.NET-Seiten](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image1.png)

<span data-ttu-id="46888-119">**Abbildung 1**: Erstellen einer `DataListRepeaterFiltering` Ordner, und fügen Sie dem Tutorial ASP.NET-Seiten hinzu</span><span class="sxs-lookup"><span data-stu-id="46888-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>


<span data-ttu-id="46888-120">Öffnen Sie als Nächstes die `Default.aspx` Seite, und ziehen Sie die `SectionLevelTutorialListing.ascx` Benutzersteuerelement aus der `UserControls` Ordner auf die Entwurfsoberfläche.</span><span class="sxs-lookup"><span data-stu-id="46888-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="46888-121">Dieses Benutzersteuerelement, die wir in den erstellt die [Masterseiten und Sitenavigation](../introduction/master-pages-and-site-navigation-cs.md) Tutorial, listet die Sitemap und zeigt Sie in den Tutorials aus dem aktuellen Abschnitt in einer Liste mit Aufzählungszeichen.</span><span class="sxs-lookup"><span data-stu-id="46888-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>


<span data-ttu-id="46888-122">[![Fügen Sie das SectionLevelTutorialListing.ascx-Benutzersteuerelement an "default.aspx"](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="46888-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span></span>

<span data-ttu-id="46888-123">**Abbildung 2**: Hinzufügen der `SectionLevelTutorialListing.ascx` Benutzersteuerelement `Default.aspx` ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="46888-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span></span>


<span data-ttu-id="46888-124">Um die Anzeige der Liste mit Aufzählungszeichen müssen wir die Master-/Detail-Lernprogramme, die wir erstellen, die um sie der Sitemap hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="46888-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="46888-125">Öffnen der `Web.sitemap` Datei, und fügen Sie das folgende Markup nach "Anzeigen von Daten mit dem DataList und Repeater" Site Map Knoten Markup:</span><span class="sxs-lookup"><span data-stu-id="46888-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample1.xml)]


![Aktualisieren Sie die Website-Karte, um die neuen ASP.NET-Seiten enthalten](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image5.png)

<span data-ttu-id="46888-127">**Abbildung 3**: Aktualisieren Sie die Website-Karte, um die neuen ASP.NET-Seiten enthalten</span><span class="sxs-lookup"><span data-stu-id="46888-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>


## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="46888-128">Schritt 2: Anzeigen der Kategorien in einem DropDownList-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="46888-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="46888-129">Unsere Master/Detail-Berichts Listet die Kategorien in einem DropDownList-Steuerelement, mit dem ausgewählten Listenelement Produkte angezeigt weiter unten auf der Seite in einem DataList-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="46888-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="46888-130">Anschließend werden die erste Aufgabe vor uns, haben die Kategorien, die in einem DropDownList-Steuerelement angezeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="46888-131">Öffnen Sie zunächst die `FilterByDropDownList.aspx` auf der Seite die `DataListRepeaterFiltering` Ordner, und ziehen Sie einem DropDownList-Steuerelement aus der Toolbox auf der Seite Designer.</span><span class="sxs-lookup"><span data-stu-id="46888-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="46888-132">Legen Sie als Nächstes die DropDownList `ID` Eigenschaft `Categories`.</span><span class="sxs-lookup"><span data-stu-id="46888-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="46888-133">Klicken Sie auf den Link "Datenquelle auswählen" aus der Dropdownlistes Smarttag, und erstellen Sie eine neue, mit dem Namen "ObjectDataSource" `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="46888-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="46888-134">[![Fügen Sie eine neue, mit dem Namen CategoriesDataSource "ObjectDataSource"](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="46888-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span></span>

<span data-ttu-id="46888-135">**Abbildung 4**: Hinzufügen einer neuen "ObjectDataSource" mit dem Namen `CategoriesDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="46888-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span></span>


<span data-ttu-id="46888-136">Die neue "ObjectDataSource" So konfigurieren, dass sie ruft die `CategoriesBLL` Klasse `GetCategories()` Methode.</span><span class="sxs-lookup"><span data-stu-id="46888-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="46888-137">Nach dem Konfigurieren der müssen noch angeben, welches Feld der Datenquelle in der Dropdownliste angezeigt werden soll und welche "ObjectDataSource" sollte eine zugeordnet ist, als der Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="46888-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="46888-138">Haben die `CategoryName` -Feld als die Anzeige und `CategoryID` als Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="46888-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="46888-139">[![Haben Sie die DropDownList-Anzeige "CategoryName" Feld aus, und verwenden CategoryID als Wert](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="46888-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span></span>

<span data-ttu-id="46888-140">**Abbildung 5**: haben Sie die DropDownList-Anzeige der `CategoryName` Feld und die Verwendung `CategoryID` als Wert ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="46888-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span></span>


<span data-ttu-id="46888-141">An diesem Punkt haben wir ein DropDownList-Steuerelement, das die Datensätze aus enthält die `Categories` Tabelle (alle erreicht, etwa sechs Sekunden).</span><span class="sxs-lookup"><span data-stu-id="46888-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="46888-142">Abbildung 6 zeigt unseren Fortschritt bisher ein, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="46888-143">[![Eine Dropdown-Liste sind die aktuellen Kategorien aufgeführt.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="46888-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span></span>

<span data-ttu-id="46888-144">**Abbildung 6**: ein Dropdownlisten der aktuellen Kategorien ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="46888-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span></span>


## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="46888-145">Schritt 2: Hinzufügen von Produkten DataList-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="46888-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="46888-146">Der letzte Schritt in unserer Master/Detail-Berichts wird die ausgewählte Kategorie zugeordneten Produkte aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="46888-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="46888-147">Um dies zu erreichen, fügen Sie einem DataList-Steuerelement auf der Seite, und erstellen Sie eine neue, mit dem Namen "ObjectDataSource" `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="46888-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="46888-148">Haben die `ProductsByCategoryDataSource` Steuerelement abzurufen, die Daten aus der die `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="46888-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="46888-149">Da diese Master/Detail-Berichts schreibgeschützt ist, wählen Sie, dass die (None) auf den Registerkarten INSERT-, Update- und DELETE-option.</span><span class="sxs-lookup"><span data-stu-id="46888-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>


<span data-ttu-id="46888-150">[![Wählen Sie die GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="46888-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span></span>

<span data-ttu-id="46888-151">**Abbildung 7**: Wählen Sie die `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="46888-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span></span>


<span data-ttu-id="46888-152">Nach dem Klicken auf "Weiter" des Assistenten "ObjectDataSource" fragt uns nach der Quelle des Werts für die `GetProductsByCategoryID(categoryID)` Methode *`categoryID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="46888-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="46888-153">Der Wert des ausgewählten `categories` DropDownList-Element legen Sie die Quelle für die Parameter zum Steuern und die ControlID zu `Categories`.</span><span class="sxs-lookup"><span data-stu-id="46888-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="46888-154">[![Legen Sie die CategoryID-Parameter auf den Wert von DropDownList Kategorien](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="46888-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span></span>

<span data-ttu-id="46888-155">**Abbildung 8**: Legen Sie die *`categoryID`* Parameter, um den Wert des der `Categories` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="46888-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span></span>


<span data-ttu-id="46888-156">Nach Abschluss des Konfigurieren von Datenquellen-Assistenten, Visual Studio generiert automatisch ein `ItemTemplate` für DataList-Steuerelement, das den Namen und Wert der einzelnen Datenfelder anzeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="46888-157">Erweitern wir jetzt DataList-Steuerelement zu verwenden. eine `ItemTemplate` , anzeigt, nur den Namen des Produkts, Kategorie, Lieferanten, Menge pro Einheit und Preis zusammen mit einer `SeparatorTemplate` einfügt, die eine `<hr>` Element zwischen den einzelnen Elementen.</span><span class="sxs-lookup"><span data-stu-id="46888-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="46888-158">Ich verwende die `ItemTemplate` aus einem Beispiel in der [Anzeigen von Daten mit dem DataList- und Wiederholungssteuerelement](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) Tutorial, aber gerne verwenden alle Vorlagenmarkup am visuell ansprechend finden Sie.</span><span class="sxs-lookup"><span data-stu-id="46888-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="46888-159">Nach diesen Änderungen sollte Ihre DataList-Steuerelement und seine "ObjectDataSource" Markup etwa wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="46888-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="46888-160">Nehmen Sie einen Moment Zeit, unseren Fortschritt in einem Browser ausprobieren.</span><span class="sxs-lookup"><span data-stu-id="46888-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="46888-161">Wenn die Seite zuerst besuchen zu können, werden diese Produkte der ausgewählten Kategorie (Getränke) angezeigt, (wie in Abbildung 9 gezeigt), aber DropDownList ändern nicht die Daten aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="46888-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="46888-162">Dies ist, da ein Postback, damit DataList-Steuerelement auftreten muss aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="46888-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="46888-163">Legen Sie hierfür entweder können die DropDownList `AutoPostBack` Eigenschaft `true` oder ein Steuerelement Schaltfläche auf der Seite hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="46888-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="46888-164">Für dieses Tutorial, ich habe mich entschieden habe zum Festlegen des DropDownList `AutoPostBack` Eigenschaft `true`.</span><span class="sxs-lookup"><span data-stu-id="46888-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="46888-165">Abbildung 9 und 10 veranschaulichen die Master/Detail-Berichts in Aktion.</span><span class="sxs-lookup"><span data-stu-id="46888-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="46888-166">[![Wenn die Seite zuerst besuchen zu können, werden die trinken Produkte angezeigt.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="46888-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span></span>

<span data-ttu-id="46888-167">**Abbildung 9**: die trinken-Produkte werden angezeigt, wenn die Seite zuerst besuchen zu können, ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="46888-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span></span>


<span data-ttu-id="46888-168">[![Beim Auswählen eines neuen Produkts (erstellen) automatisch bewirkt, dass ein PostBack, DataList-Steuerelement wird aktualisiert.](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="46888-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span></span>

<span data-ttu-id="46888-169">**Abbildung 10**: Auswählen eines neuen Produkts (generieren) werden auch automatisch bewirkt, dass ein PostBack, DataList-Steuerelement wird aktualisiert ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="46888-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="46888-170">Hinzufügen eines Listenelements "– eine Kategorie auswählen:"</span><span class="sxs-lookup"><span data-stu-id="46888-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="46888-171">Beim ersten Zugriff auf die `FilterByDropDownList.aspx` Seite die Kategorien DropDownLists ersten Listenelements (Getränke) ist standardmäßig aktiviert und die Produkte Getränke im DataList-Steuerelement angezeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="46888-172">In der *Master/Detail-Filtern mit einer DropDownList* Tutorial, die wir, eine Option hinzugefügt "--eine Kategorie auswählen:" DropDownList, die standardmäßig ausgewählt und wurde, angezeigt, wenn ausgewählt, *alle* von der Produkte in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="46888-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="46888-173">Dieser Ansatz war verwaltbare beim Auflisten der Produkte in einer GridView-Ansicht, wie jede Produktzeile um eine kleine Menge Bildschirmplatz gedauert hat.</span><span class="sxs-lookup"><span data-stu-id="46888-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="46888-174">Mit dem DataList-Steuerelement beansprucht jedoch des Produkts Informationen einem viel größeren Block des Bildschirms.</span><span class="sxs-lookup"><span data-stu-id="46888-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="46888-175">Lassen Sie uns noch eine Option "--eine Kategorie auswählen:" hinzufügen und es standardmäßig ausgewählt, aber anstatt alle Produkte angezeigt. bei Auswahl dieser Option lassen Sie uns konfigurieren, damit es keine Produkte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="46888-176">Um ein neues Listenelement DropDownList hinzuzufügen, wechseln Sie zu dem Fenster "Eigenschaften", und klicken Sie auf die Auslassungspunkte in der `Items` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="46888-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="46888-177">Hinzufügen ein neuen Listenelements mit dem `Text` "– eine Kategorie auswählen:" und die `Value` `0`.</span><span class="sxs-lookup"><span data-stu-id="46888-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>


![Hinzufügen einer](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image27.png)

<span data-ttu-id="46888-179">**Abbildung 11**: Hinzufügen eines Listenelements "– eine Kategorie auswählen:"</span><span class="sxs-lookup"><span data-stu-id="46888-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>


<span data-ttu-id="46888-180">Alternativ können Sie das Listenelement hinzufügen, indem Sie das folgende Markup DropDownList hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="46888-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="46888-181">Darüber hinaus müssen wir die DropDownList-Steuerelement festgelegt `AppendDataBoundItems` zu `true` da Wenn festgelegt ist `false` (Standardeinstellung), wenn die Kategorien zu DropDownList aus dem ObjectDataSource-Steuerelement gebunden sind überschreiben diese werden alle manuell hinzugefügten Liste die Elemente.</span><span class="sxs-lookup"><span data-stu-id="46888-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>


![Legen Sie die AppendDataBoundItems-Eigenschaft auf "true"](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image28.png)

<span data-ttu-id="46888-183">**Abbildung 12**: Legen Sie die `AppendDataBoundItems` Eigenschaft auf "true"</span><span class="sxs-lookup"><span data-stu-id="46888-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="46888-184">Der Grund wählen wir den Wert `0` Element für die Liste "– eine Kategorie auswählen:" ist, da keine Kategorien vorhanden, in das System mit einem Wert von sind `0`, daher keine Produktdatensätze werden zurückgegeben, wenn das Listenelement "– eine Kategorie auswählen:" ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="46888-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="46888-185">Nehmen Sie einen Moment Zeit, um die Seite über einen Browser besuchen, um dies zu bestätigen.</span><span class="sxs-lookup"><span data-stu-id="46888-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="46888-186">Wie in Abbildung 13 dargestellt, wenn zunächst Anzeige der Seite das Listenelement "– eine Kategorie auswählen:" ausgewählt ist, und keine Produkte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="46888-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>


<span data-ttu-id="46888-187">[![Wenn die](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="46888-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span></span>

<span data-ttu-id="46888-188">**Abbildung 13**: No-Produkte werden angezeigt, wenn das Listenelement "– eine Kategorie auswählen:" aktiviert ist, ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="46888-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span></span>


<span data-ttu-id="46888-189">Wenn Sie stattdessen anzeigen würde *alle* der Produkte, wenn die Option "--eine Kategorie auswählen:" ausgewählt ist, verwenden Sie den Wert `-1` stattdessen.</span><span class="sxs-lookup"><span data-stu-id="46888-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="46888-190">Aufmerksame Leser werden sich daran erinnern, wieder in die *Master/Detail-Filtern mit einer DropDownList* Tutorial wir aktualisiert die `ProductsBLL` -Klasse `GetProductsByCategoryID(categoryID)` Methode so, dass wenn eine *`categoryID`* Wert des `-1` übergeben wurde, alle Produkt Datensätze zurückgegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="46888-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="46888-191">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="46888-191">Summary</span></span>

<span data-ttu-id="46888-192">Zum Anzeigen von hierarchisch-bezogenen Daten leichter häufig zur Darstellung der Daten mithilfe von Master/Detail-Berichte, aus denen kann der Benutzer starten darauf verwenden, die Daten aus der oben in der Hierarchie und einen Drilldown in die Details.</span><span class="sxs-lookup"><span data-stu-id="46888-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="46888-193">In diesem Tutorial untersucht wir das Erstellen eines einfachen Master/Detail-Berichts, die Produkte einer ausgewählten Kategorie angezeigt.</span><span class="sxs-lookup"><span data-stu-id="46888-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="46888-194">Dies wurde mithilfe einer DropDownList für die Liste der Kategorien und einem DataList-Steuerelement für die Produkte, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="46888-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="46888-195">Im nächsten Tutorial betrachten wir die Datensätze Master und Details über zwei Seiten aufteilen.</span><span class="sxs-lookup"><span data-stu-id="46888-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="46888-196">In der ersten Seite wird eine Liste der "master"-Datensätze mit einem Link zum Anzeigen der Details angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="46888-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="46888-197">Auf den Link wird den Benutzer auf der zweiten Seite weiter, der die Details für den ausgewählten master Datensatz angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="46888-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="46888-198">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="46888-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="46888-199">Der Autor</span><span class="sxs-lookup"><span data-stu-id="46888-199">About the Author</span></span>

<span data-ttu-id="46888-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="46888-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="46888-201">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="46888-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="46888-202">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="46888-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="46888-203">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="46888-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="46888-204">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="46888-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="46888-205">Besonderen Dank an...</span><span class="sxs-lookup"><span data-stu-id="46888-205">Special Thanks To…</span></span>

<span data-ttu-id="46888-206">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="46888-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="46888-207">Führendes Prüfer für dieses Tutorial wurde Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="46888-207">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="46888-208">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="46888-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="46888-209">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="46888-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="46888-210">Nächste</span><span class="sxs-lookup"><span data-stu-id="46888-210">Next</span></span>](master-detail-filtering-acess-two-pages-datalist-cs.md)
