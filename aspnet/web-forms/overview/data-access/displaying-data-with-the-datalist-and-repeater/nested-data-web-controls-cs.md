---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: Geschachtelte Web-Steuerelemente (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Lernprogramm aus, die wir untersuchen werden mit einem Wiederholungssteuerelement in einer anderen Repeater geschachtelt. In den Beispielen werden dem inneren Repeater beide d Auffüllen veranschaulicht...
ms.author: aspnetcontent
ms.date: 09/13/2006
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: bed7d3772d86b897cafc38a424723da6adf08f97
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/05/2018
ms.locfileid: "37839382"
---
<a name="nested-data-web-controls-c"></a><span data-ttu-id="d7a3f-104">Geschachtelte Datenwebsteuerelemente (c#)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-104">Nested Data Web Controls (C#)</span></span>
====================
<span data-ttu-id="d7a3f-105">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d7a3f-106">[Beispiel-App herunter](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) oder [PDF-Datei herunterladen](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="d7a3f-107">In diesem Lernprogramm aus, die wir untersuchen werden mit einem Wiederholungssteuerelement in einer anderen Repeater geschachtelt.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="d7a3f-108">Den Beispielen werden wie den inneren Repeater deklarativ und programmgesteuert aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


## <a name="introduction"></a><span data-ttu-id="d7a3f-109">Einführung</span><span class="sxs-lookup"><span data-stu-id="d7a3f-109">Introduction</span></span>

<span data-ttu-id="d7a3f-110">Zusätzlich zu statischem HTML-Code und die Databinding-Syntax können Vorlagen auch Web-Steuerelemente und Benutzersteuerelemente einschließen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="d7a3f-111">Diese Web-Steuerelemente können ihre Eigenschaften verfügen über die Datenbindungssyntax der deklarativen zugewiesen oder in die entsprechenden Ereignishandler für die serverseitige programmgesteuert zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="d7a3f-112">Durch Einbetten von Steuerelementen in einer Vorlage, kann die Darstellung und benutzerfreundlichkeit angepasst und verbessert werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="d7a3f-113">Z. B. in der [Verwenden von TemplateFields, im GridView-Steuerelement](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) Tutorial wurde erläutert, wie die GridView-s-Anzeige anpassen, indem Sie ein Kalender-Steuerelement hinzufügen, in ein TemplateField ein Mitarbeiter Einstellungsdatum s angezeigt, in der [hinzufügen Validierungssteuerelemente zum Bearbeiten und Einfügen von Schnittstellen](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) und [Anpassen der Benutzeroberfläche für die Änderung der Daten](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) Tutorials erläutert, wie Sie die Bearbeitung anpassen und Einfügen von Schnittstellen durch Hinzufügen der Validierung Steuerelemente, Textfelder, DropDownList-Steuerelementen und anderen Websteuerelementen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="d7a3f-114">Vorlagen können auch andere Daten Websteuerelemente enthalten.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="d7a3f-115">Wir haben, also einem DataList-Steuerelement, das eine andere DataList-Steuerelement (oder Repeater oder GridView oder DetailsView und So weiter) innerhalb der Vorlagen enthält.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="d7a3f-116">Die Herausforderung bei der eine solche Schnittstelle gebunden werden die entsprechenden Daten auf die inneren Daten Websteuerelement.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="d7a3f-117">Ein paar unterschiedliche Ansätze stehen zur Verfügung, die im Bereich von deklarativen Optionen, die mit dem ObjectDataSource-Steuerelement zu programmgesteuerte.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="d7a3f-118">In diesem Lernprogramm aus, die wir untersuchen werden mit einem Wiederholungssteuerelement in einer anderen Repeater geschachtelt.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="d7a3f-119">Der äußere Repeater enthält ein Element für jede Kategorie in der Datenbank anzeigen, Kategorie-s-Name und Beschreibung.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="d7a3f-120">Jedes Kategorieelement s in inneren Repeater zeigt Informationen zu jedem Produkt, die zu dieser Kategorie gehören (siehe Abbildung 1) in eine Liste mit Aufzählungszeichen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="d7a3f-121">Unseren Beispielen werden den inneren Repeater sowohl deklaratives und Programmgesteuertes Auffüllen veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


<span data-ttu-id="d7a3f-122">[![Jede Kategorie sowie die Produkte, werden aufgeführt.](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="d7a3f-123">**Abbildung 1**: jede Kategorie sowie die Produkte, aufgeführt sind ([klicken Sie, um das Bild in voller Größe anzeigen](nested-data-web-controls-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d7a3f-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>


## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="d7a3f-124">Schritt 1: Erstellen der Liste der Kategorien</span><span class="sxs-lookup"><span data-stu-id="d7a3f-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="d7a3f-125">Wenn datenwebsteuerelemente erstellen eine Seite, die verwendet geschachtelt werden, ich es hilfreich zu entwerfen, erstellen, und das äußerste Web Datensteuerelement zuerst testen, ohne auch die inneren geschachtelten Steuerelements kümmern.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="d7a3f-126">Aus diesem Grund können Sie s starten, indem Sie die Schritte notwendig, einem Wiederholungssteuerelement zur Seite hinzuzufügen, die den Namen und eine Beschreibung für die einzelnen Kategorien auflistet.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="d7a3f-127">Öffnen Sie zunächst die `NestedControls.aspx` auf der Seite die `DataListRepeaterBasics` Ordner und fügen Sie ein Repeater-Steuerelement auf der Seite festlegen seiner `ID` Eigenschaft `CategoryList`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="d7a3f-128">Wählen Sie aus dem Smarttag Repeater s, zum Erstellen einer neuen, mit dem Namen "ObjectDataSource" `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="d7a3f-129">[![Name der neuen CategoriesDataSource "ObjectDataSource"](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="d7a3f-130">**Abbildung 2**: Benennen Sie die neue "ObjectDataSource" `CategoriesDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d7a3f-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>


<span data-ttu-id="d7a3f-131">Dem ObjectDataSource-Steuerelement so konfigurieren, dass er die Daten aus der zieht die `CategoriesBLL` Klasse s `GetCategories` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>


<span data-ttu-id="d7a3f-132">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der CategoriesBLL Klasse s GetCategories-Methode](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="d7a3f-133">**Abbildung 3**: Konfigurieren von dem ObjectDataSource-Steuerelement verwenden die `CategoriesBLL` s-Klasse `GetCategories` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="d7a3f-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>


<span data-ttu-id="d7a3f-134">Zum Angeben der Repeater-s-Vorlage muss Inhalt wechseln zur Quellansicht, und geben Sie die deklarative Syntax manuell ein.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="d7a3f-135">Hinzufügen einer `ItemTemplate` , die den Kategorienamen s in zeigt eine `<h4>` Element und die Beschreibung der Kategorie s in einem Absatzelement (`<p>`).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="d7a3f-136">Darüber hinaus können s trennen Sie die einzelnen Kategorien durch eine horizontale Trennlinie (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="d7a3f-137">Nach diesen Änderungen sollte Ihre Seite deklarativen Syntax enthalten, für das Repeater- und das ObjectDataSource-Steuerelement, das etwa wie folgt:</span><span class="sxs-lookup"><span data-stu-id="d7a3f-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="d7a3f-138">Abbildung 4 zeigt unseren Fortschritt, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-138">Figure 4 shows our progress when viewed through a browser.</span></span>


<span data-ttu-id="d7a3f-139">[![Jede Kategorie s Name und Beschreibung aufgelistet ist getrennt durch eine horizontale Trennlinie](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="d7a3f-140">**Abbildung 4**: jede Kategorie-s-Name und Beschreibung aufgelistet ist, getrennt durch eine horizontale Trennlinie ([klicken Sie, um das Bild in voller Größe anzeigen](nested-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="d7a3f-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>


## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="d7a3f-141">Schritt 2: Hinzufügen geschachtelter Produkt Repeater</span><span class="sxs-lookup"><span data-stu-id="d7a3f-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="d7a3f-142">Mit der Kategorie Angebot abgeschlossen ist, unsere nächste Aufgabe ist einen Repeater zum Hinzufügen der `CategoryList` s `ItemTemplate` , Informationen zu diesen Produkten, die zu der jeweiligen Kategorie gehören anzeigt.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="d7a3f-143">Es gibt eine Reihe von Möglichkeiten, die wir Daten für diesen inneren Repeater, abrufen können, von denen zwei wir weiter unten erläutert.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="d7a3f-144">Jetzt können s nur die Produkte Repeater erstellen innerhalb der `CategoryList` Repeater s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="d7a3f-145">Können Sie insbesondere s haben das Produkt Repeater-Anzeige, die jedes Produkt in einer Liste mit Aufzählungszeichen mit jedem Listenelement einschließlich Produktname s und Preis.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="d7a3f-146">Um diesen Repeater zu erstellen, wir manuell eingeben, die deklarative Syntax des inneren Repeater s und die Vorlagen in müssen, die `CategoryList` s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="d7a3f-147">Fügen Sie das folgende Markup innerhalb der `CategoryList` Repeater s `ItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="d7a3f-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="d7a3f-148">Schritt 3: Binden von kategoriespezifische Produkte an die ProductsByCategoryList Repeater</span><span class="sxs-lookup"><span data-stu-id="d7a3f-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="d7a3f-149">Wenn Sie an dieser Stelle die Seite über einen Browser besuchen, Ihren Bildschirm wird genauso aussehen wie in Abbildung 4 da wir haben noch, um alle Daten an den Repeater zu binden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="d7a3f-150">Es gibt einige Möglichkeiten, können wir ziehen Sie die entsprechenden Datensätze und diese an die Repeater, einige effizienter als andere binden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="d7a3f-151">Das Hauptproblem hier erhält die entsprechenden Produkte für die angegebene Kategorie zurück.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="d7a3f-152">Die Daten zum Binden an das interne Repeater-Steuerelement können entweder deklarativ über eine "ObjectDataSource" zugegriffen werden die `CategoryList` Repeater s `ItemTemplate`, oder programmgesteuert über die ASP.NET Seite s Code-Behind-Seite.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="d7a3f-153">Auf ähnliche Weise diese Daten gebunden werden können, den inneren Repeater entweder deklarativ - über die inneren Repeater s `DataSourceID` Eigenschaft oder mithilfe von deklarativer Datenbindungssyntax oder programmgesteuert durch Verweisen auf die innere Repeater in die `CategoryList` Repeater s `ItemDataBound` -Ereignishandler programmgesteuerten Festlegen der `DataSource` -Eigenschaft und Aufrufen von dessen `DataBind()` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="d7a3f-154">Lassen Sie s, die jeder dieser Ansätze zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="d7a3f-155">Zugreifen auf die Daten deklarativ mit ein ObjectDataSource-Steuerelement und die`ItemDataBound`-Ereignishandler</span><span class="sxs-lookup"><span data-stu-id="d7a3f-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="d7a3f-156">Seit wir verwendet haben, dem ObjectDataSource-Steuerelement ausführlich in dieser Reihe von Tutorials, die beste Wahl für den Zugriff auf Daten, für dieses Beispiel ist, bleiben Sie mit dem ObjectDataSource-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="d7a3f-157">Die `ProductsBLL` -Klasse verfügt über eine `GetProductsByCategoryID(categoryID)` Methode, die Informationen zu diesen Produkten zurückgibt, die mit dem angegebenen gehören *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="d7a3f-158">Aus diesem Grund können wir ein "ObjectDataSource" zum Hinzufügen der `CategoryList` Repeater s `ItemTemplate` , und konfigurieren sie den Zugriff auf die Daten von dieser Klasse s-Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="d7a3f-159">Leider Repeater t ermöglichen die Vorlagen, über die Entwurfsansicht bearbeitet werden, daher wir die deklarative Syntax für das ObjectDataSource-Steuerelement manuell hinzufügen müssen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="d7a3f-160">Die folgende Syntax stellt die `CategoryList` Repeater s `ItemTemplate` nach dem Hinzufügen dieses neuen "ObjectDataSource" (`ProductsByCategoryDataSource`):</span><span class="sxs-lookup"><span data-stu-id="d7a3f-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="d7a3f-161">Bei Verwendung des Ansatzes "ObjectDataSource" müssen wir legen die `ProductsByCategoryList` Repeater s `DataSourceID` Eigenschaft, um die `ID` von dem ObjectDataSource-Steuerelement (`ProductsByCategoryDataSource`).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="d7a3f-162">Außerdem Beachten Sie, dass unsere "ObjectDataSource" eine `<asp:Parameter>` Element, das angibt der *`categoryID`* -Wert, der an übergeben werden die `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="d7a3f-163">Aber wie wir diesen Wert angeben?</span><span class="sxs-lookup"><span data-stu-id="d7a3f-163">But how do we specify this value?</span></span> <span data-ttu-id="d7a3f-164">Im Idealfall wir d in der Lage, legen Sie einfach die `DefaultValue` Eigenschaft der `<asp:Parameter>` Element mithilfe der Datenbindungssyntax, wie folgt:</span><span class="sxs-lookup"><span data-stu-id="d7a3f-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="d7a3f-165">Databinding-Syntax ist leider nur gültig in Steuerelemente, die eine `DataBinding` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="d7a3f-166">Die `Parameter` -Klasse fehlen eines Ereignisses und aus diesem Grund die oben aufgeführten Syntax ist nicht zulässig, und führt zu einem Laufzeitfehler.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="d7a3f-167">Um diesen Wert festlegen, müssen wir erstellen einen Ereignishandler für die `CategoryList` Repeater s `ItemDataBound` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="d7a3f-168">Bedenken Sie, dass die `ItemDataBound` -Ereignis wird einmal für jedes Element an der Repeater gebunden ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="d7a3f-169">Daher jedes Mal, die dieses Ereignis wird, für die äußere Repeater ausgelöst können weisen wir die aktuelle `CategoryID` Wert der `ProductsByCategoryDataSource` "ObjectDataSource" s `CategoryID` Parameter.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="d7a3f-170">Erstellen Sie einen Ereignishandler für die `CategoryList` Repeater s `ItemDataBound` -Ereignis mit den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="d7a3f-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="d7a3f-171">Dieser Ereignishandler startet, indem Sie sicherstellen, dass wir erneut Umgang mit einem statt der Kopfzeilen, Fußzeilen oder Trennzeichen Element Element.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="d7a3f-172">Als Nächstes, wir verweisen auf die tatsächliche `CategoriesRow` -Instanz, die nur mit dem aktuellen gebunden wurde `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="d7a3f-173">Außerdem verweisen wir zu "ObjectDataSource" die `ItemTemplate` und weisen Sie die `CategoryID` Parameterwert, der die `CategoryID` des aktuellen `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="d7a3f-174">Mit diesem Ereignishandler die `ProductsByCategoryList` Repeater in den einzelnen `RepeaterItem` gebunden ist, um diese Produkte in der `RepeaterItem` s-Kategorie.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="d7a3f-175">Abbildung 5 zeigt einen Screenshot, der die resultierende Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-175">Figure 5 shows a screen shot of the resulting output.</span></span>


<span data-ttu-id="d7a3f-176">[![Der äußere Repeater sind jeder Kategorie aufgeführt. das Innere einer Listet die Produkte für diese Kategorie](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="d7a3f-177">**Abbildung 5**: der äußere Repeater listet jede Kategorie %% amp; die innere eine Listen die Produkte für die Kategorie ([klicken Sie, um das Bild in voller Größe anzeigen](nested-data-web-controls-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="d7a3f-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>


## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="d7a3f-178">Programmgesteuerter Zugriff auf die Produkte nach Kategoriedaten</span><span class="sxs-lookup"><span data-stu-id="d7a3f-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="d7a3f-179">Statt einer ObjectDataSource gegeben, die Produkte für die aktuelle Kategorie abzurufen, können wir erstellen Sie eine Methode in unserer ASP.NET Seite s Code-Behind-Klasse (oder in der `App_Code` Ordner oder in einem separaten Klassenbibliotheksprojekt), die den entsprechenden Satz von zurückgibt Produkte, die beim Übergeben einer `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="d7a3f-180">Stellen Sie sich vor, dass wir in unserer ASP.NET Seite s Code-Behind-Klasse eine solche Methode hatten und benannt wurde `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="d7a3f-181">Mit dieser Methode vorhanden konnten wir die Produkte für die aktuelle Kategorie an den inneren Repeater mithilfe der folgenden deklarative Syntax binden:</span><span class="sxs-lookup"><span data-stu-id="d7a3f-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="d7a3f-182">Der Repeater s `DataSource` Eigenschaft verwendet die Databinding-Syntax, um anzugeben, dass die Daten stammen die `GetProductsInCategory(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="d7a3f-183">Da `Eval("CategoryID")` gibt einen Wert vom Typ `Object`, wir wandeln Sie das Objekt in ein `Integer` vor der Übergabe in die `GetProductsInCategory(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="d7a3f-184">Beachten Sie, dass der `CategoryID` zugegriffen hier über die Datenbindung Syntax ist der `CategoryID` in der *äußeren* Repeater (`CategoryList`), der s gebunden, auf die Datensätze in der `Categories` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="d7a3f-185">Aus diesem Grund wissen wir, dass `CategoryID` eine Datenbank nicht möglich `NULL` Wert, der angibt, warum wir Blind umgewandelt werden kann die `Eval` -Methode ohne überprüfen, ob wir erneut Umgang mit einer `DBNull`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="d7a3f-186">Bei diesem Ansatz müssen wir erstellen den `GetProductsInCategory(categoryID)` Methode und den entsprechenden Satz von Produkten, erhält die angegebene abrufen *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="d7a3f-187">Wir erreichen dies durch eine einfache Rückkehr der `ProductsDataTable` zurückgegebenes der `ProductsBLL` Klasse s `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="d7a3f-188">S erstellen lassen die `GetProductsInCategory(categoryID)` Methode in der CodeBehind-Klasse für unseren `NestedControls.aspx` Seite.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="d7a3f-189">Dazu verwenden Sie den folgenden Code:</span><span class="sxs-lookup"><span data-stu-id="d7a3f-189">Do so using the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="d7a3f-190">Diese Methode erstellt einfach eine Instanz von der `ProductsBLL` Methode und gibt die Ergebnisse der `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="d7a3f-191">Beachten Sie, dass die Methode markiert sein muss `Public` oder `Protected`; Wenn die Methode markiert ist `Private`, es kann nicht aus dem ASP.NET Seite s deklaratives Markup zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="d7a3f-192">Nach diesen Änderungen zum Verwenden dieses neuen Verfahrens nehmen einen Moment Zeit, um die Seite über einen Browser anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="d7a3f-193">Die Ausgabe sollte in die Ausgabe identisch sein, wenn mit dem ObjectDataSource-Steuerelement und `ItemDataBound` Event Handler Ansatz (siehe Abbildung 5, um einen Screenshot finden Sie unter).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="d7a3f-194">Es mag nichtproduktive Beschäftigung, zum Erstellen der `GetProductsInCategory(categoryID)` -Methode in der ASP.NET Page s-Code-Behind-Klasse.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="d7a3f-195">Schließlich erstellt diese Methode einfach eine Instanz von der `ProductsBLL` -Klasse und gibt die Ergebnisse der seine `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="d7a3f-196">Warum also nicht direkt über die Databinding-Syntax in der inneren Repeater, wie diese Methode nur aufrufen: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="d7a3f-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="d7a3f-197">Obwohl diese Syntax t-arbeiten mit unseren aktuellen Implementierung von gewonnen hat die `ProductsBLL` Klasse (da die `GetProductsByCategoryID(categoryID)` Methode ist eine Instanzmethode), können Sie ändern `ProductsBLL` zum Einschließen der eines statisches `GetProductsByCategoryID(categoryID)` Methode oder über die Klasse, die statisch `Instance()` Methode, um eine neue Instanz der zurückzugeben. die `ProductsBLL` Klasse.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-197">Although this syntax won t work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>


<span data-ttu-id="d7a3f-198">Während Sie solche Änderungen die Notwendigkeit beseitigen, würde die `GetProductsInCategory(categoryID)` -Methode in der ASP.NET Page s-Code-Behind-Klasse, die Code-Behind-Klassenmethode ergibt mehr Flexibilität bei der Arbeit mit den Daten abgerufen, wie wir gleich sehen werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="d7a3f-199">Abrufen aller gleichzeitig die Produktinformationen</span><span class="sxs-lookup"><span data-stu-id="d7a3f-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="d7a3f-200">Die beiden früheren Techniken wir untersucht haben diese Produkte für die aktuelle Kategorie ziehen Sie von einem Aufruf an die `ProductsBLL` s-Klasse `GetProductsByCategoryID(categoryID)` Methode (der erste Ansatz wurde dies durch ein ObjectDataSource-Steuerelement, das zweite bis der `GetProductsInCategory(categoryID)` -Methode in der die Code-Behind-Klasse).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="d7a3f-201">Jedes Mal, diese Methode aufgerufen wird, die Business Logic Layer-Aufrufe auf der Datenzugriffsebene, die Abfragen der Datenbank mit einer SQL-Anweisung, die Zeilen zurückgibt. die `Products` Tabelle, deren `CategoryID` Feld mit den bereitgestellten Eingabeparameter übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="d7a3f-202">Erhält *N* Kategorien im System, die diesen Ansatz Nettoermittlung *N* + 1 Aufrufe an die Datenbank eine Datenbank-Abfrage zum Abrufen aller Kategorien und dann *N* aufrufen, um die Produkte zu erhalten. für jede Kategorie.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="d7a3f-203">Wir können jedoch alle erforderlichen Daten in nur zwei Datenbank-Aufrufe ein Aufruf zum Abrufen aller Kategorien und eine zum Abrufen aller Produkte abrufen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="d7a3f-204">Nachdem wir alle Produkte haben, können wir diese Produkte also filtern, dass nur die Produkte, die die aktuelle Übereinstimmung `CategoryID` gebunden sind, auf diese Kategorie s innere Repeater.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="d7a3f-205">Um diese Funktionalität zu gewährleisten, müssen wir nur eine kleine Änderung an Stellen die `GetProductsInCategory(categoryID)` -Methode in unserer ASP.NET Page s-Code-Behind-Klasse.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="d7a3f-206">Anstatt Sie wahllos Zurückgeben der Ergebnisse von der `ProductsBLL` s-Klasse `GetProductsByCategoryID(categoryID)` -Methode, können wir stattdessen ersten Zugriff auf *alle* der Produkte (Wenn sie t wurde wurde bereits zugegriffen) und wieder nur die gefilterte Ansicht der der Produkte basierend auf der übergebenen `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven t been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="d7a3f-207">Beachten Sie das Hinzufügen der Variable auf Seitenebene `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="d7a3f-208">Dies enthält Informationen zu allen Produkten und wird beim ersten aufgefüllt, die `GetProductsInCategory(categoryID)` -Methode wird aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="d7a3f-209">Nachdem Sie sichergestellt haben, die die `allProducts` Objekt erstellt und aufgefüllt wurde, die Methode filtert die Ergebnisse, DataTable s aus, sodass nur die Zeilen, deren `CategoryID` entspricht dem angegebenen `CategoryID` zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="d7a3f-210">Dieser Ansatz reduziert die Anzahl der Male, die die Datenbank über erfolgt *N* + 1 auf zwei.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="d7a3f-211">Diese Verbesserung führt keine Änderungen, dem gerenderten Markup der Seite, und bringt sie wieder weniger Datensätze als der andere Ansatz.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="d7a3f-212">Es wird einfach die Anzahl der Aufrufe an die Datenbank verringert.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="d7a3f-213">Eine möglicherweise intuitiv Grund, dass die Reduzierung der Anzahl von Datenbankzugriffe unbedingt einer leistungsverbesserung.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="d7a3f-214">Allerdings kann dies nicht der Fall sein.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-214">However, this might not be the case.</span></span> <span data-ttu-id="d7a3f-215">Wenn Sie über eine große Anzahl von Produkten verfügen, deren `CategoryID` ist `NULL`, für das Beispiel, und klicken Sie dann auf den Aufruf von der `GetProducts` Methode gibt eine Reihe von Produkten, die nie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="d7a3f-216">Darüber hinaus Zurückgeben aller Produkte möglich Vergeudung Wenn Sie erneut mit nur eine Teilmenge der Kategorien, was der Fall sein kann, wenn Sie Paging implementiert haben.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>


<span data-ttu-id="d7a3f-217">Wie immer, wenn es zum Analysieren der Leistung von zwei Techniken geht, wird das Measure nur scherzhafter Kommentar gesteuerten Tests, die für Ihre Anwendung s allgemeine Anwendungsszenarien maßgeschneiderte ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="d7a3f-218">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="d7a3f-218">Summary</span></span>

<span data-ttu-id="d7a3f-219">In diesem Tutorial wurde erläutert, wie ein Websteuerelement innerhalb einer anderen schachteln speziell untersucht, wie man eine äußere Repeater, das ein Element für jede Kategorie mit einem inneren Repeater Auflisten von Produkten für jede Kategorie in eine Liste mit Aufzählungszeichen angezeigt haben.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="d7a3f-220">Die größte Herausforderung beim Erstellen einer geschachtelten Benutzeroberfläche liegt in den Zugriff auf und binden die richtigen Daten an das interne Web-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="d7a3f-221">Es gibt eine Vielzahl von Techniken zur Verfügung, von denen zwei wir in diesem Tutorial untersuchten.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="d7a3f-222">Die erste Methode untersucht verwendet eine "ObjectDataSource" in der äußeren Websteuerelement s `ItemTemplate` , gebunden an das interne Web-Steuerelement über seine `DataSourceID` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="d7a3f-223">Die zweite Methode Zugriff auf die Daten über eine Methode in der ASP.NET Page-s-Code-Behind-Klasse.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="d7a3f-224">Diese Methode klicken Sie dann auf die inneren Daten Websteuerelement s gebunden werden kann `DataSource` Eigenschaft über die Databinding-Syntax.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="d7a3f-225">Während die geschachtelten Benutzeroberfläche untersucht, die in diesem Tutorial einen Repeater, die in einem Wiederholungssteuerelement geschachtelt verwendet, können diese Techniken auf den anderen datenwebsteuerelementen erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="d7a3f-226">Sie können schachteln, einen Repeater innerhalb einer GridView-Ansicht oder einer GridView-Ansicht in einem DataList-Steuerelement und so weiter.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="d7a3f-227">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="d7a3f-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d7a3f-228">Der Autor</span><span class="sxs-lookup"><span data-stu-id="d7a3f-228">About the Author</span></span>

<span data-ttu-id="d7a3f-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d7a3f-230">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d7a3f-231">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d7a3f-232">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="d7a3f-233">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="d7a3f-233">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="d7a3f-234">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="d7a3f-234">Special Thanks To</span></span>

<span data-ttu-id="d7a3f-235">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-235">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d7a3f-236">Führendes Prüfer für dieses Tutorial wurden Zack Jones und Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="d7a3f-236">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="d7a3f-237">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="d7a3f-237">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d7a3f-238">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-238">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d7a3f-239">[Zurück](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
> [Weiter](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="d7a3f-239">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
