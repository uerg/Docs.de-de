---
uid: web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
title: Deklarative Parameter (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial werden wir veranschaulichen ein Parametersatz, der auf einen hartcodierten Wert verwenden, zur Auswahl der Daten in einem DetailsView-Steuerelement angezeigt.
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 603c9bd3-b895-4ec6-853b-0c81ff36d580
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
msc.type: authoredcontent
ms.openlocfilehash: 0e4091e873aab8bed4e0f4a5b2a30784fd52723e
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/16/2018
ms.locfileid: "41836481"
---
<a name="declarative-parameters-c"></a><span data-ttu-id="38eca-103">Deklarative Parameter (c#)</span><span class="sxs-lookup"><span data-stu-id="38eca-103">Declarative Parameters (C#)</span></span>
====================
<span data-ttu-id="38eca-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="38eca-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="38eca-105">[Beispiel-App herunter](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) oder [PDF-Datei herunterladen](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="38eca-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) or [Download PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span></span>

> <span data-ttu-id="38eca-106">In diesem Tutorial werden wir veranschaulichen ein Parametersatz, der auf einen hartcodierten Wert verwenden, zur Auswahl der Daten in einem DetailsView-Steuerelement angezeigt.</span><span class="sxs-lookup"><span data-stu-id="38eca-106">In this tutorial we'll illustrate how to use a parameter set to a hard-coded value to select the data to display in a DetailsView control.</span></span>


## <a name="introduction"></a><span data-ttu-id="38eca-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="38eca-107">Introduction</span></span>

<span data-ttu-id="38eca-108">In der [letzten Tutorial](displaying-data-with-the-objectdatasource-cs.md) erläutert, Anzeigen von Daten mit die GridView, DetailsView oder FormView-Steuerelemente gebunden werden, um ein ObjectDataSource-Steuerelement, das aufgerufen der `GetProducts()` Methode aus der `ProductsBLL` Klasse.</span><span class="sxs-lookup"><span data-stu-id="38eca-108">In the [last tutorial](displaying-data-with-the-objectdatasource-cs.md) we looked at displaying data with the GridView, DetailsView, and FormView controls bound to an ObjectDataSource control that invoked the `GetProducts()` method from the `ProductsBLL` class.</span></span> <span data-ttu-id="38eca-109">Die `GetProducts()` Methode gibt eine stark typisierte DataTable, die mit der alle Datensätze aus der Northwind-Datenbank aufgefüllt `Products` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="38eca-109">The `GetProducts()` method returns a strongly-typed DataTable populated with all of the records from the Northwind database's `Products` table.</span></span> <span data-ttu-id="38eca-110">Die `ProductsBLL` -Klasse enthält zusätzliche Methoden zum Zurückgeben nur Teilmengen der Produkte - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, und `GetProductsBySupplierID(supplierID)`.</span><span class="sxs-lookup"><span data-stu-id="38eca-110">The `ProductsBLL` class contains additional methods for returning just subsets of the products - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, and `GetProductsBySupplierID(supplierID)`.</span></span> <span data-ttu-id="38eca-111">Diese drei Methoden erwarten einen Eingabeparameter, der angibt, wie Sie die zurückgegebenen Produktinformationen zu filtern.</span><span class="sxs-lookup"><span data-stu-id="38eca-111">These three methods expect an input parameter indicating how to filter the returned product information.</span></span>

<span data-ttu-id="38eca-112">Zum Aufrufen von Methoden, die Eingabeparameter zu erwarten, aber zu diesem Zweck müssen wir angeben, woher die Werte für diese Parameter kommen, kann dem ObjectDataSource-Steuerelement verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="38eca-112">The ObjectDataSource can be used to invoke methods that expect input parameters, but in order to do so we must specify where the values for these parameters come from.</span></span> <span data-ttu-id="38eca-113">Die Parameterwerte können hartcodiert werden, oder können stammen aus einer Vielzahl von dynamischen Quellen, einschließlich: Querystring-Werte, Sitzungsvariablen, Wert der Eigenschaft für ein Steuerelement auf der Seite, oder andere.</span><span class="sxs-lookup"><span data-stu-id="38eca-113">The parameter values can be hard-coded or can come from a variety of dynamic sources, including: querystring values, Session variables, the property value of a Web control on the page, or others.</span></span>

<span data-ttu-id="38eca-114">In diesem Tutorial beginnen zeigen, wie Sie mithilfe eines Parameters, der auf einen hartcodierten Wert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="38eca-114">For this tutorial let's start by illustrating how to use a parameter set to a hard-coded value.</span></span> <span data-ttu-id="38eca-115">Insbesondere betrachten wir eine DetailsView hinzufügen, um die Seite mit Informationen zu einem bestimmten Produkt, d. h. die Chef-Anton Gumbo Mischung mit einem `ProductID` 5.</span><span class="sxs-lookup"><span data-stu-id="38eca-115">Specifically, we'll look at adding a DetailsView to the page that displays information about a specific product, namely Chef Anton's Gumbo Mix, which has a `ProductID` of 5.</span></span> <span data-ttu-id="38eca-116">Als Nächstes sehen wir, wie Sie den Wert des Parameters, basierend auf einem Websteuerelement festlegen.</span><span class="sxs-lookup"><span data-stu-id="38eca-116">Next, we'll see how to set the parameter value based on a Web control.</span></span> <span data-ttu-id="38eca-117">Insbesondere verwenden wir ein TextBox-Element, damit der Benutzer, die in einem anderen Land, geben Sie nach dem sie eine Schaltfläche, um die Liste mit Lieferanten, die in diesem Land befinden, finden klicken können.</span><span class="sxs-lookup"><span data-stu-id="38eca-117">In particular, we'll use a TextBox to let the user type in a country, after which they can click a Button to see the list of suppliers that reside in that country.</span></span>

## <a name="using-a-hard-coded-parameter-value"></a><span data-ttu-id="38eca-118">Verwenden einen hartcodierten Parameterwert</span><span class="sxs-lookup"><span data-stu-id="38eca-118">Using a Hard-Coded Parameter Value</span></span>

<span data-ttu-id="38eca-119">Im ersten Beispiel zu starten, durch das Hinzufügen von einem DetailsView-Steuerelement, um die `DeclarativeParams.aspx` auf der Seite die `BasicReporting` Ordner.</span><span class="sxs-lookup"><span data-stu-id="38eca-119">For the first example, start by adding a DetailsView control to the `DeclarativeParams.aspx` page in the `BasicReporting` folder.</span></span> <span data-ttu-id="38eca-120">Wählen Sie aus DetailsViews Smarttag &lt;neue Datenquelle&gt; aus der Dropdownliste aus, und wählen Sie ein ObjectDataSource-Steuerelement hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="38eca-120">From the DetailsView's smart tag, select &lt;New data source&gt; from the drop-down list and choose to add an ObjectDataSource.</span></span>


<span data-ttu-id="38eca-121">[![Ein ObjectDataSource-Steuerelement auf der Seite hinzufügen](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-121">[![Add an ObjectDataSource to the Page](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span></span>

<span data-ttu-id="38eca-122">**Abbildung 1**: Fügen Sie ein ObjectDataSource-Steuerelement auf der Seite ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-122">**Figure 1**: Add an ObjectDataSource to the Page ([Click to view full-size image](declarative-parameters-cs/_static/image3.png))</span></span>


<span data-ttu-id="38eca-123">Dadurch wird die Assistenten für das ObjectDataSource-Steuerelement-Datenquelle wählen Sie automatisch gestartet.</span><span class="sxs-lookup"><span data-stu-id="38eca-123">This will automatically start the ObjectDataSource control's Choose Data Source wizard.</span></span> <span data-ttu-id="38eca-124">Wählen Sie die `ProductsBLL` -Klasse aus dem ersten Bildschirm des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="38eca-124">Select the `ProductsBLL` class from the first screen of the wizard.</span></span>


<span data-ttu-id="38eca-125">[![Wählen Sie die ProductsBLL-Klasse](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-125">[![Select the ProductsBLL Class](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span></span>

<span data-ttu-id="38eca-126">**Abbildung 2**: Wählen Sie die `ProductsBLL` Klasse ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-126">**Figure 2**: Select the `ProductsBLL` Class ([Click to view full-size image](declarative-parameters-cs/_static/image6.png))</span></span>


<span data-ttu-id="38eca-127">Da wir Informationen über ein bestimmtes Produkt angezeigt werden soll, die wir verwenden möchten die `GetProductByProductID(productID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="38eca-127">Since we want to display information about a particular product we want to use the `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="38eca-128">[![Wählen Sie die GetProductByProductID(productID)-Methode](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-128">[![Choose the GetProductByProductID(productID) method](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span></span>

<span data-ttu-id="38eca-129">**Abbildung 3**: Wählen Sie die `GetProductByProductID(productID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-129">**Figure 3**: Choose the `GetProductByProductID(productID)` method ([Click to view full-size image](declarative-parameters-cs/_static/image9.png))</span></span>


<span data-ttu-id="38eca-130">Da die Methode, die wir ausgewählt haben, einen Parameter enthält, ist eine weitere Bildschirm für den Assistenten, wobei wir gefragt werden, zum Definieren des Wertes für den Parameter verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="38eca-130">Since the method we selected includes a parameter, there's one more screen for the wizard, where we're asked to define the value to be used for the parameter.</span></span> <span data-ttu-id="38eca-131">Die Liste auf der linken Seite zeigt alle Parameter für die ausgewählte Methode.</span><span class="sxs-lookup"><span data-stu-id="38eca-131">The list on the left shows all of the parameters for the selected method.</span></span> <span data-ttu-id="38eca-132">Für `GetProductByProductID(productID)` ist nur ein `productID`.</span><span class="sxs-lookup"><span data-stu-id="38eca-132">For `GetProductByProductID(productID)` there's only one `productID`.</span></span> <span data-ttu-id="38eca-133">Auf der rechten Seite können wir den Wert für den ausgewählten Parameter angeben.</span><span class="sxs-lookup"><span data-stu-id="38eca-133">On the right we can specify the value for the selected parameter.</span></span> <span data-ttu-id="38eca-134">Dropdownliste für die Parameter-Quelle Listet die verschiedenen möglichen Quellen für den Parameterwert auf.</span><span class="sxs-lookup"><span data-stu-id="38eca-134">The parameter source drop-down list enumerates the various possible sources for the parameter value.</span></span> <span data-ttu-id="38eca-135">Da wir einen hartcodierten Wert 5 für angeben möchten die `productID` -Parameter, lassen Sie die Parameter-Quelle mit "None", und geben Sie 5 in das Textfeld "DefaultValue" ein.</span><span class="sxs-lookup"><span data-stu-id="38eca-135">Since we want to specify a hard-coded value of 5 for the `productID` parameter, leave the Parameter source as None and enter 5 into the DefaultValue textbox.</span></span>


<span data-ttu-id="38eca-136">[![Eine Hard-Coded Parameter Wert von 5 verwendet für die ProductID-Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-136">[![A Hard-Coded Parameter Value of 5 Will Be Used for the productID Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span></span>

<span data-ttu-id="38eca-137">**Abbildung 4**: A Hard-Coded Parameter Wert von 5 wird die `productID` Parameter ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-137">**Figure 4**: A Hard-Coded Parameter Value of 5 Will Be Used for the `productID` Parameter ([Click to view full-size image](declarative-parameters-cs/_static/image12.png))</span></span>


<span data-ttu-id="38eca-138">Nach Abschluss der Konfigurieren von Datenquellen-Assistenten deklaratives Markup für das ObjectDataSource-Steuerelement enthält eine `Parameter` -Objekt in der `SelectParameters` Auflistung für jeden der von der Methode definiert, die Eingabeparameter der `SelectMethod` Diese Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="38eca-138">After completing the Configure Data Source wizard, the ObjectDataSource control's declarative markup includes a `Parameter` object in the `SelectParameters` collection for each of the input parameters expected by the method defined in the `SelectMethod` property.</span></span> <span data-ttu-id="38eca-139">Da die Methode, die in diesem Beispiel wir verwenden nur einen einzelnen Eingabeparameter erwartet `parameterID`, hier nur ein Eintrag vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="38eca-139">Since the method we're using in this example expects just a single input parameter, `parameterID`, there's only one entry here.</span></span> <span data-ttu-id="38eca-140">Die `SelectParameters` Sammlung kann jede abgeleitete Klasse enthalten die `Parameter` -Klasse in der `System.Web.UI.WebControls` Namespace.</span><span class="sxs-lookup"><span data-stu-id="38eca-140">The `SelectParameters` collection can contain any class that derives from the `Parameter` class in the `System.Web.UI.WebControls` namespace.</span></span> <span data-ttu-id="38eca-141">Für die hartcodierten Parameterwerte in der Base `Parameter` Klasse wird verwendet, aber der andere Parameter Source-Optionen einer abgeleiteten `Parameter` Klasse wird verwendet; Sie können auch eigene erstellen [benutzerdefinierten Parametertypen](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), falls erforderlich.</span><span class="sxs-lookup"><span data-stu-id="38eca-141">For hard-coded parameter values the base `Parameter` class is used, but for the other parameter source options a derived `Parameter` class is used; you can also create your own [custom parameter types](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), if needed.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="38eca-142">Wenn auf Ihrem eigenen Computer deklarative Markup Anschluss sehen Sie an diesem Punkt Mai, die Werte für die `InsertMethod`, `UpdateMethod`, und `DeleteMethod` Eigenschaften als auch `DeleteParameters`.</span><span class="sxs-lookup"><span data-stu-id="38eca-142">If you're following along on your own computer the declarative markup you see at this point may include values for the `InsertMethod`, `UpdateMethod`, and `DeleteMethod` properties, as well as `DeleteParameters`.</span></span> <span data-ttu-id="38eca-143">Das "ObjectDataSource" Datenquelle auswählen-Assistent gibt automatisch die Methoden aus der `ProductBLL` zum Einfügen, aktualisieren und Löschen verwendet werden, damit es sei denn, Sie explizit die heraus deaktiviert haben, sie in das Markup oben aufgenommen werden müssen.</span><span class="sxs-lookup"><span data-stu-id="38eca-143">The ObjectDataSource's Choose Data Source wizard automatically specifies the methods from the `ProductBLL` to use for inserting, updating, and deleting, so unless you explicitly cleared those out, they'll be included in the markup above.</span></span>


<span data-ttu-id="38eca-144">Wenn diese Seite besuchen, ruft die Daten-Websteuerelement dem ObjectDataSource-Steuerelement `Select` -Methode, die aufgerufen wird die `ProductsBLL` -Klasse `GetProductByProductID(productID)` Methode, die mit dem hartcodierten Wert 5 für die `productID` input-Parameters.</span><span class="sxs-lookup"><span data-stu-id="38eca-144">When visiting this page, the data Web control will invoke the ObjectDataSource's `Select` method, which will call the `ProductsBLL` class's `GetProductByProductID(productID)` method using the hard-coded value of 5 for the `productID` input parameter.</span></span> <span data-ttu-id="38eca-145">Die Methode gibt einen stark typisierten `ProductDataTable` -Objekt, das eine einzelne Zeile mit Informationen über die Chef-Anton Gumbo Mix enthält (das Produkt mit `ProductID` 5).</span><span class="sxs-lookup"><span data-stu-id="38eca-145">The method will return a strongly-typed `ProductDataTable` object that contains a single row with information about Chef Anton's Gumbo Mix (the product with `ProductID` 5).</span></span>


<span data-ttu-id="38eca-146">[![Informationen zu Chef Antons Gumbo Mix werden angezeigt.](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-146">[![Information About Chef Anton's Gumbo Mix are Displayed](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span></span>

<span data-ttu-id="38eca-147">**Abbildung 5**: Informationen zu Chef Antons Gumbo Mix angezeigt werden ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-147">**Figure 5**: Information About Chef Anton's Gumbo Mix are Displayed ([Click to view full-size image](declarative-parameters-cs/_static/image15.png))</span></span>


## <a name="setting-the-parameter-value-to-the-property-value-of-a-web-control"></a><span data-ttu-id="38eca-148">Festlegen des Parameterwerts auf den Eigenschaftswert eines Websteuerelements</span><span class="sxs-lookup"><span data-stu-id="38eca-148">Setting the Parameter Value to the Property Value of a Web Control</span></span>

<span data-ttu-id="38eca-149">Das "ObjectDataSource"-Parameter, die Werte auch festgelegt werden können, basierend auf dem Wert eines Websteuerelements auf der Seite.</span><span class="sxs-lookup"><span data-stu-id="38eca-149">The ObjectDataSource's parameter values can also be set based on the value of a Web control on the page.</span></span> <span data-ttu-id="38eca-150">Um dies zu veranschaulichen, lassen Sie uns eine GridView, die alle Lieferanten auflistet, die in einem vom Benutzer angegebene Land befinden.</span><span class="sxs-lookup"><span data-stu-id="38eca-150">To illustrate this, let's have a GridView that lists all of the suppliers that are located in a country specified by the user.</span></span> <span data-ttu-id="38eca-151">Zum Ausführen dieser Start durch Hinzufügen eines Textfelds auf der Seite, in der der Benutzer einen Ländernamen eingeben kann.</span><span class="sxs-lookup"><span data-stu-id="38eca-151">To accomplish this start by adding a TextBox to the page into which the user can enter a country name.</span></span> <span data-ttu-id="38eca-152">Legen Sie dieses TextBox-Steuerelements `ID` Eigenschaft `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="38eca-152">Set this TextBox control's `ID` property to `CountryName`.</span></span> <span data-ttu-id="38eca-153">Fügen Sie auch ein Steuerelement Schaltfläche hinzu.</span><span class="sxs-lookup"><span data-stu-id="38eca-153">Also add a Button Web control.</span></span>


<span data-ttu-id="38eca-154">[![Fügen Sie ein Textfeld auf die Seite mit der ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-154">[![Add a TextBox to the Page with ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span></span>

<span data-ttu-id="38eca-155">**Abbildung 6**: Fügen Sie ein Textfeld auf der Seite mit `ID` `CountryName` ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-155">**Figure 6**: Add a TextBox to the Page with `ID` `CountryName` ([Click to view full-size image](declarative-parameters-cs/_static/image18.png))</span></span>


<span data-ttu-id="38eca-156">Hinzufügen einer GridView-Ansicht aus, auf der Seite und aus dem Smarttag, wählen Sie anschließend eine neue "ObjectDataSource" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="38eca-156">Next, add a GridView to the page and, from the smart tag, choose to add a new ObjectDataSource.</span></span> <span data-ttu-id="38eca-157">Da wir Lieferanten Informationen wählen angezeigt werden soll die `SuppliersBLL` Klasse aus dem ersten Bildschirm des Assistenten.</span><span class="sxs-lookup"><span data-stu-id="38eca-157">Since we want to display supplier information select the `SuppliersBLL` class from the wizard's first screen.</span></span> <span data-ttu-id="38eca-158">Wählen Sie aus dem zweiten Bildschirm der `GetSuppliersByCountry(country)` Methode.</span><span class="sxs-lookup"><span data-stu-id="38eca-158">From the second screen, pick the `GetSuppliersByCountry(country)` method.</span></span>


<span data-ttu-id="38eca-159">[![Wählen Sie die GetSuppliersByCountry(country)-Methode](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-159">[![Choose the GetSuppliersByCountry(country) Method](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span></span>

<span data-ttu-id="38eca-160">**Abbildung 7**: Wählen Sie die `GetSuppliersByCountry(country)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-160">**Figure 7**: Choose the `GetSuppliersByCountry(country)` Method ([Click to view full-size image](declarative-parameters-cs/_static/image21.png))</span></span>


<span data-ttu-id="38eca-161">Da die `GetSuppliersByCountry(country)` Methode verfügt über einen Eingabeparameter, die der Assistent umfasst wiederum einen letzten Bildschirm zum Auswählen der Wert des Parameters.</span><span class="sxs-lookup"><span data-stu-id="38eca-161">Since the `GetSuppliersByCountry(country)` method has an input parameter, the wizard once again includes a final screen for choosing the parameter value.</span></span> <span data-ttu-id="38eca-162">Legen Sie dieses Mal die Parameterquelle steuern.</span><span class="sxs-lookup"><span data-stu-id="38eca-162">This time, set the Parameter source to Control.</span></span> <span data-ttu-id="38eca-163">Dadurch wird die ControlID Dropdown-Liste mit den Namen der Steuerelemente auf der Seite ausgefüllt; Wählen Sie die `CountryName` Steuerelement aus der Liste.</span><span class="sxs-lookup"><span data-stu-id="38eca-163">This will populate the ControlID drop-down list with the names of the controls on the page; select the `CountryName` control from the list.</span></span> <span data-ttu-id="38eca-164">Wenn zuerst die Seite besucht wird die `CountryName` TextBox, leer ist, sind, so dass keine Ergebnisse zurückgegeben werden, und es wird nichts angezeigt.</span><span class="sxs-lookup"><span data-stu-id="38eca-164">When the page is first visited the `CountryName` TextBox will be blank, so no results are returned and nothing is displayed.</span></span> <span data-ttu-id="38eca-165">Wenn einige Ergebnisse werden standardmäßig angezeigt werden sollen, legen Sie das DefaultValue-Textfeld entsprechend fest.</span><span class="sxs-lookup"><span data-stu-id="38eca-165">If you want to display some results by default, set the DefaultValue textbox accordingly.</span></span>


<span data-ttu-id="38eca-166">[![Legen Sie den Parameterwert auf den Wert für die CountryName-Steuerelement](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-166">[![Set the Parameter Value to the CountryName Control Value](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span></span>

<span data-ttu-id="38eca-167">**Abbildung 8**: Legen Sie den Parameterwert auf den `CountryName` Steuerelementwert ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-167">**Figure 8**: Set the Parameter Value to the `CountryName` Control Value ([Click to view full-size image](declarative-parameters-cs/_static/image24.png))</span></span>


<span data-ttu-id="38eca-168">Das "ObjectDataSource" deklarative Markup unterscheidet sich geringfügig vom ersten Beispiel mit einer [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) anstelle des standardmäßigen `Parameter` Objekt.</span><span class="sxs-lookup"><span data-stu-id="38eca-168">The ObjectDataSource's declarative markup differs slightly from our first example, using a [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) instead of the standard `Parameter` object.</span></span> <span data-ttu-id="38eca-169">Ein `ControlParameter` verfügt über zusätzliche Eigenschaften, die an die `ID` das Websteuerelement und den Eigenschaftswert angibt, für den Parameter verwendet (`PropertyName`).</span><span class="sxs-lookup"><span data-stu-id="38eca-169">A `ControlParameter` has additional properties to specify the `ID` of the Web control and the property value to use for the parameter (`PropertyName`).</span></span> <span data-ttu-id="38eca-170">Das Konfigurieren von Datenquellen-Assistent konnte intelligent genug, um zu bestimmen, dass für ein Textfeld, wir Sie verwenden möchten die `Text` -Eigenschaft für den Wert des Parameters.</span><span class="sxs-lookup"><span data-stu-id="38eca-170">The Configure Data Source wizard was smart enough to determine that, for a TextBox, we'll likely want to use the `Text` property for the parameter value.</span></span> <span data-ttu-id="38eca-171">Wenn Sie jedoch einen anderen Eigenschaftswert aus dem Web-Steuerelement verwendet werden sollen. Sie können ändern, die `PropertyName` Wert hier oder auf den Link "Erweiterte Eigenschaften einblenden" im Assistenten.</span><span class="sxs-lookup"><span data-stu-id="38eca-171">If, however, you want to use a different property value from the Web control you can change the `PropertyName` value here or by clicking the "Show advanced properties" link in the wizard.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample2.aspx)]

<span data-ttu-id="38eca-172">Wenn die Seite zum ersten Mal besuchen der `CountryName` Textfeld leer ist.</span><span class="sxs-lookup"><span data-stu-id="38eca-172">When visiting the page for the first time the `CountryName` TextBox is empty.</span></span> <span data-ttu-id="38eca-173">Das "ObjectDataSource" `Select` Methode wird von der GridView, aber der Wert immer noch aufgerufen `null` übergeben wird, in der `GetSuppliersByCountry(country)` Methode.</span><span class="sxs-lookup"><span data-stu-id="38eca-173">The ObjectDataSource's `Select` method is still invoked by the GridView, but a value of `null` is passed into the `GetSuppliersByCountry(country)` method.</span></span> <span data-ttu-id="38eca-174">TableAdapter konvertiert die `null` in einer Datenbank `NULL` Wert (`DBNull.Value`), jedoch die Abfrage ein, die die `GetSuppliersByCountry(country)` Methode ist so geschrieben, dass es Rückgabewert nicht Werte, wenn eine `NULL` Wert wird angegeben, für die `@CategoryID`Parameter.</span><span class="sxs-lookup"><span data-stu-id="38eca-174">The TableAdapter converts the `null` into a database `NULL` value (`DBNull.Value`), but the query used by the `GetSuppliersByCountry(country)` method is written such that it doesn't return any values when a `NULL` value is specified for the `@CategoryID` parameter.</span></span> <span data-ttu-id="38eca-175">Kurz gesagt, es werden keine Lieferanten zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="38eca-175">In short, no suppliers are returned.</span></span>

<span data-ttu-id="38eca-176">Nachdem der Besucher in einem anderen Land, jedoch gibt ein und klickt auf die Schaltfläche anzeigen Lieferanten, um ein Postback, dem ObjectDataSource-Steuerelement die dazu führen, dass `Select` Methode erneut abgefragt, in des TextBox-Steuerelements übergeben `Text` Wert wie die `country` Parameter.</span><span class="sxs-lookup"><span data-stu-id="38eca-176">Once the visitor enters in a country, however, and clicks the Show Suppliers button to cause a postback, the ObjectDataSource's `Select` method is requeried, passing in the TextBox control's `Text` value as the `country` parameter.</span></span>


<span data-ttu-id="38eca-177">[![Die Lieferanten von Kanada werden angezeigt.](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-177">[![Those Suppliers from Canada are Shown](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span></span>

<span data-ttu-id="38eca-178">**Abbildung 9**: die Lieferanten von Kanada angezeigt werden ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-178">**Figure 9**: Those Suppliers from Canada are Shown ([Click to view full-size image](declarative-parameters-cs/_static/image27.png))</span></span>


## <a name="showing-all-suppliers-by-default"></a><span data-ttu-id="38eca-179">Alle Lieferanten in der Standardeinstellung angezeigt</span><span class="sxs-lookup"><span data-stu-id="38eca-179">Showing All Suppliers By Default</span></span>

<span data-ttu-id="38eca-180">Stattdessen als keiner der Lieferanten anzeigen, wenn Sie die Seite zuerst anzeigen sollen zeigen *alle* Lieferanten zuerst, damit der Benutzer in der Liste nach unten zu kürzen, indem Sie einen Ländernamen in das Textfeld eingeben.</span><span class="sxs-lookup"><span data-stu-id="38eca-180">Rather than show none of the suppliers when first viewing the page we may want to show *all* suppliers at first, allowing the user to pare down the list by entering a country name in the TextBox.</span></span> <span data-ttu-id="38eca-181">Wenn das Textfeld leer ist, ist die `SuppliersBLL` -Klasse `GetSuppliersByCountry(country)` Methode übergeben eine `null` Wert für die *`country`* input-Parameters.</span><span class="sxs-lookup"><span data-stu-id="38eca-181">When the TextBox is empty, the `SuppliersBLL` class's `GetSuppliersByCountry(country)` method is passed in a `null` value for its *`country`* input parameter.</span></span> <span data-ttu-id="38eca-182">Dies `null` Wert wird dann nach unten in der DAL übergeben `GetSupplierByCountry(country)` -Methode, in dem er wird in einer Datenbank konvertiert `NULL` Wert für die `@Country` Parameter in der folgenden Abfrage:</span><span class="sxs-lookup"><span data-stu-id="38eca-182">This `null` value is then passed down into the DAL's `GetSupplierByCountry(country)` method, where it's translated to a database `NULL` value for the `@Country` parameter in the following query:</span></span>

[!code-sql[Main](declarative-parameters-cs/samples/sample3.sql)]

<span data-ttu-id="38eca-183">Der Ausdruck `Country = NULL` immer False zurückgegeben, auch für Datensätze, deren `Country` Spalte weist eine `NULL` Wert; aus diesem Grund werden keine Datensätze zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="38eca-183">The expression `Country = NULL` always returns False, even for records whose `Country` column has a `NULL` value; therefore, no records are returned.</span></span>

<span data-ttu-id="38eca-184">Zurückzugebenden *alle* Lieferanten, wenn das Land Textfeld leer ist, können wir verbessern die `GetSuppliersByCountry(country)` -Methode in der die BLL zum Aufrufen der `GetSuppliers()` Methode, wenn als Land-Parameter `null` und rufen Sie die DAL `GetSuppliersByCountry(country)` Methode, die andernfalls.</span><span class="sxs-lookup"><span data-stu-id="38eca-184">To return *all* suppliers when the country TextBox is empty, we can augment the `GetSuppliersByCountry(country)` method in the BLL to invoke the `GetSuppliers()` method when its country parameter is `null` and to call the DAL's `GetSuppliersByCountry(country)` method otherwise.</span></span> <span data-ttu-id="38eca-185">Dadurch müssen die Auswirkungen der alle Lieferanten, wenn kein Land angegeben wird und die entsprechende Datenteilmenge Lieferanten zurückgeben, wenn der Country-Parameter enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="38eca-185">This will have the effect of returning all suppliers when no country is specified and the appropriate subset of suppliers when the country parameter is included.</span></span>

<span data-ttu-id="38eca-186">Ändern der `GetSuppliersByCountry(country)` -Methode in der die `SuppliersBLL` -Klasse folgendermaßen:</span><span class="sxs-lookup"><span data-stu-id="38eca-186">Change the `GetSuppliersByCountry(country)` method in the `SuppliersBLL` class to the following:</span></span>

[!code-csharp[Main](declarative-parameters-cs/samples/sample4.cs)]

<span data-ttu-id="38eca-187">Durch diese Änderung der `DeclarativeParams.aspx` Seite zeigt alle Lieferanten beim ersten Mal besucht hat (oder jedes Mal, wenn die `CountryName` Textfeld leer ist).</span><span class="sxs-lookup"><span data-stu-id="38eca-187">With this change the `DeclarativeParams.aspx` page shows all of the suppliers when first visited (or whenever the `CountryName` TextBox is empty).</span></span>


<span data-ttu-id="38eca-188">[![Alle Lieferanten sind jetzt standardmäßig angezeigt.](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="38eca-188">[![All Suppliers are Now Shown by Default](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span></span>

<span data-ttu-id="38eca-189">**Abbildung 10**: alle Lieferanten sind jetzt standardmäßig angezeigt ([klicken Sie, um das Bild in voller Größe anzeigen](declarative-parameters-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="38eca-189">**Figure 10**: All Suppliers are Now Shown by Default ([Click to view full-size image](declarative-parameters-cs/_static/image30.png))</span></span>


## <a name="summary"></a><span data-ttu-id="38eca-190">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="38eca-190">Summary</span></span>

<span data-ttu-id="38eca-191">Um Methoden mit Eingabeparametern verwenden zu können, müssen wir die Werte für die Parameter in dem ObjectDataSource-Steuerelement angeben `SelectParameters` Auflistung.</span><span class="sxs-lookup"><span data-stu-id="38eca-191">In order to use methods with input parameters, we need to specify the values for the parameters in the ObjectDataSource's `SelectParameters` collection.</span></span> <span data-ttu-id="38eca-192">Verschiedene Arten von Parametern ermöglichen den Wert des Parameters aus verschiedenen Quellen abgerufen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="38eca-192">Different types of parameters allow for the parameter value to be obtained from different sources.</span></span> <span data-ttu-id="38eca-193">Der standardmäßige Parametertyp verwendet einen hartcodierten Wert aber so einfach (und ohne eine einzige Zeile Code) Parameterwerte aus der Abfragezeichenfolge, Sitzung Variablen, Cookies und auch neben der freien Eingabe von Werten aus Web-Steuerelemente auf der Seite abgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="38eca-193">The default parameter type uses a hard-coded value, but just as easily (and without a line of code) parameter values can be obtained from the querystring, Session variables, cookies, and even user-entered values from Web controls on the page.</span></span>

<span data-ttu-id="38eca-194">Die Beispiele, die wir uns angesehen, in diesem Tutorial haben gezeigt, wie deklarative Parameterwerte verwenden.</span><span class="sxs-lookup"><span data-stu-id="38eca-194">The examples we looked at in this tutorial illustrated how to use declarative parameter values.</span></span> <span data-ttu-id="38eca-195">Allerdings kann es Zeiten werden, wenn wir benötigen eine Source-Parameter verwenden, die nicht verfügbar, z. B. das aktuelle Datum und die Uhrzeit ist, oder, wenn unsere Website Mitgliedschaft, die Benutzer-ID des Besuchers verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="38eca-195">However, there may be times when we need to use a parameter source that's not available, such as the current date and time, or, if our site was using Membership, the User ID of the visitor.</span></span> <span data-ttu-id="38eca-196">Für solche Szenarien können wir die Werte der Parameter vor dem ObjectDataSource-Steuerelement programmgesteuert festlegen, das Aufrufen des zugrunde liegenden Objekts-Methode.</span><span class="sxs-lookup"><span data-stu-id="38eca-196">For such scenarios we can set the parameter values programmatically prior to the ObjectDataSource invoking its underlying object's method.</span></span> <span data-ttu-id="38eca-197">Erfahren Sie, wie Sie dazu in der [nächsten Tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span><span class="sxs-lookup"><span data-stu-id="38eca-197">We'll see how to accomplish this in the [next tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span></span>

<span data-ttu-id="38eca-198">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="38eca-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="38eca-199">Der Autor</span><span class="sxs-lookup"><span data-stu-id="38eca-199">About the Author</span></span>

<span data-ttu-id="38eca-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="38eca-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="38eca-201">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="38eca-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="38eca-202">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="38eca-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="38eca-203">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="38eca-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="38eca-204">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="38eca-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="38eca-205">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="38eca-205">Special Thanks To</span></span>

<span data-ttu-id="38eca-206">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="38eca-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="38eca-207">Führendes Prüfer für dieses Tutorial ist Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="38eca-207">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="38eca-208">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="38eca-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="38eca-209">Wenn dies der Fall ist, löschen Sie mir eine Linie an [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="38eca-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="38eca-210">[Zurück](displaying-data-with-the-objectdatasource-cs.md)
> [Weiter](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span><span class="sxs-lookup"><span data-stu-id="38eca-210">[Previous](displaying-data-with-the-objectdatasource-cs.md)
[Next](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span></span>
