---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-cs
title: Master/Detail-Filtern mit einem DropDownList-Steuerelement (c#) | Microsoft-Dokumentation
author: rick-anderson
description: In diesem Tutorial sehen wir, wie die master-Datensätze in einem DropDownList-Steuerelement und die Details der ausgewählten Listenelements in einer GridView-Ansicht angezeigt werden.
ms.author: aspnetcontent
ms.date: 03/31/2010
ms.assetid: 53e659cc-eefb-40c1-a1dc-559481c99443
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-a-dropdownlist-cs
msc.type: authoredcontent
ms.openlocfilehash: c2bf3156840c378e554eef3a0629705c059f2777
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/05/2018
ms.locfileid: "37833334"
---
<a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="68f68-103">Master/Detail-Filtern mit einem DropDownList-Steuerelement (c#)</span><span class="sxs-lookup"><span data-stu-id="68f68-103">Master/Detail Filtering With a DropDownList (C#)</span></span>
====================
<span data-ttu-id="68f68-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="68f68-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="68f68-105">[Beispiel-App herunter](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_7_CS.exe) oder [PDF-Datei herunterladen](master-detail-filtering-with-a-dropdownlist-cs/_static/datatutorial07cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="68f68-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_7_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-cs/_static/datatutorial07cs1.pdf)</span></span>

> <span data-ttu-id="68f68-106">In diesem Tutorial sehen wir, wie die master-Datensätze in einem DropDownList-Steuerelement und die Details der ausgewählten Listenelements in einer GridView-Ansicht angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="68f68-106">In this tutorial we'll see how to display the master records in a DropDownList control and the details of the selected list item in a GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="68f68-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="68f68-107">Introduction</span></span>

<span data-ttu-id="68f68-108">Ist kein gemeinsamer Typ des Berichts die *Master/Detail-Berichts*, in dem der Bericht mit einem Satz von "master" Datensätze beginnt.</span><span class="sxs-lookup"><span data-stu-id="68f68-108">A common type of report is the *master/detail report*, in which the report begins by showing some set of "master" records.</span></span> <span data-ttu-id="68f68-109">Der Benutzer kann dann einen der master-Datensätze aufgliedern und Anzeigen des Datensatzes, master "."</span><span class="sxs-lookup"><span data-stu-id="68f68-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="68f68-110">Master/Detail-Berichte sind eine ideale Option zum Visualisieren von 1: n Beziehungen, z. B. einen Bericht zeigt alle Kategorien an und klicken Sie dann ermöglicht einen Benutzer, wählen Sie eine bestimmte Kategorie und seine zugeordneten Produkte anzeigen.</span><span class="sxs-lookup"><span data-stu-id="68f68-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships, such as a report showing all of the categories and then allowing a user to select a particular category and display its associated products.</span></span> <span data-ttu-id="68f68-111">Darüber hinaus eignen sich Master/Detail-Berichte zum Anzeigen ausführlicher Informationen aus besonders "Breite" Tabellen (von denen viele Spalten).</span><span class="sxs-lookup"><span data-stu-id="68f68-111">Additionally, master/detail reports are useful for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="68f68-112">Z. B. die "master"-Ebene eines Master-/Detail-Berichts möglicherweise nur den Name und Unit Produktpreis der Produkte in der Datenbank angezeigt und Drilldown für ein bestimmtes Produkt würde Felder anzeigen, die zusätzliche Produkt (Kategorie "," Supplier "," Menge pro Einheit und usw.).</span><span class="sxs-lookup"><span data-stu-id="68f68-112">For example, the "master" level of a master/detail report might show just the product name and unit price of the products in the database, and drilling down into a particular product would show the additional product fields (category, supplier, quantity per unit, and so on).</span></span>

<span data-ttu-id="68f68-113">Es gibt viele Möglichkeiten, die mit denen ein Master/Detail-Berichts implementiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="68f68-113">There are many ways with which a master/detail report can be implemented.</span></span> <span data-ttu-id="68f68-114">Über diese und die nächsten drei Tutorials betrachten wir eine Vielzahl von Master/Detail-Berichte.</span><span class="sxs-lookup"><span data-stu-id="68f68-114">Over this and the next three tutorials we'll look at a variety of master/detail reports.</span></span> <span data-ttu-id="68f68-115">In diesem Tutorial erfahren Sie, wie zum Anzeigen der master-Datensätze in einem [DropDownList-Steuerelement](https://msdn.microsoft.com/library/dtx91y0z.aspx) sowie Details zu dem ausgewählten Element in einer GridView-Ansicht.</span><span class="sxs-lookup"><span data-stu-id="68f68-115">In this tutorial we'll see how to display the master records in a [DropDownList control](https://msdn.microsoft.com/library/dtx91y0z.aspx) and the details of the selected list item in a GridView.</span></span> <span data-ttu-id="68f68-116">Insbesondere werden in diesem Lernprogramm die Master/Detail-Berichts, Kategorie und Produktinformationen aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="68f68-116">In particular, this tutorial's master/detail report will list category and product information.</span></span>

## <a name="step-1-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="68f68-117">Schritt 1: Anzeigen der Kategorien in einem DropDownList-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="68f68-117">Step 1: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="68f68-118">Unsere Master/Detail-Berichts Listet die Kategorien in einem DropDownList-Steuerelement, mit dem ausgewählten Listenelement Produkte angezeigt weiter unten auf der Seite in einer GridView-Ansicht.</span><span class="sxs-lookup"><span data-stu-id="68f68-118">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a GridView.</span></span> <span data-ttu-id="68f68-119">Anschließend werden die erste Aufgabe vor uns, haben die Kategorien, die in einem DropDownList-Steuerelement angezeigt.</span><span class="sxs-lookup"><span data-stu-id="68f68-119">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="68f68-120">Öffnen der `FilterByDropDownList.aspx` auf der Seite die `Filtering` Ordner auf einem DropDownList-Steuerelement aus der Toolbox auf der Seite Designer ziehen, und legen Sie dessen `ID` Eigenschaft `Categories`.</span><span class="sxs-lookup"><span data-stu-id="68f68-120">Open the `FilterByDropDownList.aspx` page in the `Filtering` folder, drag on a DropDownList from the Toolbox onto the page's designer, and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="68f68-121">Klicken Sie anschließend auf den Link "Datenquelle auswählen" aus der Dropdownlistes Smarttag.</span><span class="sxs-lookup"><span data-stu-id="68f68-121">Next, click on the Choose Data Source link from the DropDownList's smart tag.</span></span> <span data-ttu-id="68f68-122">Dadurch wird der Assistent zum Konfigurieren von Datenquellen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="68f68-122">This will display the Data Source Configuration wizard.</span></span>


<span data-ttu-id="68f68-123">[![Geben Sie die DropDownList-Datenquelle](master-detail-filtering-with-a-dropdownlist-cs/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-123">[![Specify the DropDownList's Data Source](master-detail-filtering-with-a-dropdownlist-cs/_static/image2.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image1.png)</span></span>

<span data-ttu-id="68f68-124">**Abbildung 1**: Geben Sie DropDownLists-Datenquelle ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-124">**Figure 1**: Specify the DropDownList's Data Source ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image3.png))</span></span>


<span data-ttu-id="68f68-125">Wählen Sie zum Hinzufügen einer neuen, mit dem Namen "ObjectDataSource" `CategoriesDataSource` aufruft, die die `CategoriesBLL` -Klasse `GetCategories()` Methode.</span><span class="sxs-lookup"><span data-stu-id="68f68-125">Choose to add a new ObjectDataSource named `CategoriesDataSource` that invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span>


<span data-ttu-id="68f68-126">[![Fügen Sie eine neue, mit dem Namen CategoriesDataSource "ObjectDataSource"](master-detail-filtering-with-a-dropdownlist-cs/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-126">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-cs/_static/image5.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image4.png)</span></span>

<span data-ttu-id="68f68-127">**Abbildung 2**: Hinzufügen einer neuen "ObjectDataSource" mit dem Namen `CategoriesDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-127">**Figure 2**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image6.png))</span></span>


<span data-ttu-id="68f68-128">[![Wählen Sie die Klasse CategoriesBLL verwendet](master-detail-filtering-with-a-dropdownlist-cs/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-a-dropdownlist-cs/_static/image8.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image7.png)</span></span>

<span data-ttu-id="68f68-129">**Abbildung 3**: Wählen Sie zum Verwenden der `CategoriesBLL` Klasse ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-129">**Figure 3**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image9.png))</span></span>


<span data-ttu-id="68f68-130">[![Konfigurieren von dem ObjectDataSource-Steuerelement zur Verwendung der GetCategories()-Methode](master-detail-filtering-with-a-dropdownlist-cs/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-a-dropdownlist-cs/_static/image11.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image10.png)</span></span>

<span data-ttu-id="68f68-131">**Abbildung 4**: Konfigurieren von dem ObjectDataSource-Steuerelement verwenden die `GetCategories()` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-131">**Figure 4**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image12.png))</span></span>


<span data-ttu-id="68f68-132">Nach dem Konfigurieren der müssen noch angeben, welche Datenquellenfeld in DropDownList angezeigt werden soll und welche "ObjectDataSource" sollte eine zugeordnet ist, als der Wert für das Element der Liste sein.</span><span class="sxs-lookup"><span data-stu-id="68f68-132">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in DropDownList and which one should be associated as the value for the list item.</span></span> <span data-ttu-id="68f68-133">Haben die `CategoryName` -Feld als die Anzeige und `CategoryID` als Wert für jedes Listenelement.</span><span class="sxs-lookup"><span data-stu-id="68f68-133">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="68f68-134">[![Haben Sie die DropDownList-Anzeige "CategoryName" Feld aus, und verwenden CategoryID als Wert](master-detail-filtering-with-a-dropdownlist-cs/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-cs/_static/image14.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image13.png)</span></span>

<span data-ttu-id="68f68-135">**Abbildung 5**: haben Sie die DropDownList-Anzeige der `CategoryName` Feld und die Verwendung `CategoryID` als Wert ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-135">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image15.png))</span></span>


<span data-ttu-id="68f68-136">An diesem Punkt haben wir ein DropDownList-Steuerelement, das die Datensätze aus enthält die `Categories` Tabelle (alle erreicht, etwa sechs Sekunden).</span><span class="sxs-lookup"><span data-stu-id="68f68-136">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="68f68-137">Abbildung 6 zeigt unseren Fortschritt bisher ein, wenn Sie über einen Browser angezeigt.</span><span class="sxs-lookup"><span data-stu-id="68f68-137">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="68f68-138">[![Eine Dropdown-Liste sind die aktuellen Kategorien aufgeführt.](master-detail-filtering-with-a-dropdownlist-cs/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-138">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-cs/_static/image17.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image16.png)</span></span>

<span data-ttu-id="68f68-139">**Abbildung 6**: ein Dropdownlisten der aktuellen Kategorien ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-139">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image18.png))</span></span>


## <a name="step-2-adding-the-products-gridview"></a><span data-ttu-id="68f68-140">Schritt 2: Hinzufügen der Produkte GridView</span><span class="sxs-lookup"><span data-stu-id="68f68-140">Step 2: Adding the Products GridView</span></span>

<span data-ttu-id="68f68-141">Der letzte Schritt in unserer Master/Detail-Berichts wird die ausgewählte Kategorie zugeordneten Produkte aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="68f68-141">That last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="68f68-142">Um dies zu erreichen, Hinzufügen einer GridView-Ansicht auf der Seite, und erstellen Sie eine neue, mit dem Namen "ObjectDataSource" `productsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="68f68-142">To accomplish this, add a GridView to the page and create a new ObjectDataSource named `productsDataSource`.</span></span> <span data-ttu-id="68f68-143">Haben die `productsDataSource` Steuerelement reduzieren, die Daten aus der die `ProductsBLL` Klasse `GetProductsByCategoryID(categoryID)` Methode.</span><span class="sxs-lookup"><span data-stu-id="68f68-143">Have the `productsDataSource` control cull its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="68f68-144">[![Wählen Sie die GetProductsByCategoryID(categoryID)-Methode](master-detail-filtering-with-a-dropdownlist-cs/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-144">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-cs/_static/image20.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image19.png)</span></span>

<span data-ttu-id="68f68-145">**Abbildung 7**: Wählen Sie die `GetProductsByCategoryID(categoryID)` Methode ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-145">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image21.png))</span></span>


<span data-ttu-id="68f68-146">Nach dem Auswählen dieser Methode an, der ObjectDataSource-Steuerelement-Assistent verlangt den Wert für die Methode *`categoryID`* Parameter.</span><span class="sxs-lookup"><span data-stu-id="68f68-146">After choosing this method, the ObjectDataSource wizard prompts us for the value for the method's *`categoryID`* parameter.</span></span> <span data-ttu-id="68f68-147">Der Wert des ausgewählten `categories` DropDownList-Element legen Sie die Quelle für die Parameter zum Steuern und die ControlID zu `Categories`.</span><span class="sxs-lookup"><span data-stu-id="68f68-147">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="68f68-148">[![Legen Sie die CategoryID-Parameter auf den Wert von DropDownList Kategorien](master-detail-filtering-with-a-dropdownlist-cs/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-148">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-cs/_static/image23.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image22.png)</span></span>

<span data-ttu-id="68f68-149">**Abbildung 8**: Legen Sie die *`categoryID`* Parameter, um den Wert des der `Categories` DropDownList ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-149">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image24.png))</span></span>


<span data-ttu-id="68f68-150">Nehmen Sie einen Moment Zeit, unseren Fortschritt in einem Browser ausprobieren.</span><span class="sxs-lookup"><span data-stu-id="68f68-150">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="68f68-151">Wenn die Seite zuerst besuchen zu können, werden diese Produkte der ausgewählten Kategorie gehören (Getränke) werden angezeigt (siehe Abbildung 9), aber der Dropdownliste ändern nicht die Daten aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="68f68-151">When first visiting the page, those products belong to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="68f68-152">Dies ist, da ein Postback, damit die GridView auftreten muss zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="68f68-152">This is because a postback must occur for the GridView to update.</span></span> <span data-ttu-id="68f68-153">Zu diesem Zweck gibt es zwei Optionen zur Verfügung (die nicht erforderlich, Code schreiben zu müssen):</span><span class="sxs-lookup"><span data-stu-id="68f68-153">To accomplish this we have two options (neither of which requires writing any code):</span></span>

- <span data-ttu-id="68f68-154">**Legen Sie der Kategorien DropDownList**[AutoPostBack-Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**auf "true".**</span><span class="sxs-lookup"><span data-stu-id="68f68-154">**Set the categories DropDownList's**[AutoPostBack property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listcontrol.autopostback%28VS.80%29.aspx)**to True.**</span></span> <span data-ttu-id="68f68-155">(Sie erreichen dies durch Aktivieren der Option "AutoPostBack aktivieren" in der Dropdownlistes Smarttag.) Dadurch wird einen Postback ausgelöst, wenn DropDownLists ausgewählt Element vom Benutzer geändert wird.</span><span class="sxs-lookup"><span data-stu-id="68f68-155">(You can accomplish this by checking the Enable AutoPostBack option in the DropDownList's smart tag.) This will trigger a postback whenever the DropDownList's selected item is changed by the user.</span></span> <span data-ttu-id="68f68-156">Aus diesem Grund, wenn der Benutzer eine neue Kategorie aus der Dropdownliste auswählt, wird ein Postback zur Folge haben und GridView mit den Produkten für die neu ausgewählte Kategorie aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="68f68-156">Therefore, when the user selects a new category from the DropDownList a postback will ensue and the GridView will be updated with the products for the newly selected category.</span></span> <span data-ttu-id="68f68-157">(Dies ist der Ansatz, den ich in diesem Tutorial verwendet haben.)</span><span class="sxs-lookup"><span data-stu-id="68f68-157">(This is the approach I've used in this tutorial.)</span></span>
- <span data-ttu-id="68f68-158">**Fügen Sie ein Steuerelement Schaltfläche neben der Dropdownliste hinzu.**</span><span class="sxs-lookup"><span data-stu-id="68f68-158">**Add a Button Web control next to the DropDownList.**</span></span> <span data-ttu-id="68f68-159">Legen Sie dessen `Text` -Eigenschaft, eine Aktualisierung oder etwas Ähnliches.</span><span class="sxs-lookup"><span data-stu-id="68f68-159">Set its `Text` property to Refresh or something similar.</span></span> <span data-ttu-id="68f68-160">Bei diesem Ansatz muss der Benutzer auf eine neue Kategorie auswählen, und klicken Sie dann auf die Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="68f68-160">With this approach, the user will need to select a new category and then click the Button.</span></span> <span data-ttu-id="68f68-161">Klicken auf die Schaltfläche wird dazu führen, dass einen Postback, und aktualisieren die GridView, um die Produkte der ausgewählten Kategorie aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="68f68-161">Clicking the Button will cause a postback and update the GridView to list those products of the selected category.</span></span>

<span data-ttu-id="68f68-162">Abbildung 9 und 10 veranschaulichen die Master/Detail-Berichts in Aktion.</span><span class="sxs-lookup"><span data-stu-id="68f68-162">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="68f68-163">[![Wenn die Seite zuerst besuchen zu können, werden die trinken Produkte angezeigt.](master-detail-filtering-with-a-dropdownlist-cs/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-163">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-cs/_static/image26.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image25.png)</span></span>

<span data-ttu-id="68f68-164">**Abbildung 9**: die trinken-Produkte werden angezeigt, wenn die Seite zuerst besuchen zu können, ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-164">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image27.png))</span></span>


<span data-ttu-id="68f68-165">[![Beim Auswählen eines neuen Produkts (erstellen) automatisch bewirkt, dass ein PostBack, und Aktualisieren der GridView](master-detail-filtering-with-a-dropdownlist-cs/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-165">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView](master-detail-filtering-with-a-dropdownlist-cs/_static/image29.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image28.png)</span></span>

<span data-ttu-id="68f68-166">**Abbildung 10**: Auswählen eines neuen Produkts (generieren) werden auch automatisch bewirkt, dass ein PostBack, aktualisieren die GridView ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-166">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the GridView ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image30.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="68f68-167">Hinzufügen eines Listenelements "– eine Kategorie auswählen:"</span><span class="sxs-lookup"><span data-stu-id="68f68-167">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="68f68-168">Beim ersten Zugriff auf die `FilterByDropDownList.aspx` Seite die Kategorien DropDownLists ersten Listenelements (Getränke) ist standardmäßig aktiviert und die trinken Produkte in den GridView-Ansicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="68f68-168">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the GridView.</span></span> <span data-ttu-id="68f68-169">Anstatt mit Produkten für die erste Kategorie, wir möchten möglicherweise stattdessen ein DropDownList-Element, das ausgewählt so etwas wie ": eine Kategorie auswählen:".</span><span class="sxs-lookup"><span data-stu-id="68f68-169">Rather than showing the first category's products, we may want to instead have a DropDownList item selected that says something like, "-- Choose a Category --".</span></span>

<span data-ttu-id="68f68-170">Um ein neues Listenelement DropDownList hinzuzufügen, wechseln Sie zu dem Fenster "Eigenschaften", und klicken Sie auf die Auslassungspunkte in der `Items` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="68f68-170">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="68f68-171">Hinzufügen ein neuen Listenelements mit dem `Text` "– eine Kategorie auswählen:" und die `Value` `-1`.</span><span class="sxs-lookup"><span data-stu-id="68f68-171">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `-1`.</span></span>


<span data-ttu-id="68f68-172">[![Hinzufügen einer – wählen Sie eine Kategorie – Listenelement](master-detail-filtering-with-a-dropdownlist-cs/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-172">[![Add a -- Choose a Category -- List Item](master-detail-filtering-with-a-dropdownlist-cs/_static/image32.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image31.png)</span></span>

<span data-ttu-id="68f68-173">**Abbildung 11**: Hinzufügen einer – wählen Sie eine Kategorie – Listenelement ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-173">**Figure 11**: Add a -- Choose a Category -- List Item ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image33.png))</span></span>


<span data-ttu-id="68f68-174">Alternativ können Sie das Listenelement hinzufügen, indem Sie das folgende Markup DropDownList hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="68f68-174">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-cs/samples/sample1.aspx)]

<span data-ttu-id="68f68-175">Darüber hinaus müssen wir die DropDownList-Steuerelement festgelegt `AppendDataBoundItems` auf "true", da die Kategorien aus dem ObjectDataSource-Steuerelement zu DropDownList gebunden, gibt sie alle manuell hinzugefügten Listenelemente Wenn überschreiben müssen `AppendDataBoundItems` ist nicht "true".</span><span class="sxs-lookup"><span data-stu-id="68f68-175">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to True because when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items if `AppendDataBoundItems` isn't True.</span></span>


![Legen Sie die AppendDataBoundItems-Eigenschaft auf "true"](master-detail-filtering-with-a-dropdownlist-cs/_static/image34.png)

<span data-ttu-id="68f68-177">**Abbildung 12**: Legen Sie die `AppendDataBoundItems` Eigenschaft auf "true"</span><span class="sxs-lookup"><span data-stu-id="68f68-177">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="68f68-178">Nach diesen Änderungen, wenn zunächst auf der Seite die Option "--eine Kategorie auswählen:" ausgewählt ist, und keine Produkte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="68f68-178">After these changes, when first visiting the page the "-- Choose a Category --" option is selected and no products are displayed.</span></span>


<span data-ttu-id="68f68-179">[![Klicken Sie auf dem ersten Laden einer Seite werden keine Produkte angezeigt.](master-detail-filtering-with-a-dropdownlist-cs/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-179">[![On the Initial Page Load No Products are Displayed](master-detail-filtering-with-a-dropdownlist-cs/_static/image36.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image35.png)</span></span>

<span data-ttu-id="68f68-180">**Abbildung 13**: auf der ersten Seite laden keine Produkte angezeigt werden ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-180">**Figure 13**: On the Initial Page Load No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image37.png))</span></span>


<span data-ttu-id="68f68-181">Der Grund, die keine Produkte angezeigt werden, da das Listenelement "– eine Kategorie auswählen:" ausgewählt ist, ist der Wert ist `-1` und sind keine Produkte in der Datenbank mit einem `CategoryID` von `-1`.</span><span class="sxs-lookup"><span data-stu-id="68f68-181">The reason no products are displayed when because the "-- Choose a Category --" list item is selected is because its value is `-1` and there are no products in the database with a `CategoryID` of `-1`.</span></span> <span data-ttu-id="68f68-182">Wenn dies das Verhalten ist, möchten Sie an diesem Punkt sind Sie bereits fertig!</span><span class="sxs-lookup"><span data-stu-id="68f68-182">If this is the behavior you want then you're done at this point!</span></span> <span data-ttu-id="68f68-183">Wenn Sie jedoch, den Sie anzeigen möchten *alle* der Kategorien, wenn das Listenelement "– eine Kategorie auswählen:" ausgewählt ist, zurück zu den `ProductsBLL` Klasse und Anpassen der `GetProductsByCategoryID(categoryID)` Methode, sodass die It Ruft die `GetProducts()` Methode Wenn der übergebene in *`categoryID`* -Parameter ist kleiner als 0 (null):</span><span class="sxs-lookup"><span data-stu-id="68f68-183">If, however, you want to display *all* of the categories when the "-- Choose a Category --" list item is selected, return to the `ProductsBLL` class and customize the `GetProductsByCategoryID(categoryID)` method so that it invokes the `GetProducts()` method if the passed in *`categoryID`* parameter is less than zero:</span></span>

[!code-csharp[Main](master-detail-filtering-with-a-dropdownlist-cs/samples/sample2.cs)]

<span data-ttu-id="68f68-184">Die hier verwendete Technik ist ähnlich wie bei der es verwendet, um alle Lieferanten anzuzeigen zurück in die [deklarative Parameter](../basic-reporting/declarative-parameters-cs.md) Tutorial, obwohl in diesem Beispiel wir den Wert verwenden, `-1` , um anzugeben, dass alle Datensätze werden soll Im Gegensatz zu abgerufen `null`.</span><span class="sxs-lookup"><span data-stu-id="68f68-184">The technique used here is similar to the approach we used to display all suppliers back in the [Declarative Parameters](../basic-reporting/declarative-parameters-cs.md) tutorial, although for this example we're using a value of `-1` to indicate that all records should be retrieved as opposed to `null`.</span></span> <span data-ttu-id="68f68-185">Grund hierfür ist die *`categoryID`* Parameter, der die `GetProductsByCategoryID(categoryID)` Methode erwartet, dass als Integer-Wert übergeben, während in diesem Tutorial deklarative Parameter in einen Zeichenfolgen-Eingabeparameter übergeben wurden.</span><span class="sxs-lookup"><span data-stu-id="68f68-185">This is because the *`categoryID`* parameter of the `GetProductsByCategoryID(categoryID)` method expects as integer value passed in, whereas in the Declarative Parameters tutorial we were passing in a string input parameter.</span></span>

<span data-ttu-id="68f68-186">Abbildung 14 zeigt einen Screenshot des `FilterByDropDownList.aspx` Wenn die Option "--eine Kategorie auswählen:" ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="68f68-186">Figure 14 shows a screen shot of `FilterByDropDownList.aspx` when the "-- Choose a Category --" option is selected.</span></span> <span data-ttu-id="68f68-187">Hier werden alle Produkte standardmäßig angezeigt, und die Benutzer kann die Anzeige eingrenzen, indem Sie die Auswahl einer bestimmten Kategorie.</span><span class="sxs-lookup"><span data-stu-id="68f68-187">Here, all of the products are displayed by default, and the user can narrow the display by choosing a specific category.</span></span>


<span data-ttu-id="68f68-188">[![Alle Produkte sind jetzt aufgeführt werden standardmäßig](master-detail-filtering-with-a-dropdownlist-cs/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="68f68-188">[![All of the Products are Now Listed By Default](master-detail-filtering-with-a-dropdownlist-cs/_static/image39.png)](master-detail-filtering-with-a-dropdownlist-cs/_static/image38.png)</span></span>

<span data-ttu-id="68f68-189">**Abbildung 14**: alle Produkte sind jetzt aufgeführt werden standardmäßig ([klicken Sie, um das Bild in voller Größe anzeigen](master-detail-filtering-with-a-dropdownlist-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="68f68-189">**Figure 14**: All of the Products are Now Listed By Default ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-cs/_static/image40.png))</span></span>


## <a name="summary"></a><span data-ttu-id="68f68-190">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="68f68-190">Summary</span></span>

<span data-ttu-id="68f68-191">Zum Anzeigen von hierarchisch-bezogenen Daten leichter häufig zur Darstellung der Daten mithilfe von Master/Detail-Berichte, aus denen kann der Benutzer starten darauf verwenden, die Daten aus der oben in der Hierarchie und einen Drilldown in die Details.</span><span class="sxs-lookup"><span data-stu-id="68f68-191">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="68f68-192">In diesem Tutorial untersucht wir das Erstellen eines einfachen Master/Detail-Berichts, die Produkte einer ausgewählten Kategorie angezeigt.</span><span class="sxs-lookup"><span data-stu-id="68f68-192">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="68f68-193">Dies wurde mithilfe einer DropDownList für die Liste der Kategorien und einer GridView für die Produkte, die der ausgewählten Kategorie gehören.</span><span class="sxs-lookup"><span data-stu-id="68f68-193">This was accomplished by using a DropDownList for the list of categories and a GridView for the products belonging to the selected category.</span></span>

<span data-ttu-id="68f68-194">In der [nächsten Tutorial](master-detail-filtering-with-two-dropdownlists-cs.md) werfen wir einen Schritt der DropDownList-Schnittstelle darüber hinaus mit zwei DropDownList-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="68f68-194">In the [next tutorial](master-detail-filtering-with-two-dropdownlists-cs.md) we'll take the DropDownList interface one step further, using two DropDownLists.</span></span>

<span data-ttu-id="68f68-195">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="68f68-195">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="68f68-196">Der Autor</span><span class="sxs-lookup"><span data-stu-id="68f68-196">About the Author</span></span>

<span data-ttu-id="68f68-197">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor von sieben Büchern zu ASP/ASP.NET und Gründer von [4GuysFromRolla.com](http://www.4guysfromrolla.com), arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="68f68-197">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="68f68-198">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="68f68-198">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="68f68-199">Sein neueste Buch wird [*Sams Schulen selbst ASP.NET 2.0 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="68f68-199">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="68f68-200">Er ist unter [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="68f68-200">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="68f68-201">oder über seinen Blog finden Sie unter [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="68f68-201">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="68f68-202">Nächste</span><span class="sxs-lookup"><span data-stu-id="68f68-202">Next</span></span>](master-detail-filtering-with-two-dropdownlists-cs.md)
