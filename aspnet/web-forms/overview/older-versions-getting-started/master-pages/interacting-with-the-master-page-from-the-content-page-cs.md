---
uid: web-forms/overview/older-versions-getting-started/master-pages/interacting-with-the-master-page-from-the-content-page-cs
title: Interaktion mit der Masterseite der Inhaltsseite (c#) | Microsoft-Dokumentation
author: rick-anderson
description: Untersucht, wie Sie rufen Methoden, Eigenschaften usw. von der Masterseite im Code auf der Inhaltsseite festgelegt.
ms.author: riande
ms.date: 07/11/2008
ms.assetid: 32d54638-71b2-491d-81f4-f7417a13a62f
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/interacting-with-the-master-page-from-the-content-page-cs
msc.type: authoredcontent
ms.openlocfilehash: afcec6cb7a6763d068301c7afdd28ff560a3065b
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/16/2018
ms.locfileid: "41836522"
---
<a name="interacting-with-the-master-page-from-the-content-page-c"></a><span data-ttu-id="d830e-103">Interaktion mit der Masterseite der Inhaltsseite (c#)</span><span class="sxs-lookup"><span data-stu-id="d830e-103">Interacting with the Master Page from the Content Page (C#)</span></span>
====================
<span data-ttu-id="d830e-104">durch [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d830e-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d830e-105">[Code herunterladen](http://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_06_CS.zip) oder [PDF-Datei herunterladen](http://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_06_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="d830e-105">[Download Code](http://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_06_CS.zip) or [Download PDF](http://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_06_CS.pdf)</span></span>

> <span data-ttu-id="d830e-106">Untersucht, wie Sie rufen Methoden, Eigenschaften usw. von der Masterseite im Code auf der Inhaltsseite festgelegt.</span><span class="sxs-lookup"><span data-stu-id="d830e-106">Examines how to call methods, set properties, etc. of the Master Page from code in the Content Page.</span></span>


## <a name="introduction"></a><span data-ttu-id="d830e-107">Einführung</span><span class="sxs-lookup"><span data-stu-id="d830e-107">Introduction</span></span>

<span data-ttu-id="d830e-108">Im Laufe der letzten fünf Lernprogramme haben erläutert, wie zum Erstellen einer Masterseite, Inhaltsbereiche definieren, binden ASP.NET-Seiten auf eine Gestaltungsvorlage und seitenspezifische Inhalte definieren.</span><span class="sxs-lookup"><span data-stu-id="d830e-108">Over the course of the past five tutorials we have looked at how to create a master page, define content regions, bind ASP.NET pages to a master page, and define page-specific content.</span></span> <span data-ttu-id="d830e-109">Wenn ein Besucher eine bestimmte Inhaltsseite auf anfordert, werden der Inhalt und Masterseiten Markup zur Laufzeit, was das Rendern von einer einheitlichen Steuerelementhierarchie fused.</span><span class="sxs-lookup"><span data-stu-id="d830e-109">When a visitor requests a particular content page, the content and master pages' markup are fused at runtime, resulting in the rendering of a unified control hierarchy.</span></span> <span data-ttu-id="d830e-110">Aus diesem Grund, wir haben bereits gesehen, einer Möglichkeit, die die Masterseite und eines entsprechenden Inhaltsseiten interagieren können: das Markup für transfuse in die Masterseite ContentPlaceHolder-Steuerelemente die Seite Inhalte beschreibt.</span><span class="sxs-lookup"><span data-stu-id="d830e-110">Therefore, we have already seen one way in which the master page and one of its content pages can interact: the content page spells out the markup to transfuse into the master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="d830e-111">Was ist wir noch untersuchen wie der Masterseite und die Seite "Inhalt" programmgesteuert interagieren können.</span><span class="sxs-lookup"><span data-stu-id="d830e-111">What we have yet to examine is how the master page and content page can interact programmatically.</span></span> <span data-ttu-id="d830e-112">Neben der Definition des Markups für die Masterseite ContentPlaceHolder-Steuerelemente, eine Inhaltsseite außerdem die Masterseite öffentliche Eigenschaften Werte zuweisen und die öffentlichen Methoden aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d830e-112">In addition to defining the markup for the master page's ContentPlaceHolder controls, a content page can also assign values to its master page's public properties and invoke its public methods.</span></span> <span data-ttu-id="d830e-113">Auf ähnliche Weise kann eine Masterseite mit entsprechenden Inhaltsseiten interagieren.</span><span class="sxs-lookup"><span data-stu-id="d830e-113">Similarly, a master page may interact with its content pages.</span></span> <span data-ttu-id="d830e-114">Während das Programminteraktion zwischen einem Master- und Seite seltener auf als die Interaktion zwischen ihren deklarative Markups ist, gibt es viele Szenarien, in denen solche programmgesteuerte Interaktion erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="d830e-114">While programmatic interaction between a master and content page is less common than the interaction between their declarative markups, there are many scenarios where such programmatic interaction is needed.</span></span>

<span data-ttu-id="d830e-115">In diesem Tutorial untersuchen wir an, wie eine Inhaltsseite mit der Masterseite programmgesteuert interagieren kann; im nächsten Tutorial betrachten wir wie die Masterseite auf ähnliche Weise mit der Inhaltsseiten interagieren kann.</span><span class="sxs-lookup"><span data-stu-id="d830e-115">In this tutorial we examine how a content page can programmatically interact with its master page; in the next tutorial we will look at how the master page can similarly interact with its content pages.</span></span>

## <a name="examples-of-programmatic-interaction-between-a-content-page-and-its-master-page"></a><span data-ttu-id="d830e-116">Beispiele für die programmgesteuerte Interaktion zwischen einer Inhaltsseite und die Masterseite</span><span class="sxs-lookup"><span data-stu-id="d830e-116">Examples of Programmatic Interaction Between a Content Page and its Master Page</span></span>

<span data-ttu-id="d830e-117">Wenn eine bestimmte Region einer Seite für Seite von Seite konfiguriert werden muss, verwenden wir ein ContentPlaceHolder-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="d830e-117">When a particular region of a page needs to be configured on a page-by-page basis, we use a ContentPlaceHolder control.</span></span> <span data-ttu-id="d830e-118">Aber was Situationen, in denen die Mehrheit der Seiten, die eine bestimmte Ausgabe, aber eine größere Anzahl von Seiten ausgeben müssen, angepasst werden muss, um etwas anderes anzuzeigen?</span><span class="sxs-lookup"><span data-stu-id="d830e-118">But what about situations where the majority of pages need to emit a certain output, but a small number of pages need to customize it to show something else?</span></span> <span data-ttu-id="d830e-119">Ein Beispiel, das wir in untersucht die [ *mehrere ContentPlaceHolder-Steuerelemente und Inhalte Standard* ](multiple-contentplaceholders-and-default-content-cs.md) Tutorial umfasst eine Schnittstelle für die Anmeldung auf jeder Seite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d830e-119">One such example, which we examined in the [*Multiple ContentPlaceHolders and Default Content*](multiple-contentplaceholders-and-default-content-cs.md) tutorial, involves displaying a login interface on each page.</span></span> <span data-ttu-id="d830e-120">Während die meisten Seiten eine Anmeldung Schnittstelle enthalten sollen, sie unterdrückt werden sollen für eine Reihe von Seiten, z. B.: die main-Anmeldeseite (`Login.aspx`); die Seite "Konto erstellen", und die anderen Seiten, die nur für authentifizierte Benutzer zugänglich sind.</span><span class="sxs-lookup"><span data-stu-id="d830e-120">While most pages should include a login interface, it should be suppressed for a handful of pages, such as: the main login page (`Login.aspx`); the Create Account page; and other pages that are only accessible to authenticated users.</span></span> <span data-ttu-id="d830e-121">Die [ *mehrere ContentPlaceHolder-Steuerelemente und Standardinhalt* ](multiple-contentplaceholders-and-default-content-cs.md) Tutorial zeigte das Erstellen, um den standardmäßigen Inhalt für ein ContentPlaceHolder-Objekt auf der Masterseite zu definieren, und klicken Sie dann das in diesen überschreiben Where Seiten der Standardinhalt wurde nicht wollten.</span><span class="sxs-lookup"><span data-stu-id="d830e-121">The [*Multiple ContentPlaceHolders and Default Content*](multiple-contentplaceholders-and-default-content-cs.md) tutorial showed how to define the default content for a ContentPlaceHolder in the master page and then how to override it in those pages where the default content was not wanted.</span></span>

<span data-ttu-id="d830e-122">Eine weitere Möglichkeit ist die Erstellung von einer öffentlichen Eigenschaft oder Methode innerhalb der Masterseite, die angibt, ob auf Sie ein- oder Ausblenden der Login-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="d830e-122">Another option is to create a public property or method within the master page that indicates whether to show or hide the login interface.</span></span> <span data-ttu-id="d830e-123">Für die Masterseite kann beispielsweise eine öffentliche Eigenschaft mit dem Namen `ShowLoginUI` festgelegt wurde, deren Wert verwendet die `Visible` -Eigenschaft des Steuerelements Anmeldung auf der Masterseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-123">For example, the master page might include a public property named `ShowLoginUI` whose value was used to set the `Visible` property of the Login control in the master page.</span></span> <span data-ttu-id="d830e-124">Diese Inhaltsseiten, in denen die Anmeldebenutzeroberfläche unterdrückt werden sollen. anschließend programmgesteuert legen die `ShowLoginUI` Eigenschaft `false`.</span><span class="sxs-lookup"><span data-stu-id="d830e-124">Those content pages where the login user interface should be suppressed could then programmatically set the `ShowLoginUI` property to `false`.</span></span>

<span data-ttu-id="d830e-125">Möglicherweise tritt auf, die am häufigsten auftretende Beispiel des Inhalts und der Interaktion der Masterseite, wenn Daten angezeigt, in die Masterseite muss aktualisiert werden, nachdem eine Aktion auf der Inhaltsseite wiederholt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-125">Perhaps the most common example of content and master page interaction occurs when data displayed in the master page needs to be refreshed after some action has transpired in the content page.</span></span> <span data-ttu-id="d830e-126">Beachten Sie, dass eine Masterseite, die einer GridView-Ansicht enthält, die die fünf zuletzt zeigt Datensätze aus einer bestimmten Datenbanktabelle hinzugefügt und, dass eine der entsprechenden Inhaltsseiten enthält eine Schnittstelle für die dieselbe Tabelle neue Datensätze hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d830e-126">Consider a master page that includes a GridView that displays the five most recently added records from a particular database table, and that one of its content pages includes an interface for adding new records to that same table.</span></span>

<span data-ttu-id="d830e-127">Wenn ein Benutzer auf das Zeichenblatt, um einen neuen Datensatz hinzufügen besucht, sieht sie, dass Datensätze auf der Masterseite angezeigt, das die fünf zuletzt hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-127">When a user visits the page to add a new record, she sees the five most recently added records displayed in the master page.</span></span> <span data-ttu-id="d830e-128">Nach dem Füllen die Werte für Spalten des neuen Datensatzes, wie sie das Formular übermittelt.</span><span class="sxs-lookup"><span data-stu-id="d830e-128">After filling in the values for the new record's columns, she submits the form.</span></span> <span data-ttu-id="d830e-129">Vorausgesetzt, dass das GridView auf der Masterseite hat seine `EnableViewState` Eigenschaft auf "true" (Standard) festgelegt wurde, dessen Inhalt wird aus dem Ansichtszustand neu geladen, und daher werden die gleichen fünf Datensätze angezeigt, obwohl die Datenbank ein neuer Datensatz hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-129">Assuming that the GridView in the master page has its `EnableViewState` property set to true (the default), its content is reloaded from view state and, consequently, the five same records are displayed even though a newer record was just added to the database.</span></span> <span data-ttu-id="d830e-130">Dies kann den Benutzer verwirren.</span><span class="sxs-lookup"><span data-stu-id="d830e-130">This may confuse the user.</span></span>

> [!NOTE]
> <span data-ttu-id="d830e-131">Auch wenn Sie den GridView Ansichtszustand, damit sie mit der zugrunde liegenden Datenquelle bei jedem Postback bindet erneut deaktiviert, wird diese nicht immer noch den gerade hinzugefügten Eintrag angezeigt, da die Daten gebunden werden, an die GridView weiter oben in den Lebenszyklus der Seite, als wenn die Datab der neue Datensatz hinzugefügt wird ASE.</span><span class="sxs-lookup"><span data-stu-id="d830e-131">Even if you disable the GridView's view state so that it rebinds to its underlying data source on every postback, it still won't show the just-added record because the data is bound to the GridView earlier in the page lifecycle than when the new record is added to the database.</span></span>


<span data-ttu-id="d830e-132">An, um dieses Problem zu beheben, damit der gerade hinzugefügten Datensatz auf der Masterseite angezeigt wird, die Sie GridView beim Postback anweisen, die GridView, die mit der Datenquelle binden möchten *nach* des neuen Eintrags der Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-132">To remedy this so that the just-added record is displayed in the master page's GridView on postback we need to instruct the GridView to rebind to its data source *after* the new record has been added to the database.</span></span> <span data-ttu-id="d830e-133">Dies erfordert die Interaktion zwischen dem Inhalt und Masterseiten, da die Schnittstelle für das Hinzufügen des neuen Datensatzes (und dessen Ereignishandler) werden in der Seite Inhalt, aber der GridView, die aktualisiert werden muss auf der Masterseite ist.</span><span class="sxs-lookup"><span data-stu-id="d830e-133">This requires interaction between the content and master pages because the interface for adding the new record (and its event handlers) are in the content page but the GridView that needs to be refreshed is in the master page.</span></span>

<span data-ttu-id="d830e-134">Aktualisieren die Masterseite Anzeige von einem Ereignishandler in der Seite Inhalt die häufigsten Anforderungen für Inhalt und die Interaktion der Masterseite ist, sehen wir uns in diesem Thema noch ausführlicher.</span><span class="sxs-lookup"><span data-stu-id="d830e-134">Because refreshing the master page's display from an event handler in the content page is one of the most common needs for content and master page interaction, let's explore this topic in more detail.</span></span> <span data-ttu-id="d830e-135">Der Download für dieses Tutorial enthält eine Microsoft SQL Server 2005 Express Edition-Datenbank, die mit dem Namen `NORTHWIND.MDF` in der Website `App_Data` Ordner.</span><span class="sxs-lookup"><span data-stu-id="d830e-135">The download for this tutorial includes a Microsoft SQL Server 2005 Express Edition database named `NORTHWIND.MDF` in the website's `App_Data` folder.</span></span> <span data-ttu-id="d830e-136">Die Northwind-Datenbank speichert, Produkt, Mitarbeiter und Verkaufsinformationen für ein fiktives Unternehmen, Northwind Traders.</span><span class="sxs-lookup"><span data-stu-id="d830e-136">The Northwind database stores product, employee, and sales information for a fictitious company, Northwind Traders.</span></span>

<span data-ttu-id="d830e-137">Schritt 1 führt über die fünf zuletzt angezeigt haben Produkte in einer GridView-Ansicht auf der Masterseite hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d830e-137">Step 1 walks through displaying the five most recently added products in a GridView in the master page.</span></span> <span data-ttu-id="d830e-138">Schritt 2 erstellt eine Seite zum Hinzufügen neuer Produkte.</span><span class="sxs-lookup"><span data-stu-id="d830e-138">Step 2 creates a content page for adding new products.</span></span> <span data-ttu-id="d830e-139">Schritt 3 dargestellt, wie zum Erstellen von öffentlichen Eigenschaften und Methoden in der Masterseite und Schritt 4 wird veranschaulicht, wie Sie programmgesteuert mit diesen Eigenschaften und Methoden auf der Seite Inhalt.</span><span class="sxs-lookup"><span data-stu-id="d830e-139">Step 3 looks at how to create public properties and methods in the master page, and Step 4 illustrates how to programmatically interface with these properties and methods from the content page.</span></span>

> [!NOTE]
> <span data-ttu-id="d830e-140">In diesem Tutorial werden die Besonderheiten der Arbeit mit Daten in ASP.NET nicht beschäftigen.</span><span class="sxs-lookup"><span data-stu-id="d830e-140">This tutorial does not delve into the specifics of working with data in ASP.NET.</span></span> <span data-ttu-id="d830e-141">Die Schritte zum Einrichten der master-Seite zum Anzeigen von Daten und der Inhaltsseite zum Einfügen von Daten sind vollständige, noch die Bereitstellung – locker und.</span><span class="sxs-lookup"><span data-stu-id="d830e-141">The steps for setting up the master page to display data and the content page for inserting data are complete, yet breezy.</span></span> <span data-ttu-id="d830e-142">Eine eingehendere Betrachtung anzeigen und Einfügen von Daten sowie zur Verwendung der SqlDataSource-Steuerelement und GridView-Steuerelemente finden Sie in den Ressourcen im Abschnitt Weitere Messwerte am Ende dieses Tutorials.</span><span class="sxs-lookup"><span data-stu-id="d830e-142">For a more in-depth look at displaying and inserting data and using the SqlDataSource and GridView controls, consult the resources in the Further Readings section at the end of this tutorial.</span></span>


## <a name="step-1-displaying-the-five-most-recently-added-products-in-the-master-page"></a><span data-ttu-id="d830e-143">Schritt 1: Anzeigen von die fünf zuletzt Produkte hinzugefügt, auf der Masterseite</span><span class="sxs-lookup"><span data-stu-id="d830e-143">Step 1: Displaying the Five Most Recently Added Products in the Master Page</span></span>

<span data-ttu-id="d830e-144">Öffnen der `Site.master` Masterseite, und fügen Sie eine Bezeichnung und ein GridView-Steuerelement, um die `leftContent` `<div>`.</span><span class="sxs-lookup"><span data-stu-id="d830e-144">Open the `Site.master` master page and add a Label and a GridView control to the `leftContent` `<div>`.</span></span> <span data-ttu-id="d830e-145">Löschen Sie der Bezeichnung des `Text` Eigenschaftensatz, dessen `EnableViewState` Eigenschaft auf "false", und dessen `ID` Eigenschaft, um `GridMessage`; legen Sie des GridView `ID` Eigenschaft, um `RecentProducts`.</span><span class="sxs-lookup"><span data-stu-id="d830e-145">Clear out the Label's `Text` property, set its `EnableViewState` property to false, and its `ID` property to `GridMessage`; set the GridView's `ID` property to `RecentProducts`.</span></span> <span data-ttu-id="d830e-146">Klicken Sie dann aus dem Designer, erweitern Sie den GridView Smarttag und mit einer neuen Datenquelle bindet, bindet es auch.</span><span class="sxs-lookup"><span data-stu-id="d830e-146">Next, from the Designer, expand the GridView's smart tag and choose to bind it to a new data source.</span></span> <span data-ttu-id="d830e-147">Dadurch wird der Assistent zum Konfigurieren von Datenquellen gestartet.</span><span class="sxs-lookup"><span data-stu-id="d830e-147">This launches the Data Source Configuration wizard.</span></span> <span data-ttu-id="d830e-148">Da der Northwind-Datenbank der `App_Data` Ordner ist eine Microsoft SQL Server-Datenbank, um ein SqlDataSource-Steuerelement zu erstellen, indem Sie auswählen (siehe Abbildung 1) wählen, geben Sie dem SqlDataSource-Steuerelement Namen `RecentProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="d830e-148">Because the Northwind database in the `App_Data` folder is a Microsoft SQL Server database, choose to create a SqlDataSource by selecting (see Figure 1); name the SqlDataSource `RecentProductsDataSource`.</span></span>


<span data-ttu-id="d830e-149">[![GridView zu binden, um ein SqlDataSource-Steuerelement, das mit dem Namen RecentProductsDataSource](interacting-with-the-master-page-from-the-content-page-cs/_static/image2.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-149">[![Bind the GridView to a SqlDataSource Control Named RecentProductsDataSource](interacting-with-the-master-page-from-the-content-page-cs/_static/image2.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image1.png)</span></span>

<span data-ttu-id="d830e-150">**Abbildung 01**: GridView zu binden, um ein SqlDataSource-Steuerelement namens `RecentProductsDataSource` ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-150">**Figure 01**: Bind the GridView to a SqlDataSource Control Named `RecentProductsDataSource` ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image3.png))</span></span>


<span data-ttu-id="d830e-151">Im nächste Schritt fordert uns an, welche Datenbank eine Verbindung hergestellt.</span><span class="sxs-lookup"><span data-stu-id="d830e-151">The next step asks us to specify what database to connect to.</span></span> <span data-ttu-id="d830e-152">Wählen Sie die `NORTHWIND.MDF` -Datenbankdatei aus der Dropdown-Liste, und klicken Sie auf Weiter.</span><span class="sxs-lookup"><span data-stu-id="d830e-152">Choose the `NORTHWIND.MDF` database file from the drop-down list and click Next.</span></span> <span data-ttu-id="d830e-153">Da dies beim ersten ist, haben wir diese Datenbank verwendet, bietet der Assistent zum Speichern der Verbindungszeichenfolge in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="d830e-153">Because this is the first time we've used this database, the wizard will offer to store the connection string in `Web.config`.</span></span> <span data-ttu-id="d830e-154">Lassen Sie sie speichern die Verbindungszeichenfolge, die mit dem Namen `NorthwindConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="d830e-154">Have it store the connection string using the name `NorthwindConnectionString`.</span></span>


<span data-ttu-id="d830e-155">[![Verbinden Sie mit der Northwind-Datenbank](interacting-with-the-master-page-from-the-content-page-cs/_static/image5.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-155">[![Connect to the Northwind Database](interacting-with-the-master-page-from-the-content-page-cs/_static/image5.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image4.png)</span></span>

<span data-ttu-id="d830e-156">**Abbildung 02**: Verbinden mit der Northwind-Datenbank ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-156">**Figure 02**: Connect to the Northwind Database  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image6.png))</span></span>


<span data-ttu-id="d830e-157">Das Konfigurieren von Datenquellen-Assistent bietet zwei Möglichkeiten, die mit denen wir die Abfrage zum Abrufen von Daten angeben können:</span><span class="sxs-lookup"><span data-stu-id="d830e-157">The Configure Data Source wizard provides two means by which we can specify the query used to retrieve data:</span></span>

- <span data-ttu-id="d830e-158">Durch Angabe eines benutzerdefinierten SQL-Anweisung oder gespeicherte Prozedur, oder</span><span class="sxs-lookup"><span data-stu-id="d830e-158">By specifying a custom SQL statement or stored procedure, or</span></span>
- <span data-ttu-id="d830e-159">Durch Auswählen einer Tabelle oder Sicht, und klicken Sie dann angeben der zurückzugebenden Spalten</span><span class="sxs-lookup"><span data-stu-id="d830e-159">By picking a table or view and then specifying the columns to return</span></span>

<span data-ttu-id="d830e-160">Da zurückgegeben, dass nur die fünf zuletzt Produkten hinzugefügt werden soll, müssen wir eine benutzerdefinierte SQL­Anweisung angeben.</span><span class="sxs-lookup"><span data-stu-id="d830e-160">Because we want to return just the five most recently added products, we need to specify a custom SQL statement.</span></span> <span data-ttu-id="d830e-161">Verwenden Sie die folgende SELECT-Abfrage:</span><span class="sxs-lookup"><span data-stu-id="d830e-161">Use the following SELECT query:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample1.sql)]

<span data-ttu-id="d830e-162">Die `TOP 5` Schlüsselwort gibt nur die ersten fünf Datensätze aus der Abfrage.</span><span class="sxs-lookup"><span data-stu-id="d830e-162">The `TOP 5` keyword returns only the first five records from the query.</span></span> <span data-ttu-id="d830e-163">Die `Products` Primärschlüssel der Tabelle, `ProductID`, ist ein `IDENTITY` Spalte, die uns wird sichergestellt, dass jeder neuen Produkts in der Tabelle hinzugefügt, einen höheren Wert als den vorherigen Eintrag hat.</span><span class="sxs-lookup"><span data-stu-id="d830e-163">The `Products` table's primary key, `ProductID`, is an `IDENTITY` column, which assures us that each new product added to the table will have a larger value than the previous entry.</span></span> <span data-ttu-id="d830e-164">Aus diesem Grund Sortieren der Ergebnisse von `ProductID` gibt zurück, die Produkte an, wobei die zuletzt erstellte diejenigen in absteigender Reihenfolge.</span><span class="sxs-lookup"><span data-stu-id="d830e-164">Therefore, sorting the results by `ProductID` in descending order returns the products starting with the most recently created ones.</span></span>


<span data-ttu-id="d830e-165">[![Die fünf zuletzt hinzugefügte Produkte zurückgeben](interacting-with-the-master-page-from-the-content-page-cs/_static/image8.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-165">[![Return the Five Most Recently Added Products](interacting-with-the-master-page-from-the-content-page-cs/_static/image8.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image7.png)</span></span>

<span data-ttu-id="d830e-166">**Abbildung 03**: die fünf am häufigsten vor kurzem hinzugefügt Produkte zurückzugeben ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-166">**Figure 03**: Return the Five Most Recently Added Products  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image9.png))</span></span>


<span data-ttu-id="d830e-167">Nach Abschluss des Assistenten, generiert Visual Studio zwei BoundFields für GridView zum Anzeigen der `ProductName` und `UnitPrice` Felder, die aus der Datenbank zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="d830e-167">After completing the wizard, Visual Studio generates two BoundFields for the GridView to display the `ProductName` and `UnitPrice` fields returned from the database.</span></span> <span data-ttu-id="d830e-168">An diesem Punkt sollte die Masterseite deklaratives Markup ähnlich dem folgenden Markup enthalten:</span><span class="sxs-lookup"><span data-stu-id="d830e-168">At this point your master page's declarative markup should include markup similar to the following:</span></span>


[!code-aspx[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample2.aspx)]

<span data-ttu-id="d830e-169">Wie Sie sehen können, die das Markup enthält: das Label-Steuerelement (`GridMessage`); die GridView `RecentProducts`mit zwei BoundFields; und ein SqlDataSource-Steuerelement, das gibt zurück, der fünf Produkte zuletzt hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-169">As you can see, the markup contains: the Label Web control (`GridMessage`); the GridView `RecentProducts`, with two BoundFields; and a SqlDataSource control that returns the five most recently added products.</span></span>

<span data-ttu-id="d830e-170">Mit diesem GridView, die erstellt und dessen SqlDataSource-Steuerelement konfiguriert haben, besuchen Sie die Website über einen Browser.</span><span class="sxs-lookup"><span data-stu-id="d830e-170">With this GridView created and its SqlDataSource control configured, visit the website through a browser.</span></span> <span data-ttu-id="d830e-171">Wie in Abbildung 4 gezeigt, sehen Sie sich, dass ein Raster in der unteren linken Ecke, die die fünf zuletzt listet Produkte hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d830e-171">As Figure 4 shows, you will see a grid in the lower left corner that lists the five most recently added products.</span></span>


<span data-ttu-id="d830e-172">[![Das GridView zeigt die fünf zuletzt hinzugefügte Produkte](interacting-with-the-master-page-from-the-content-page-cs/_static/image11.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-172">[![The GridView Displays the Five Most Recently Added Products](interacting-with-the-master-page-from-the-content-page-cs/_static/image11.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image10.png)</span></span>

<span data-ttu-id="d830e-173">**Abbildung 04**: GridView zeigt die fünf am häufigsten vor kurzem hinzugefügt Produkte ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-173">**Figure 04**: The GridView Displays the Five Most Recently Added Products ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image12.png))</span></span>


> [!NOTE]
> <span data-ttu-id="d830e-174">Können Sie, um die Darstellung der GridView zu bereinigen.</span><span class="sxs-lookup"><span data-stu-id="d830e-174">Feel free to clean up the appearance of the GridView.</span></span> <span data-ttu-id="d830e-175">Einige Vorschläge enthalten die Formatierung der angezeigten `UnitPrice` Wert als eine Währung und mithilfe von Hintergrundfarben und Schriftarten um zu des Datenblatts Darstellung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="d830e-175">Some suggestions include formatting the displayed `UnitPrice` value as a currency and using background colors and fonts to improve the grid's appearance.</span></span>


## <a name="step-2-creating-a-content-page-to-add-new-products"></a><span data-ttu-id="d830e-176">Schritt 2: Erstellen einer Inhaltsseite zum Hinzufügen neuer Produkte</span><span class="sxs-lookup"><span data-stu-id="d830e-176">Step 2: Creating a Content Page to Add New Products</span></span>

<span data-ttu-id="d830e-177">Unsere nächste Aufgabe besteht darin, eine Inhaltsseite erstellen, von dem ein Benutzer kann auf ein neues Produkt hinzufügen, der `Products` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="d830e-177">Our next task is to create a content page from which a user can add a new product to the `Products` table.</span></span> <span data-ttu-id="d830e-178">Fügen Sie eine neue Seite auf die `Admin` Ordner mit dem Namen `AddProduct.aspx`, und bindet, bindet es an der `Site.master` Masterseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-178">Add a new content page to the `Admin` folder named `AddProduct.aspx`, making sure to bind it to the `Site.master` master page.</span></span> <span data-ttu-id="d830e-179">Abbildung 5 zeigt den Projektmappen-Explorer, nachdem auf dieser Seite auf der Website hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-179">Figure 5 shows the Solution Explorer after this page has been added to the website.</span></span>


<span data-ttu-id="d830e-180">[![Fügen Sie eine neue ASP.NET-Seite, um den Ordner Admin](interacting-with-the-master-page-from-the-content-page-cs/_static/image14.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-180">[![Add a New ASP.NET Page to the Admin Folder](interacting-with-the-master-page-from-the-content-page-cs/_static/image14.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image13.png)</span></span>

<span data-ttu-id="d830e-181">**Abbildung 05**: Hinzufügen einer neuen ASP.NET-Seite zu den `Admin` Ordner ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-181">**Figure 05**: Add a New ASP.NET Page to the `Admin` Folder([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image15.png))</span></span>


<span data-ttu-id="d830e-182">Denken Sie daran, dass in der [ *Titel, Meta-Tags und anderer HTML-Header angeben, auf der Masterseite* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) Lernprogramm eine benutzerdefinierten Basisseite-Klasse, die mit dem Namen erstellten `BasePage` , die den Titel der Seite generiert, wenn es war nicht explizit festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-182">Recall that in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that generated the page's title if it was not explicitly set.</span></span> <span data-ttu-id="d830e-183">Wechseln Sie zu der `AddProduct.aspx` Seite des Code-Behind-Klasse und deren abgeleitet `BasePage` (anstelle von aus `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="d830e-183">Go to the `AddProduct.aspx` page's code-behind class and have it derive from `BasePage` (instead of from `System.Web.UI.Page`).</span></span>

<span data-ttu-id="d830e-184">Aktualisieren Sie abschließend die `Web.sitemap` hinzu, um einen Eintrag in dieser Lektion einzubeziehen.</span><span class="sxs-lookup"><span data-stu-id="d830e-184">Finally, update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="d830e-185">Fügen Sie das folgende Markup unterhalb der `<siteMapNode>` für die Steuerelement-ID-Benennungsprobleme Lektion:</span><span class="sxs-lookup"><span data-stu-id="d830e-185">Add the following markup beneath the `<siteMapNode>` for the Control ID Naming Issues lesson:</span></span>


[!code-xml[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample3.xml)]

<span data-ttu-id="d830e-186">Siehe Abbildung 6: das Hinzufügen dieses `<siteMapNode>` Elements in der Liste der Lektionen wiedergegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d830e-186">As shown in Figure 6, the addition of this `<siteMapNode>` element is reflected in the Lessons list.</span></span>

<span data-ttu-id="d830e-187">Wechseln Sie zurück zur `AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="d830e-187">Return to `AddProduct.aspx`.</span></span> <span data-ttu-id="d830e-188">In das Steuerelement für die `MainContent` ContentPlaceHolder, fügen Sie einem DetailsView-Steuerelement hinzu, und nennen Sie sie `NewProduct`.</span><span class="sxs-lookup"><span data-stu-id="d830e-188">In the Content control for the `MainContent` ContentPlaceHolder, add a DetailsView control and name it `NewProduct`.</span></span> <span data-ttu-id="d830e-189">Binden von DetailsView an ein neues SqlDataSource-Steuerelement, das mit dem Namen `NewProductDataSource`.</span><span class="sxs-lookup"><span data-stu-id="d830e-189">Bind the DetailsView to a new SqlDataSource control named `NewProductDataSource`.</span></span> <span data-ttu-id="d830e-190">Wie Sie mit dem SqlDataSource-Steuerelement in Schritt 1, konfigurieren Sie den Assistenten, sodass sie die Northwind-Datenbank verwendet, und wählen eine benutzerdefinierte SQL­Anweisung angeben.</span><span class="sxs-lookup"><span data-stu-id="d830e-190">Like with the SqlDataSource in Step 1, configure the wizard so that it uses the Northwind database and choose to specify a custom SQL statement.</span></span> <span data-ttu-id="d830e-191">Da DetailsView Hinzufügen von Elementen in der Datenbank verwendet wird, müssen wir beide geben eine `SELECT` Anweisung und eine `INSERT` Anweisung.</span><span class="sxs-lookup"><span data-stu-id="d830e-191">Because the DetailsView will be used to add items to the database, we need to specify both a `SELECT` statement and an `INSERT` statement.</span></span> <span data-ttu-id="d830e-192">Verwenden Sie die folgenden `SELECT` Abfrage:</span><span class="sxs-lookup"><span data-stu-id="d830e-192">Use the following `SELECT` query:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample4.sql)]

<span data-ttu-id="d830e-193">Klicken Sie dann auf der Registerkarte einfügen, fügen Sie die folgenden `INSERT` Anweisung:</span><span class="sxs-lookup"><span data-stu-id="d830e-193">Then, from the INSERT tab, add the following `INSERT` statement:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample5.sql)]

<span data-ttu-id="d830e-194">Finden Sie nach Abschluss des Assistenten unter DetailsViews-Smarttag, und aktivieren Sie das Kontrollkästchen "Einfügen aktivieren".</span><span class="sxs-lookup"><span data-stu-id="d830e-194">After completing the wizard go to the DetailsView's smart tag and check the "Enable Inserting" checkbox.</span></span> <span data-ttu-id="d830e-195">Dadurch werden eine CommandField zur DetailsView mit der `ShowInsertButton` Eigenschaft auf "true" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="d830e-195">This adds a CommandField to the DetailsView with its `ShowInsertButton` property set to true.</span></span> <span data-ttu-id="d830e-196">Da diese DetailsView ausschließlich zum Einfügen von Daten verwendet wird, legen Sie die DetailsView `DefaultMode` Eigenschaft `Insert`.</span><span class="sxs-lookup"><span data-stu-id="d830e-196">Because this DetailsView will be used solely for inserting data, set the DetailsView's `DefaultMode` property to `Insert`.</span></span>

<span data-ttu-id="d830e-197">Das ist alles schon!</span><span class="sxs-lookup"><span data-stu-id="d830e-197">That's all there is to it!</span></span> <span data-ttu-id="d830e-198">Testen Sie nun auf dieser Seite.</span><span class="sxs-lookup"><span data-stu-id="d830e-198">Let's test this page.</span></span> <span data-ttu-id="d830e-199">Besuchen Sie `AddProduct.aspx` über einen Webbrowser, geben Sie einen Namen und den Preis (siehe Abbildung 6).</span><span class="sxs-lookup"><span data-stu-id="d830e-199">Visit `AddProduct.aspx` through a browser, enter a name and price (see Figure 6).</span></span>


<span data-ttu-id="d830e-200">[![Hinzufügen eines neuen Produkts in der Datenbank](interacting-with-the-master-page-from-the-content-page-cs/_static/image17.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-200">[![Add a New Product to the Database](interacting-with-the-master-page-from-the-content-page-cs/_static/image17.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image16.png)</span></span>

<span data-ttu-id="d830e-201">**Abbildung 06**: Hinzufügen eines neuen Produkts in die Datenbank ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-201">**Figure 06**: Add a New Product to the Database  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image18.png))</span></span>


<span data-ttu-id="d830e-202">Klicken Sie nach dem Eingeben der Namen und den Preis für Ihr neues Produkt, auf die Schaltfläche "Insert".</span><span class="sxs-lookup"><span data-stu-id="d830e-202">After typing in the name and price for your new product, click the Insert button.</span></span> <span data-ttu-id="d830e-203">Dies bewirkt, dass das Formular, um postback.</span><span class="sxs-lookup"><span data-stu-id="d830e-203">This causes the form to postback.</span></span> <span data-ttu-id="d830e-204">Beim Postback, dem SqlDataSource-Steuerelement des `INSERT` -Anweisung ausgeführt wird, werden die zwei Parameter mit den Werten der freien Eingabe in DetailsViews zwei TextBox-Steuerelemente aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="d830e-204">On postback, the SqlDataSource control's `INSERT` statement is executed; its two parameters are populated with the user-entered values in the DetailsView's two TextBox controls.</span></span> <span data-ttu-id="d830e-205">Es ist leider keine visuelle Bestätigung, die eine Einfügung durchgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-205">Unfortunately, there is no visual feedback that an insert has occurred.</span></span> <span data-ttu-id="d830e-206">Es wäre gut, haben eine Meldung angezeigt wird, bestätigt, dass ein neuer Datensatz hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-206">It would be nice to have a message displayed, confirming that a new record has been added.</span></span> <span data-ttu-id="d830e-207">Ich lassen Sie dieses als Übung für den Leser.</span><span class="sxs-lookup"><span data-stu-id="d830e-207">I leave this as an exercise for the reader.</span></span> <span data-ttu-id="d830e-208">Darüber hinaus zeigt nach dem Hinzufügen eines neuen Datensatzes aus der DetailsView GridView auf der Masterseite weiterhin dieselben fünf Datensätze wie vor; Es umfasst nicht den gerade hinzugefügten Datensatz.</span><span class="sxs-lookup"><span data-stu-id="d830e-208">Also, after adding a new record from the DetailsView the GridView in the master page still shows the same five records as before; it does not include the just-added record.</span></span> <span data-ttu-id="d830e-209">Untersucht, wie Sie dies in den nächsten Schritten zu beheben.</span><span class="sxs-lookup"><span data-stu-id="d830e-209">We'll examine how to remedy this in the upcoming steps.</span></span>

> [!NOTE]
> <span data-ttu-id="d830e-210">Zusätzlich zum Hinzufügen von einer Art von visuellem Feedback, das die Einfügung erfolgreich war, empfehle ich Ihnen auch aktualisieren, Einfügen von DetailsViews-Schnittstelle zur Validierung einschließen.</span><span class="sxs-lookup"><span data-stu-id="d830e-210">In addition to adding some form of visual feedback that the insert has succeeded, I'd encourage you to also update the DetailsView's inserting interface to include validation.</span></span> <span data-ttu-id="d830e-211">Es gibt derzeit keine Validierung.</span><span class="sxs-lookup"><span data-stu-id="d830e-211">Currently, there is no validation.</span></span> <span data-ttu-id="d830e-212">Wenn ein Benutzer einen ungültigen Wert für eingibt der `UnitPrice` Feld, z. B. "zu viel Leistung beanspruchen," eine Ausnahme wird beim Postback ausgelöst werden, wenn das System versucht, diese Zeichenfolge in einen Dezimalwert zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="d830e-212">If a user enters an invalid value for the `UnitPrice` field, such as "Too expensive," an exception will be thrown on postback when the system attempts to convert that string into a decimal.</span></span> <span data-ttu-id="d830e-213">Weitere Informationen zum Anpassen der Einfügen von Schnittstellen, finden Sie in der [ *Anpassen der Benutzeroberfläche für die Änderung der Daten* Tutorial](../../data-access/editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) aus meiner [arbeiten mit Daten tutorialreihe](../../data-access/index.md).</span><span class="sxs-lookup"><span data-stu-id="d830e-213">For more information on customizing the inserting interface, refer to the [*Customizing the Data Modification Interface* tutorial](../../data-access/editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) from my [Working with Data tutorial series](../../data-access/index.md).</span></span>


## <a name="step-3-creating-public-properties-and-methods-in-the-master-page"></a><span data-ttu-id="d830e-214">Schritt 3: Erstellen öffentliche Eigenschaften und Methoden auf der Masterseite</span><span class="sxs-lookup"><span data-stu-id="d830e-214">Step 3: Creating Public Properties and Methods in the Master Page</span></span>

<span data-ttu-id="d830e-215">In Schritt 1 hinzugefügten wir ein Label-Steuerelement mit dem Namen `GridMessage` oben auf der Masterseite GridView.</span><span class="sxs-lookup"><span data-stu-id="d830e-215">In Step 1 we added a Label Web control named `GridMessage` above the GridView in the master page.</span></span> <span data-ttu-id="d830e-216">Diese Bezeichnung ist vorgesehen, optional eine Meldung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d830e-216">This Label is intended to optionally display a message.</span></span> <span data-ttu-id="d830e-217">Beispielsweise nach dem Hinzufügen eines neuen Datensatzes, der `Products` Tabelle, wir möchten eine Meldung angezeigt, die liest: "*ProductName* in der Datenbank hinzugefügt wurde."</span><span class="sxs-lookup"><span data-stu-id="d830e-217">For example, after adding a new record to the `Products` table, we might want to show a message that reads: "*ProductName* has been added to the database."</span></span> <span data-ttu-id="d830e-218">Anstatt hartcodieren der Text für diese Bezeichnung auf der Masterseite sollten wir die Nachricht von der Seite Inhalt angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="d830e-218">Rather than hard-code the text for this Label in the master page, we might want the message to be customizable by the content page.</span></span>

<span data-ttu-id="d830e-219">Da das Label-Steuerelement als eine geschützte Member-Variable innerhalb der Masterseite implementiert wird, kann nicht diese direkt von Inhaltsseiten zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="d830e-219">Because the Label control is implemented as a protected member variable within the master page it cannot be accessed directly from content pages.</span></span> <span data-ttu-id="d830e-220">Für die Arbeit mit der Bezeichnung in einer Masterseite der Inhaltsseite (oder einfach alle Websteuerelement in die Masterseite) müssen wir eine öffentliche Eigenschaft in die Masterseite zu erstellen, macht das Websteuerelement oder dient als Proxy mit dem eine seiner Eigenschaften werden kann  der Zugriff auf.</span><span class="sxs-lookup"><span data-stu-id="d830e-220">In order to work with the Label within a master page from the content page (or, for that matter, any Web control in the master page) we need to create a public property in the master page that exposes the Web control or serves as a proxy by which one of its properties can be accessed.</span></span> <span data-ttu-id="d830e-221">Fügen Sie die folgende Syntax, die Masterseite CodeBehind-Klasse, der Bezeichnung des verfügbar zu machen `Text` Eigenschaft:</span><span class="sxs-lookup"><span data-stu-id="d830e-221">Add the following syntax to the master page's code-behind class to expose the Label's `Text` property:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample6.cs)]

<span data-ttu-id="d830e-222">Wenn ein neuer Datensatz hinzugefügt wird, um die `Products` Tabelle von einer Inhaltsseite der `RecentProducts` GridView, die auf der Masterseite muss mit der zugrunde liegenden Datenquelle zu binden.</span><span class="sxs-lookup"><span data-stu-id="d830e-222">When a new record is added to the `Products` table from a content page the `RecentProducts` GridView in the master page needs to rebind to its underlying data source.</span></span> <span data-ttu-id="d830e-223">Zum Binden des GridView-Aufrufs der `DataBind` Methode.</span><span class="sxs-lookup"><span data-stu-id="d830e-223">To rebind the GridView call its `DataBind` method.</span></span> <span data-ttu-id="d830e-224">Da die GridView auf der Masterseite nicht programmgesteuert zugegriffen werden kann, auf die Inhaltsseiten ist, werden wir müssen eine öffentliche Methode in der Masterseite, die während der Erstellung aufgerufen, bindet die Daten an die GridView.</span><span class="sxs-lookup"><span data-stu-id="d830e-224">Because the GridView in the master page is not programmatically accessible to the content pages, we need to create a public method in the master page that, when called, rebinds the data to the GridView.</span></span> <span data-ttu-id="d830e-225">Fügen Sie auf der Masterseite CodeBehind-Klasse die folgende Methode hinzu:</span><span class="sxs-lookup"><span data-stu-id="d830e-225">Add the following method to the master page's code-behind class:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample7.cs)]

<span data-ttu-id="d830e-226">Mit der `GridMessageText` Eigenschaft und `RefreshRecentProductsGrid` Methode vorhanden, jeder Inhaltsseite kann programmgesteuert festlegen oder Lesen Sie den Wert des der `GridMessage` Bezeichnungsfelds `Text` Eigenschaft oder binden Sie die Daten in die `RecentProducts` GridView.</span><span class="sxs-lookup"><span data-stu-id="d830e-226">With the `GridMessageText` property and `RefreshRecentProductsGrid` method in place, any content page can programmatically set or read the value of the `GridMessage` Label's `Text` property or rebind the data to the `RecentProducts` GridView.</span></span> <span data-ttu-id="d830e-227">Schritt 4 untersucht, wie Sie öffentliche Eigenschaften und Methoden der Masterseite von einer Inhaltsseite zugreifen wird.</span><span class="sxs-lookup"><span data-stu-id="d830e-227">Step 4 examines how to access the master page's public properties and methods from a content page.</span></span>

> [!NOTE]
> <span data-ttu-id="d830e-228">Vergessen Sie nicht, markieren Sie die Eigenschaften und Methoden wie der Masterseite `public`.</span><span class="sxs-lookup"><span data-stu-id="d830e-228">Don't forget to mark the master page's properties and methods as `public`.</span></span> <span data-ttu-id="d830e-229">Wenn Sie nicht explizit diese Eigenschaften und Methoden als kennzeichnen `public`, sie können nicht auf der Seite Inhalt zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="d830e-229">If you do not explicitly denote these properties and methods as `public`, they will not be accessible from the content page.</span></span>


## <a name="step-4-calling-the-master-pages-public-members-from-a-content-page"></a><span data-ttu-id="d830e-230">Schritt 4: Aufrufen von öffentlichen Member der Masterseite von einer Inhaltsseite</span><span class="sxs-lookup"><span data-stu-id="d830e-230">Step 4: Calling the Master Page's Public Members from a Content Page</span></span>

<span data-ttu-id="d830e-231">Nachdem die Masterseite erforderlichen öffentliche Eigenschaften und Methoden verfügt, wir können diese Eigenschaften und Methoden aus Aufrufen der `AddProduct.aspx` Inhaltsseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-231">Now that the master page has the necessary public properties and methods, we're ready to invoke these properties and methods from the `AddProduct.aspx` content page.</span></span> <span data-ttu-id="d830e-232">Insbesondere müssen wir die Gestaltungsvorlage festgelegt `GridMessageText` -Eigenschaft, und rufen die `RefreshRecentProductsGrid` -Methode auf, nachdem das neue Produkt mit der Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-232">Specifically, we need to set the master page's `GridMessageText` property and call its `RefreshRecentProductsGrid` method after the new product has been added to the database.</span></span> <span data-ttu-id="d830e-233">Alle ASP.NET Daten-Websteuerelemente auslösen Ereignisse, unmittelbar vor und nach dem Ausführen verschiedener Aufgaben, die Seitenentwickler, die eine programmgesteuerte Aktion vor oder nach der Aufgabe zu erleichtern.</span><span class="sxs-lookup"><span data-stu-id="d830e-233">All the ASP.NET data Web controls fire events immediately before and after completing various tasks, which make it easy for page developers to take some programmatic action either before or after the task.</span></span> <span data-ttu-id="d830e-234">Z. B. wenn der Endbenutzer DetailsViews-Einfügen-Schaltfläche klickt, auf postback die DetailsView löst die `ItemInserting` -Ereignis vor dem Einfügen von Workflow ab.</span><span class="sxs-lookup"><span data-stu-id="d830e-234">For example, when the end user clicks the DetailsView's Insert button, on postback the DetailsView raises its `ItemInserting` event before beginning the inserting workflow.</span></span> <span data-ttu-id="d830e-235">Klicken Sie dann den Datensatz in die Datenbank eingefügt.</span><span class="sxs-lookup"><span data-stu-id="d830e-235">It then inserts the record into the database.</span></span> <span data-ttu-id="d830e-236">Danach DetailsView löst die `ItemInserted` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="d830e-236">Following that, the DetailsView raises its `ItemInserted` event.</span></span> <span data-ttu-id="d830e-237">Erstellen aus diesem Grund für die Arbeit mit der Masterseite nachdem das neue Produkt hinzugefügt wurde, einen Ereignishandler für die DetailsView `ItemInserted` Ereignis.</span><span class="sxs-lookup"><span data-stu-id="d830e-237">Therefore, in order to work with the master page after the new product has been added, create an event handler for the DetailsView's `ItemInserted` event.</span></span>

<span data-ttu-id="d830e-238">Es gibt zwei Möglichkeiten, eine Inhaltsseite programmgesteuert mit der die Masterseite kann:</span><span class="sxs-lookup"><span data-stu-id="d830e-238">There are two ways that a content page can programmatically interface with its master page:</span></span>

- <span data-ttu-id="d830e-239">Mithilfe der `Page.Master` -Eigenschaft, die einen lose typisierten Verweis auf die Masterseite zurückgegeben wird, oder</span><span class="sxs-lookup"><span data-stu-id="d830e-239">Using the `Page.Master` property, which returns a loosely-typed reference to the master page, or</span></span>
- <span data-ttu-id="d830e-240">Geben Sie Pfad der Seite Masterseite Typ oder die Datei über eine `@MasterType` -Direktive; Dadurch wird eine stark typisierte Eigenschaft automatisch auf die Seite mit dem Namen hinzugefügt `Master`.</span><span class="sxs-lookup"><span data-stu-id="d830e-240">Specify the page's master page type or file path via a `@MasterType` directive; this automatically adds a strongly-typed property to the page named `Master`.</span></span>

<span data-ttu-id="d830e-241">Betrachten wir beide Ansätze.</span><span class="sxs-lookup"><span data-stu-id="d830e-241">Let's examine both approaches.</span></span>

### <a name="using-the-loosely-typedpagemasterproperty"></a><span data-ttu-id="d830e-242">Verwenden die lose typisierte`Page.Master`Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="d830e-242">Using the Loosely-Typed`Page.Master`Property</span></span>

<span data-ttu-id="d830e-243">Alle ASP.NET-Webseiten muss abgeleitet werden, aus der `Page` -Klasse, die sich im befindet der `System.Web.UI` Namespace.</span><span class="sxs-lookup"><span data-stu-id="d830e-243">All ASP.NET web pages must derive from the `Page` class, which is located in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="d830e-244">Die `Page` Klasse enthält eine [ `Master` Eigenschaft](https://msdn.microsoft.com/library/system.web.ui.page.master.aspx) , der einen Verweis auf die Masterseite zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="d830e-244">The `Page` class includes a [`Master` property](https://msdn.microsoft.com/library/system.web.ui.page.master.aspx) that returns a reference to the page's master page.</span></span> <span data-ttu-id="d830e-245">Wenn die Seite nicht über eine Masterseite verfügt `Master` gibt `null`.</span><span class="sxs-lookup"><span data-stu-id="d830e-245">If the page does not have a master page `Master` returns `null`.</span></span>

<span data-ttu-id="d830e-246">Die `Master` -Eigenschaft gibt ein Objekt des Typs [ `MasterPage` ](https://msdn.microsoft.com/library/system.web.ui.masterpage.aspx) (auch im Verzeichnis der `System.Web.UI` Namespace) Dies ist der Basistyp, von dem alle Masterseiten abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="d830e-246">The `Master` property returns an object of type [`MasterPage`](https://msdn.microsoft.com/library/system.web.ui.masterpage.aspx) (also located in the `System.Web.UI` namespace) which is the base type from which all master pages derive from.</span></span> <span data-ttu-id="d830e-247">Aus diesem Grund auf mit öffentlichen Eigenschaften oder Methoden, die in unsere Website, die Masterseite, wir müssen umwandeln, definiert die `MasterPage` Objekt, das von der `Master` Eigenschaft in den entsprechenden Typ.</span><span class="sxs-lookup"><span data-stu-id="d830e-247">Therefore, to use public properties or methods defined in our website's master page we must cast the `MasterPage` object returned from the `Master` property to the appropriate type.</span></span> <span data-ttu-id="d830e-248">Da wir unsere Masterseitendatei namens `Site.master`, wurde der Code-Behind-Klasse mit dem Namen `Site`.</span><span class="sxs-lookup"><span data-stu-id="d830e-248">Because we named our master page file `Site.master`, the code-behind class was named `Site`.</span></span> <span data-ttu-id="d830e-249">Der folgende code aus diesem Grund Umwandlungen der `Page.Master` -Eigenschaft auf eine Instanz der Website-Klasse.</span><span class="sxs-lookup"><span data-stu-id="d830e-249">Therefore, the following code casts the `Page.Master` property to an instance of the Site class.</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample8.cs)]

<span data-ttu-id="d830e-250">Nun, da wir umgewandelt haben die lose typisierte `Page.Master` Eigenschaft, um die `Site` geben wir können die Eigenschaften und Methoden, die Website zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="d830e-250">Now that we have casted the loosely-typed `Page.Master` property to the `Site` type we can reference the properties and methods specific to Site.</span></span> <span data-ttu-id="d830e-251">Wie in Abbildung 7 dargestellt, das die öffentliche Eigenschaft `GridMessageText` wird in der IntelliSense-Dropdownliste angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d830e-251">As Figure 7 shows, the public property `GridMessageText` appears in the IntelliSense drop-down.</span></span>


<span data-ttu-id="d830e-252">[![IntelliSense zeigt unsere Masterseite öffentliche Eigenschaften und Methoden](interacting-with-the-master-page-from-the-content-page-cs/_static/image20.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-252">[![IntelliSense Shows our Master Page's Public Properties and Methods](interacting-with-the-master-page-from-the-content-page-cs/_static/image20.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image19.png)</span></span>

<span data-ttu-id="d830e-253">**Abbildung 07**: IntelliSense zeigt unsere Masterseite öffentliche Eigenschaften und Methoden ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-253">**Figure 07**: IntelliSense Shows our Master Page's Public Properties and Methods  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image21.png))</span></span>


> [!NOTE]
> <span data-ttu-id="d830e-254">Wenn Sie Ihre Masterseitendatei namens `MasterPage.master` lautet die Masterseite Code-Behind-Klassenname `MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="d830e-254">If you named your master page file `MasterPage.master` then the master page's code-behind class name is `MasterPage`.</span></span> <span data-ttu-id="d830e-255">Dies kann zu mehrdeutigen Code führen, bei der Umwandlung vom Typ `System.Web.UI.MasterPage` auf Ihre `MasterPage` Klasse.</span><span class="sxs-lookup"><span data-stu-id="d830e-255">This can lead to ambiguous code when casting from the type `System.Web.UI.MasterPage` to your `MasterPage` class.</span></span> <span data-ttu-id="d830e-256">Kurz gesagt, müssen Sie den vollqualifizierten des Typs, dem Sie umwandeln, das kann etwas schwierig sein, wenn das Websiteprojekt-Modell verwenden.</span><span class="sxs-lookup"><span data-stu-id="d830e-256">In short, you need to fully qualify the type you are casting to, which can be a little tricky when using the Web Site Project model.</span></span> <span data-ttu-id="d830e-257">Mein Vorschlag wäre entweder sicherstellen, dass bei der Erstellung Ihrer Masterseite Sie es etwas anderen als Namen `MasterPage.master` oder noch besser ist, erstellen Sie einen stark typisierten Verweis auf die Masterseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-257">My suggestion would be to either make sure that when you create your master page you name it something other than `MasterPage.master` or, even better, create a strongly-typed reference to the master page.</span></span>


### <a name="creating-a-strongly-typed-reference-with-themastertypedirective"></a><span data-ttu-id="d830e-258">Erstellen einen stark typisierten Verweis mit dem`@MasterType`Richtlinie</span><span class="sxs-lookup"><span data-stu-id="d830e-258">Creating a Strongly-Typed Reference with the`@MasterType`Directive</span></span>

<span data-ttu-id="d830e-259">Wenn Sie genau hinsehen werden Sie sehen, dass eine ASP.NET-Seite Code-Behind-Klasse eine partielle Klasse ist (Beachten Sie die `partial` Schlüsselwort in der Klassendefinition).</span><span class="sxs-lookup"><span data-stu-id="d830e-259">If you look closely you can see that an ASP.NET page's code-behind class is a partial class (note the `partial` keyword in the class definition).</span></span> <span data-ttu-id="d830e-260">Partielle Klassen in c# und Visual Basic mit Framework 2.0 eingeführt wurden und im Prinzip für die Member einer Klasse in mehreren Dateien definiert werden können.</span><span class="sxs-lookup"><span data-stu-id="d830e-260">Partial classes were introduced in C# and Visual Basic with.NET Framework 2.0 and, in a nutshell, allow for a class's members to be defined across multiple files.</span></span> <span data-ttu-id="d830e-261">Die CodeBehind-Klassendatei - `AddProduct.aspx.cs`, Beispiel: enthält den Code, den Sie, die Seitenentwickler erstellen.</span><span class="sxs-lookup"><span data-stu-id="d830e-261">The code-behind class file - `AddProduct.aspx.cs`, for example - contains the code that we, the page developer, create.</span></span> <span data-ttu-id="d830e-262">Neben unserem Code das ASP.NET-Modul erstellt automatisch eine separate Klasse-Datei mit den Eigenschaften, und Ereignishandlern, übersetzen deklarative Markup in der Klassenhierarchie der Seite aus.</span><span class="sxs-lookup"><span data-stu-id="d830e-262">In addition to our code, the ASP.NET engine automatically creates a separate class file with properties and event handlers in that translate the declarative markup into the page's class hierarchy.</span></span>

<span data-ttu-id="d830e-263">Die automatische codegenerierung, die auftritt, wenn eine ASP.NET-Seite besucht wird kontextspezifischen einige recht interessanten und nützliche Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="d830e-263">The automatic code generation that occurs whenever an ASP.NET page is visited paves the way for some rather interesting and useful possibilities.</span></span> <span data-ttu-id="d830e-264">Im Fall von Masterseiten, wenn wir das ASP.NET-Modul mitteilen, welche Masterseite von unserer Seite verwendet wird, er generiert einen stark typisierten `Master` -Eigenschaft für uns.</span><span class="sxs-lookup"><span data-stu-id="d830e-264">In the case of master pages, if we tell the ASP.NET engine what master page is being used by our content page it generates a strongly-typed `Master` property for us.</span></span>

<span data-ttu-id="d830e-265">Verwenden der [ `@MasterType` Richtlinie](https://msdn.microsoft.com/library/ms228274.aspx) die ASP.NET-Engine für die master Seitentyp der Seite Inhalt informiert.</span><span class="sxs-lookup"><span data-stu-id="d830e-265">Use the [`@MasterType` directive](https://msdn.microsoft.com/library/ms228274.aspx) to inform the ASP.NET engine of the content page's master page type.</span></span> <span data-ttu-id="d830e-266">Die `@MasterType` Richtlinie kann entweder der Typname der Masterseite oder der Pfad der Datei akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="d830e-266">The `@MasterType` directive can accept either the type name of the master page or its file path.</span></span> <span data-ttu-id="d830e-267">Um anzugeben, dass die `AddProduct.aspx` verwendet `Site.master` als Gestaltungsvorlage, fügen Sie die folgende Anweisung am Anfang `AddProduct.aspx`:</span><span class="sxs-lookup"><span data-stu-id="d830e-267">To specify that the `AddProduct.aspx` page uses `Site.master` as its master page, add the following directive to the top of `AddProduct.aspx`:</span></span>


[!code-aspx[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample9.aspx)]

<span data-ttu-id="d830e-268">Diese Anweisung weist die Engine ASP.NET einen stark typisierten Verweis auf die Masterseite über eine Eigenschaft mit dem Namen hinzufügen `Master`.</span><span class="sxs-lookup"><span data-stu-id="d830e-268">This directive instructs the ASP.NET engine to add a strongly-typed reference to the master page through a property named `Master`.</span></span> <span data-ttu-id="d830e-269">Mit der `@MasterType` -Anweisung direktes Aufrufen der `Site.master` master öffentliche Eigenschaften und Methoden, die direkt über die Seite die `Master` Eigenschaft ohne datentypkonvertierungen.</span><span class="sxs-lookup"><span data-stu-id="d830e-269">With the `@MasterType` directive in place, we can call the `Site.master` master page's public properties and methods directly through the `Master` property without any casts.</span></span>

> [!NOTE]
> <span data-ttu-id="d830e-270">Wenn Sie weglassen der `@MasterType` Richtlinie ist die Syntax `Page.Master` und `Master` das gleiche Ergebnis zurückgegeben: ein lose typisiertes Objekt in die Masterseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-270">If you omit the `@MasterType` directive, the syntax `Page.Master` and `Master` return the same thing: a loosely-typed object to the page's master page.</span></span> <span data-ttu-id="d830e-271">Wenn Sie enthalten die `@MasterType` Richtlinie dann `Master` gibt einen stark typisierten Verweis auf die angegebene Masterseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-271">If you include the `@MasterType` directive then `Master` returns a strongly-typed reference to the specified master page.</span></span> <span data-ttu-id="d830e-272">`Page.Master`, jedoch immer noch einen lose typisierten Verweis zurück.</span><span class="sxs-lookup"><span data-stu-id="d830e-272">`Page.Master`, however, still returns a loosely-typed reference.</span></span> <span data-ttu-id="d830e-273">Eine ausführlichere Betrachtung warum dies der Fall ist und wie die `Master` Eigenschaft erstellt wird bei der `@MasterType` Richtlinie enthalten ist, finden Sie unter [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx)Blogeintrag [ `@MasterType` in ASP.NET 2.0](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx).</span><span class="sxs-lookup"><span data-stu-id="d830e-273">For a more thorough look at why this is the case and how the `Master` property is constructed when the `@MasterType` directive is included, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx)'s blog entry [`@MasterType` in ASP.NET 2.0](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx).</span></span>


### <a name="updating-the-master-page-after-adding-a-new-product"></a><span data-ttu-id="d830e-274">Aktualisieren die Masterseite, nach dem Hinzufügen eines neuen Produkts</span><span class="sxs-lookup"><span data-stu-id="d830e-274">Updating the Master Page After Adding a New Product</span></span>

<span data-ttu-id="d830e-275">Nachdem wir wissen, wie zum Aufrufen der öffentlichen Eigenschaften und Methoden von einer Inhaltsseite einer Masterseite wir sind bereit zum Aktualisieren der `AddProduct.aspx` Seite, damit die Masterseite aktualisiert wird, nach dem Hinzufügen eines neuen Produkts.</span><span class="sxs-lookup"><span data-stu-id="d830e-275">Now that we know how to invoke a master page's public properties and methods from a content page, we're ready to update the `AddProduct.aspx` page so that the master page is refreshed after adding a new product.</span></span> <span data-ttu-id="d830e-276">Zu Beginn von Schritt 4, die wir erstellt eines ereignishandlers für des DetailsView-Steuerelements `ItemInserting` -Ereignis, das ausgeführt wird, sofort, nachdem das neue Produkt mit der Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-276">At the beginning of Step 4 we created an event handler for the DetailsView control's `ItemInserting` event, which executes immediately after the new product has been added to the database.</span></span> <span data-ttu-id="d830e-277">Fügen Sie zu diesem Ereignishandler den folgenden Code hinzu:</span><span class="sxs-lookup"><span data-stu-id="d830e-277">Add the following code to that event handler:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample10.cs)]

<span data-ttu-id="d830e-278">Der obige Code wird sowohl die lose typisierte `Page.Master` Eigenschaft und die stark typisierte `Master` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="d830e-278">The above code uses both the loosely-typed `Page.Master` property and the strongly-typed `Master` property.</span></span> <span data-ttu-id="d830e-279">Beachten Sie, dass die `GridMessageText` -Eigenschaftensatz auf "*ProductName* ... Raster hinzugefügt" Werte für den gerade hinzugefügten des Produkts können Sie über die `e.Values` Auflistung, wie Sie sehen können, die gerade hinzugefügte `ProductName` Wert erfolgt über `e.Values["ProductName"]`.</span><span class="sxs-lookup"><span data-stu-id="d830e-279">Note that the `GridMessageText` property is set to "*ProductName* added to grid..." The just-added product's values are accessible through the `e.Values` collection; as you can see, the just-added `ProductName` value is accessed via `e.Values["ProductName"]`.</span></span>

<span data-ttu-id="d830e-280">Abbildung 8 zeigt die `AddProduct.aspx` Seite sofort nach der ein neues Produkt - Scotts Soda - Datenbank hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d830e-280">Figure 8 shows the `AddProduct.aspx` page immediately after a new product - Scott's Soda - has been added to the database.</span></span> <span data-ttu-id="d830e-281">Beachten Sie, dass der Name des gerade hinzugefügten Produkts in die Masterseite Bezeichnung angegeben ist und die GridView aktualisiert worden sind, um das Produkt und seinem Preis enthalten.</span><span class="sxs-lookup"><span data-stu-id="d830e-281">Note that the just-added product name is noted in the master page's Label and that the GridView has been refreshed to include the product and its price.</span></span>


<span data-ttu-id="d830e-282">[![Bezeichnung und GridView anzeigen, das gerade hinzugefügte Produkt der Masterseite](interacting-with-the-master-page-from-the-content-page-cs/_static/image23.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="d830e-282">[![The Master Page's Label and GridView Show the Just-Added Product](interacting-with-the-master-page-from-the-content-page-cs/_static/image23.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image22.png)</span></span>

<span data-ttu-id="d830e-283">**Abbildung 08**: Bezeichnung und GridView die Masterseite wird gezeigt, das Produkt Just-Added ([klicken Sie, um das Bild in voller Größe anzeigen](interacting-with-the-master-page-from-the-content-page-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="d830e-283">**Figure 08**: The Master Page's Label and GridView Show the Just-Added Product ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image24.png))</span></span>


## <a name="summary"></a><span data-ttu-id="d830e-284">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="d830e-284">Summary</span></span>

<span data-ttu-id="d830e-285">Im Idealfall eine Masterseite und die Inhaltsseiten sind vollständig voneinander getrennt, und Sie benötigen keine Interaktion.</span><span class="sxs-lookup"><span data-stu-id="d830e-285">Ideally, a master page and its content pages are completely separate from one another and require no level of interaction.</span></span> <span data-ttu-id="d830e-286">Während der Masterseiten und Inhaltsseiten mit diesem Ziel vor Augen entworfen werden soll, gibt es zahlreiche gängige Szenarien, in denen eine Inhaltsseite mit der Masterseite Schnittstelle muss.</span><span class="sxs-lookup"><span data-stu-id="d830e-286">While master pages and content pages should be designed with that goal in mind, there are a number of common scenarios in which a content page must interface with its master page.</span></span> <span data-ttu-id="d830e-287">Einer der häufigsten Gründe Rechenzentren zu einen bestimmten Teil die Masterseite-Anzeige, die eine Aktion, die auf der Inhaltsseite wiederholt entsprechend aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="d830e-287">One of the most common reasons centers around updating a particular portion of the master page display based on some action that transpired in the content page.</span></span>

<span data-ttu-id="d830e-288">Die gute Nachricht ist, dass es relativ einfach, um eine programmgesteuerte Interaktion mit der Masterseite Inhaltsseite zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d830e-288">The good news is that it's relatively straightforward to have a content page programmatically interact with its master page.</span></span> <span data-ttu-id="d830e-289">Zunächst erstellen öffentliche Eigenschaften oder Methoden auf der Masterseite, die die Funktionalität zu kapseln, die von einer Inhaltsseite aufgerufen werden muss.</span><span class="sxs-lookup"><span data-stu-id="d830e-289">Start by creating public properties or methods in the master page that encapsulate the functionality that needs to be invoked by a content page.</span></span> <span data-ttu-id="d830e-290">Klicken Sie dann auf der Inhaltsseite, Zugriff auf Eigenschaften und Methoden der Masterseite über die typenlosen `Page.Master` Eigenschaft oder verwenden Sie die `@MasterType` Direktive, um einen stark typisierten Verweis auf die Masterseite zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="d830e-290">Then, in the content page, access the master page's properties and methods through the loosely-typed `Page.Master` property or use the `@MasterType` directive to create a strongly-typed reference to the master page.</span></span>

<span data-ttu-id="d830e-291">Im nächsten Tutorial untersuchen wir auf die programmgesteuerte Interaktion mit einem entsprechenden Inhaltsseiten Masterseite.</span><span class="sxs-lookup"><span data-stu-id="d830e-291">In the next tutorial we examine how to have the master page programmatically interact with one of its content pages.</span></span>

<span data-ttu-id="d830e-292">Viel Spaß beim Programmieren!</span><span class="sxs-lookup"><span data-stu-id="d830e-292">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="d830e-293">Weiterführende Themen</span><span class="sxs-lookup"><span data-stu-id="d830e-293">Further Reading</span></span>

<span data-ttu-id="d830e-294">Weitere Informationen zu den Themen in diesem Tutorial erläutert finden Sie in den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="d830e-294">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="d830e-295">Zugreifen auf und Aktualisieren von Daten in ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d830e-295">Accessing and Updating Data in ASP.NET</span></span>](http://aspnet.4guysfromrolla.com/articles/011106-1.aspx)
- [<span data-ttu-id="d830e-296">ASP.NET Masterseiten: Tipps, Tricks und Traps</span><span class="sxs-lookup"><span data-stu-id="d830e-296">ASP.NET Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="d830e-297">`@MasterType` in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="d830e-297">`@MasterType` in ASP.NET 2.0</span></span>](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx)
- [<span data-ttu-id="d830e-298">Übergeben von Informationen zwischen Inhalt und Masterseiten</span><span class="sxs-lookup"><span data-stu-id="d830e-298">Passing Information Between Content and Master Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/013107-1.aspx)
- [<span data-ttu-id="d830e-299">Arbeiten mit Daten in den ASP.NET-Tutorials</span><span class="sxs-lookup"><span data-stu-id="d830e-299">Working with Data in ASP.NET Tutorials</span></span>](../../data-access/index.md)

### <a name="about-the-author"></a><span data-ttu-id="d830e-300">Der Autor</span><span class="sxs-lookup"><span data-stu-id="d830e-300">About the Author</span></span>

<span data-ttu-id="d830e-301">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor mehrerer Büchern zu ASP/ASP.NET und Gründer von 4GuysFromRolla.com, arbeitet mit Microsoft-Web-Technologien seit 1998.</span><span class="sxs-lookup"><span data-stu-id="d830e-301">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d830e-302">Er ist als ein unabhängiger Berater, Schulungsleiter und Autor.</span><span class="sxs-lookup"><span data-stu-id="d830e-302">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d830e-303">Sein neuestes Buch heißt [ *Sams Teach selbst ASP.NET 3.5 in 24 Stunden*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d830e-303">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="d830e-304">Scott erreicht werden kann, zur [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) oder über seinen Blog unter [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="d830e-304">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="d830e-305">Besonderen Dank an</span><span class="sxs-lookup"><span data-stu-id="d830e-305">Special Thanks To</span></span>

<span data-ttu-id="d830e-306">Diese tutorialreihe wurde durch viele hilfreiche Reviewer überprüft.</span><span class="sxs-lookup"><span data-stu-id="d830e-306">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d830e-307">Führendes Prüfer für dieses Tutorial wurde Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="d830e-307">Lead reviewer for this tutorial was Zack Jones.</span></span> <span data-ttu-id="d830e-308">Meine zukünftigen MSDN-Artikeln überprüfen möchten?</span><span class="sxs-lookup"><span data-stu-id="d830e-308">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d830e-309">Wenn dies der Fall ist, löschen Sie mir eine Linie an [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d830e-309">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d830e-310">[Zurück](control-id-naming-in-content-pages-cs.md)
> [Weiter](interacting-with-the-content-page-from-the-master-page-cs.md)</span><span class="sxs-lookup"><span data-stu-id="d830e-310">[Previous](control-id-naming-in-content-pages-cs.md)
[Next](interacting-with-the-content-page-from-the-master-page-cs.md)</span></span>
