---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12
title: 'Bereitstellen einer ASP.NET-Webanwendung mit SQL Server Compact mit Visual Studio oder Visual Web Developer: Bereitstellen von IIS als Testumgebung - 5, 12 | Microsoft Docs'
author: tdykstra
description: Diese Reihe von Lernprogrammen wird gezeigt, wie das Bereitstellen einer ASP.NET-Anwendung (veröffentlichen) Webanwendungsprojekt, die eine SQL Server Compact-Datenbank enthält, mithilfe von Visual das...
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/17/2011
ms.topic: article
ms.assetid: 493b2a66-816c-485c-8315-952ed1085ccc
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12
msc.type: authoredcontent
ms.openlocfilehash: 16050455c161c8ced1f954bfce9c2d9a44c522b4
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/06/2018
---
<a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-iis-as-a-test-environment---5-of-12"></a><span data-ttu-id="0b8e6-103">Bereitstellen einer ASP.NET-Webanwendung mit SQL Server Compact mit Visual Studio oder Visual Web Developer: Bereitstellen von IIS als Testumgebung - 5, 12</span><span class="sxs-lookup"><span data-stu-id="0b8e6-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to IIS as a Test Environment - 5 of 12</span></span>
====================
<span data-ttu-id="0b8e6-104">durch [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="0b8e6-105">Startprojekt herunterladen</span><span class="sxs-lookup"><span data-stu-id="0b8e6-105">Download Starter Project</span></span>](http://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="0b8e6-106">Diese Reihe von Lernprogrammen wird gezeigt, wie das Bereitstellen einer ASP.NET-Anwendung (veröffentlichen) Webanwendungsprojekt, die eine SQL Server Compact-Datenbank mithilfe von Visual Studio 2012 RC oder Visual Studio Express 2012 RC für das Web enthält.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="0b8e6-107">Sie können auch Visual Studio 2010 verwenden, wenn Sie das Web veröffentlichen Update installieren.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="0b8e6-108">Eine Einführung in der Reihe, finden Sie unter [im ersten Lernprogramm, in der Reihe](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="0b8e6-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="0b8e6-109">Ein Lernprogramm, die die Bereitstellungsfeatures nach der RC-Version von Visual Studio 2012 eingeführt wurde, wird gezeigt, wie SQL Server-Editionen als SQL Server Compact bereitstellen, und zeigt die Vorgehensweise beim Bereitstellen in Azure App Service-Web-Apps, finden Sie unter [ASP.NET Web Deploy Mithilfe von Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="0b8e6-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="0b8e6-110">Übersicht</span><span class="sxs-lookup"><span data-stu-id="0b8e6-110">Overview</span></span>

<span data-ttu-id="0b8e6-111">Dieses Lernprogramm zeigt, wie eine ASP.NET-Webanwendung in IIS auf dem lokalen Computer bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-111">This tutorial shows how to deploy an ASP.NET web application to IIS on the local computer.</span></span>

<span data-ttu-id="0b8e6-112">Wenn Sie eine Anwendung entwickeln, testen Sie in der Regel in Visual Studio ausführen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-112">When you develop an application, you generally test by running it in Visual Studio.</span></span> <span data-ttu-id="0b8e6-113">In der Standardeinstellung bedeutet dies, dass Sie Visual Studio Development Server (auch bekannt als Cassini) verwenden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-113">By default, this means you're using the Visual Studio Development Server (also known as Cassini).</span></span> <span data-ttu-id="0b8e6-114">Visual Studio Development Server ganz einfach während der Entwicklung in Visual Studio zu testen, aber es funktioniert nicht genau wie IIS.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-114">The Visual Studio Development Server makes it easy to test during development in Visual Studio, but it doesn't work exactly like IIS.</span></span> <span data-ttu-id="0b8e6-115">Daher ist es möglich, dass eine Anwendung ordnungsgemäß ausgeführt wird, wenn Sie in Visual Studio zu testen, jedoch fehl, wenn er in einer Hostingumgebung für IIS bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-115">As a result, it's possible that an application will run correctly when you test it in Visual Studio, but fail when it's deployed to IIS in a hosting environment.</span></span>

<span data-ttu-id="0b8e6-116">Sie können Ihre Anwendung zuverlässiger folgendermaßen testen:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-116">You can test your application more reliably in these ways:</span></span>

1. <span data-ttu-id="0b8e6-117">Verwenden Sie IIS Express oder vollständige Variante von IIS anstelle der Visual Studio Development Server, wenn Sie während der Entwicklung in Visual Studio testen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-117">Use IIS Express or full IIS instead of the Visual Studio Development Server when you test in Visual Studio during development.</span></span> <span data-ttu-id="0b8e6-118">Diese Methode emuliert in der Regel genauer wie Ihre Website unter IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-118">This method generally emulates more accurately how your site will run under IIS.</span></span> <span data-ttu-id="0b8e6-119">Diese Methode jedoch nicht testen das Verfahren zum Bereitstellen oder überprüfen, dass das Ergebnis des Bereitstellungsprozesses ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-119">However, this method does not test your deployment process or validate that the result of the deployment process will run correctly.</span></span>
2. <span data-ttu-id="0b8e6-120">Bereitstellen der Anwendung in IIS auf dem Entwicklungscomputer mithilfe desselben Prozesses, der später verwendet werden, die sie in der produktionsumgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-120">Deploy the application to IIS on your development computer by using the same process that you'll use later to deploy it to your production environment.</span></span> <span data-ttu-id="0b8e6-121">Diese Methode überprüft, ob das Verfahren zum Bereitstellen zusätzlich zu überprüfen, das Ihre Anwendung unter IIS ordnungsgemäß ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-121">This method validates your deployment process in addition to validating that your application will run correctly under IIS.</span></span>
3. <span data-ttu-id="0b8e6-122">Bereitstellen der Anwendung in einer testumgebung, die so nah wie möglich in Ihrer produktionsumgebung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-122">Deploy the application to a test environment that is as close as possible to your production environment.</span></span> <span data-ttu-id="0b8e6-123">Da die produktionsumgebung für diese Lernprogramme einem Hostinganbieter eines Drittanbieters ist, wäre die ideale Umgebung für das ein zweites Konto mit dem Hostinganbieter.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-123">Since the production environment for these tutorials is a third-party hosting provider, the ideal test environment would be a second account with the hosting provider.</span></span> <span data-ttu-id="0b8e6-124">Verwenden Sie dieses zweite Konto nur zu Testzwecken, aber es würde die gleiche Weise wie das Konto für die Produktion einrichten festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-124">You would use this second account only for testing, but it would be set up the same way as the production account.</span></span>

<span data-ttu-id="0b8e6-125">Dieses Lernprogramm zeigt die Schritte für die Option 2.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-125">This tutorial shows the steps for option 2.</span></span> <span data-ttu-id="0b8e6-126">Option 3 Anweisungen am Ende der [in der Produktionsumgebung bereitstellen](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) Lernprogramm und am Ende dieses Lernprogramms stehen Links zu Ressourcen für Option 1 aus.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-126">Guidance for option 3 is provided at the end of the [Deploying to the Production Environment](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) tutorial, and at the end of this tutorial there are links to resources for option 1.</span></span>

<span data-ttu-id="0b8e6-127">Hinweis: Wenn Sie eine Fehlermeldung erhalten, oder etwas funktioniert nicht, wenn Sie das Lernprogramm absolvieren, müssen Sie überprüfen die [Website](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="0b8e6-127">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="configuring-the-application-to-run-in-medium-trust"></a><span data-ttu-id="0b8e6-128">Konfigurieren die Anwendung für die Ausführung in mittlerer Vertrauenswürdigkeit</span><span class="sxs-lookup"><span data-stu-id="0b8e6-128">Configuring the Application to Run in Medium Trust</span></span>

<span data-ttu-id="0b8e6-129">Ändern Sie eine Einstellung einer "Web.config" vor dem Installieren von IIS, und darauf bereitstellen, um den Standort ausführen mehr vornehmen zu können, wie es in einer typischen freigegebenen Hostingumgebung wird.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-129">Before installing IIS and deploying to it, you'll change a Web.config file setting in order to make the site run more like it will in a typical shared hosting environment.</span></span>

<span data-ttu-id="0b8e6-130">Hostinganbieter erhalten die Möglichkeit in der Regel führen Sie Ihre Website *mittlerer Vertrauenswürdigkeit*, d. h. Es gibt einige Dinge, darf es nicht tun.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-130">Hosting providers typically run your web site in *medium trust*, which means there are some things it is not allowed to do.</span></span> <span data-ttu-id="0b8e6-131">Beispielsweise kann nicht Anwendungscode den Zugriff auf die Windows-Registrierung und kann nicht lesen oder Schreiben von Dateien, die außerhalb der Ordnerhierarchie für Ihre Anwendung sind.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-131">For example, application code can't access the Windows registry and can't read or write files that are outside of your application's folder hierarchy.</span></span> <span data-ttu-id="0b8e6-132">Standardmäßig die Anwendung ausgeführt wird, im *hohe Vertrauenswürdigkeit* auf dem lokalen Computer, was bedeutet, dass die Anwendung möglicherweise können Aktionen ausgeführt werden, die ein Fehler auftritt, während der Bereitstellung bis hin zur Produktion.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-132">By default your application runs in *high trust* on your local computer, which means that the application might be able to do things that would fail when you deploy it to production.</span></span> <span data-ttu-id="0b8e6-133">Um der Umgebung, die mehrere genau wieder, die produktionsumgebung zu machen, werden Sie daher die Anwendung mit mittlerer Vertrauenswürdigkeit ausführen konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-133">Therefore, to make the test environment more accurately reflect the production environment, you'll configure the application to run in medium trust.</span></span>

<span data-ttu-id="0b8e6-134">Fügen Sie in der Datei "Web.config" der Anwendung eine **Vertrauensstellung** Element in der **system.web** Element, wie im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-134">In the application Web.config file, add a **trust** element in the **system.web** element, as shown in this example.</span></span>

[!code-xml[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample1.xml?highlight=4)]

<span data-ttu-id="0b8e6-135">Die Anwendung wird nun in mittlerer vetrauenswürdigkeit in IIS auch auf dem lokalen Computer ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-135">The application will now run in medium trust in IIS even on your local computer.</span></span> <span data-ttu-id="0b8e6-136">Mit dieser Einstellung können Sie so früh wie möglich alle Versuche von Anwendungscode eine Aktion abfangen, die in der Produktion ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-136">This setting enables you to catch as early as possible any attempts by application code to do something that would fail in production.</span></span>

> [!NOTE]
> <span data-ttu-id="0b8e6-137">Wenn Sie Entity Framework Code First-Migrationen verwenden, stellen Sie sicher, dass Sie Version 5.0 oder höher installiert.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-137">If you are using Entity Framework Code First Migrations, make sure that you have version 5.0 or later installed.</span></span> <span data-ttu-id="0b8e6-138">In Entity Framework, Version 4.3 Migrationen erfordert volle Vertrauenswürdigkeit um das Datenbankschema zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-138">In Entity Framework version 4.3, Migrations requires full trust in order to update the database schema.</span></span>


## <a name="installing-iis-and-web-deploy"></a><span data-ttu-id="0b8e6-139">Installieren von IIS und Web bereitstellen</span><span class="sxs-lookup"><span data-stu-id="0b8e6-139">Installing IIS and Web Deploy</span></span>

<span data-ttu-id="0b8e6-140">Um IIS auf dem Entwicklungscomputer bereitzustellen, benötigen Sie IIS und Web Deploy installiert.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-140">To deploy to IIS on your development computer, you must have IIS and Web Deploy installed.</span></span> <span data-ttu-id="0b8e6-141">Diese sind nicht in der Standardkonfiguration von Windows 7 enthalten.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-141">These are not included in the default Windows 7 configuration.</span></span> <span data-ttu-id="0b8e6-142">Wenn Sie sowohl IIS als auch Web Deploy bereits installiert haben, fahren Sie mit dem nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-142">If you have already installed both IIS and Web Deploy, skip to the next section.</span></span>

<span data-ttu-id="0b8e6-143">Mithilfe der [Webplattform-Installer](https://www.microsoft.com/web/downloads/platform.aspx) ist die bevorzugte Möglichkeit, IIS und Web Deploy, installiert werden, da der Webplattform-Installer eine empfohlene Konfiguration für IIS installiert und automatisch die erforderlichen Komponenten für IIS und Web installiert Stellen Sie bei Bedarf bereit.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-143">Using the [Web Platform Installer](https://www.microsoft.com/web/downloads/platform.aspx) is the preferred way to install IIS and Web Deploy, because the Web Platform Installer installs a recommended configuration for IIS and it automatically installs the prerequisites for IIS and Web Deploy if necessary.</span></span>

<span data-ttu-id="0b8e6-144">Verwenden Sie den folgenden Link zum Ausführen von Webplattform-Installer zum Installieren von IIS und Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-144">To run Web Platform Installer to install IIS and Web Deploy, use the following link.</span></span> <span data-ttu-id="0b8e6-145">Wenn Sie IIS, Web Deploy oder ihre erforderlichen Komponenten bereits installiert haben, installiert der Webplattform-Installer nur was fehlt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-145">If you already have installed IIS, Web Deploy or any of their required components, the Web Platform Installer installs only what is missing.</span></span>

- [<span data-ttu-id="0b8e6-146">Installieren von IIS und Web Deploy mithilfe von WebPI</span><span class="sxs-lookup"><span data-stu-id="0b8e6-146">Install IIS and Web Deploy using WebPI</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=IIS7;ASPNET;NETFramework4;WDeploy)

## <a name="setting-the-default-application-pool-to-net-4"></a><span data-ttu-id="0b8e6-147">Festlegen des Standardanwendungspools in .NET 4</span><span class="sxs-lookup"><span data-stu-id="0b8e6-147">Setting the Default Application Pool to .NET 4</span></span>

<span data-ttu-id="0b8e6-148">Führen Sie nach der Installation von IIS, **IIS-Manager** um sicherzustellen, dass .NET Framework, Version 4 der Standardanwendungspool zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-148">After installing IIS, run **IIS Manager** to make sure that the .NET Framework version 4 is assigned to the default application pool.</span></span>

<span data-ttu-id="0b8e6-149">Vom Windows **starten** klicken Sie im Menü **ausführen**, geben Sie "Inetmgr", und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-149">From the Windows **Start** menu, select **Run**, enter "inetmgr", and then click **OK**.</span></span> <span data-ttu-id="0b8e6-150">(Wenn die **ausführen** Befehl befindet sich nicht in Ihrem **starten** Menü können Sie Drücken der Windows-Taste und R, um ihn zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-150">(If the **Run** command is not in your **Start** menu, you can press the Windows Key and R to open it.</span></span> <span data-ttu-id="0b8e6-151">Oder mit der rechten Maustaste in der Taskleiste, klicken Sie auf **Eigenschaften**, wählen die **Startmenü** Registerkarte, klicken Sie auf **anpassen**, und wählen Sie **Ausführungsbefehl**.)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-151">Or right-click the taskbar, click **Properties**, select the **Start Menu** tab, click **Customize**, and select **Run command**.)</span></span>

<span data-ttu-id="0b8e6-152">In der **Verbindungen** Bereich, erweitern Sie den Serverknoten, und wählen Sie **Anwendungspools**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-152">In the **Connections** pane, expand the server node and select **Application Pools**.</span></span> <span data-ttu-id="0b8e6-153">In der **Anwendungspools** Bereich, wenn **DefaultAppPool** ist .NET Frameworkversion 4, wie in der folgenden Abbildung zugewiesen, mit dem nächsten Abschnitt überspringen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-153">In the **Application Pools** pane, if **DefaultAppPool** is assigned to the .NET framework version 4 as in the following illustration, skip to the next section.</span></span>

<span data-ttu-id="0b8e6-154">[![Inetmgr_showing_4.0_app_pools](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-154">[![Inetmgr_showing_4.0_app_pools](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image1.png)</span></span>

<span data-ttu-id="0b8e6-155">Wenn Sie nur zwei Anwendungspools finden Sie unter, und beide .NET Framework 2.0 festgelegt sind, müssen Sie ASP.NET 4 in IIS zu installieren:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-155">If you see only two application pools and both of them are set to the .NET Framework 2.0, you have to install ASP.NET 4 in IIS:</span></span>

- <span data-ttu-id="0b8e6-156">Öffnen Sie ein Eingabeaufforderungsfenster, indem Sie mit der rechten Maustaste **Eingabeaufforderung** in Windows **starten** Menü- und Auswählen von **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-156">Open a command prompt window by right-clicking **Command Prompt** in the Windows **Start** menu and selecting **Run as Administrator**.</span></span> <span data-ttu-id="0b8e6-157">Führen Sie [Aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) So installieren Sie ASP.NET 4 in IIS mit den folgenden Befehlen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-157">Then run [aspnet\_regiis.exe](https://msdn.microsoft.com/library/k6h9cz8h.aspx) to install ASP.NET 4 in IIS, using the following commands.</span></span> <span data-ttu-id="0b8e6-158">(Ersetzen Sie in 64-Bit-Systemen "Framework" mit "Framework64").</span><span class="sxs-lookup"><span data-stu-id="0b8e6-158">(In 64-bit systems, replace "Framework" with "Framework64".)</span></span>

    [!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample2.cmd)]

    <span data-ttu-id="0b8e6-159">[![aspnet_regiis_installing_ASP.NET_4](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-159">[![aspnet_regiis_installing_ASP.NET_4](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image3.png)</span></span>

    <span data-ttu-id="0b8e6-160">Dieser Befehl erstellt neuen Anwendungspools für .NET Framework 4, aber der Standardanwendungspool wird weiterhin auf 2.0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-160">This command creates new application pools for the .NET Framework 4, but the default application pool will still be set to 2.0.</span></span> <span data-ttu-id="0b8e6-161">Sie müssen eine Anwendung bereitstellen werden, dessen Ziel .NET 4 für diesen Anwendungspool müssen Sie den Anwendungspool in .NET 4 ändern.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-161">You'll be deploying an application that targets .NET 4 to that application pool, so you have to change the application pool to .NET 4.</span></span>

<span data-ttu-id="0b8e6-162">Wenn Sie geschlossen **IIS-Manager**, führen Sie es erneut aus, erweitern Sie den Serverknoten, und klicken Sie auf **Anwendungspools** zum Anzeigen der **Anwendungspools** erneut auf den Bereich.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-162">If you closed **IIS Manager**, run it again, expand the server node, and click **Application Pools** to display the **Application Pools** pane again.</span></span>

<span data-ttu-id="0b8e6-163">In der **Anwendungspools** Bereich, klicken Sie auf **DefaultAppPool**, und klicken Sie dann in der **Aktionen** Bereich auf **Grundeinstellungen**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-163">In the **Application Pools** pane, click **DefaultAppPool**, and then in the **Actions** pane click **Basic Settings**.</span></span>

<span data-ttu-id="0b8e6-164">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-164">[![Inetmgr_selecting_Basic_Settings_for_app_pool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image5.png)</span></span>

<span data-ttu-id="0b8e6-165">In der **Anwendungspool bearbeiten** ändern Sie im Dialogfeld **.NET Framework-Version** auf **.NET Framework-v4.0.30319** , und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-165">In the **Edit Application Pool** dialog box, change **.NET Framework version** to **.NET Framework v4.0.30319** and click **OK**.</span></span>

<span data-ttu-id="0b8e6-166">[![Selecting_.NET_4_for_DefaultAppPool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-166">[![Selecting_.NET_4_for_DefaultAppPool](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image7.png)</span></span>

<span data-ttu-id="0b8e6-167">Sie können nun in IIS veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-167">You are now ready to publish to IIS.</span></span>

## <a name="publishing-to-iis"></a><span data-ttu-id="0b8e6-168">Veröffentlichen in IIS</span><span class="sxs-lookup"><span data-stu-id="0b8e6-168">Publishing to IIS</span></span>

<span data-ttu-id="0b8e6-169">Es gibt mehrere Möglichkeiten, die Sie mithilfe von Visual Studio 2010 und Web Deploy bereitstellen können:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-169">There are several ways you can deploy using Visual Studio 2010 and Web Deploy:</span></span>

- <span data-ttu-id="0b8e6-170">Verwenden Sie Visual Studio One-Click-Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-170">Use Visual Studio one-click publish.</span></span>
- <span data-ttu-id="0b8e6-171">Erstellen einer *Bereitstellungspaket* und installieren Sie es mithilfe der IIS-Manager-UI.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-171">Create a *deployment package* and install it using the IIS Manager UI.</span></span> <span data-ttu-id="0b8e6-172">Das Bereitstellungspaket besteht aus einem *ZIP* Datei, enthält alle Dateien und Metadaten, die zum Installieren eines Standorts in IIS erforderlich.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-172">The deployment package consists of a *.zip* file that contains all the files and metadata needed to install a site in IIS.</span></span>
- <span data-ttu-id="0b8e6-173">Erstellen Sie ein Bereitstellungspaket, und installieren Sie es über die Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-173">Create a deployment package and install it using the command line.</span></span>

<span data-ttu-id="0b8e6-174">Der Prozess, den Sie in den vorherigen Lernprogrammen zum Visual Studio einrichten, damit automatisieren gab es Bereitstellungsaufgaben gilt für alle diese drei Methoden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-174">The process you went through in the previous tutorials to set up Visual Studio to automate deployment tasks applies to all of these three methods.</span></span> <span data-ttu-id="0b8e6-175">In diesen Lernprogrammen verwenden Sie die erste dieser Methoden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-175">In these tutorials you'll use the first of these methods.</span></span> <span data-ttu-id="0b8e6-176">Informationen zur Verwendung von Bereitstellungspaketen finden Sie unter [ASP.NET Deployment Content Map](https://msdn.microsoft.com/library/bb386521.aspx).</span><span class="sxs-lookup"><span data-stu-id="0b8e6-176">For information about using deployment packages, see [ASP.NET Deployment Content Map](https://msdn.microsoft.com/library/bb386521.aspx).</span></span>

<span data-ttu-id="0b8e6-177">Stellen Sie vor der Veröffentlichung sicher, dass Sie Visual Studio im Administratormodus ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-177">Before publishing, make sure that you are running Visual Studio in administrator mode.</span></span> <span data-ttu-id="0b8e6-178">(In Windows 7 **starten** im Menü Maustaste auf das Symbol für die Version von Visual Studio, die Sie verwenden, und wählen Sie **als Administrator ausführen**.) Im Administratormodus ist erforderlich für die Veröffentlichung nur wenn Sie in IIS auf dem lokalen Computer veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-178">(In the Windows 7 **Start** menu, right-click the icon for the version of Visual Studio you're using and select **Run as Administrator**.) Administrator mode is required for publishing only when you are publishing to IIS on the local computer.</span></span>

<span data-ttu-id="0b8e6-179">In **Projektmappen-Explorer**mit der rechten Maustaste auf das Projekt ContosoUniversity (nicht auf das Projekt ContosoUniversity.DAL), und wählen Sie **veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-179">In **Solution Explorer**, right-click the ContosoUniversity project (not the ContosoUniversity.DAL project) and select **Publish**.</span></span>

<span data-ttu-id="0b8e6-180">Die **Web veröffentlichen** -Assistent wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-180">The **Publish Web** wizard appears.</span></span>

![Publish_Web_wizard_Profile_tab](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image9.png)

<span data-ttu-id="0b8e6-182">Wählen Sie in der Dropdown-Liste  **&lt;neu... &gt;**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-182">In the drop-down list, select **&lt;New...&gt;**.</span></span>

<span data-ttu-id="0b8e6-183">In der **neues Profil** (Dialogfeld), geben Sie "Test", und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-183">In the **New Profile** dialog box, enter "Test", and then click **OK**.</span></span>

![Dialogfeld "Neues Profil"](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image10.png)

<span data-ttu-id="0b8e6-185">Dieser Name ist identisch mit der mittleren Knoten die Web.Test.config Datei transformieren, die Sie zuvor erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-185">This name is the same as the middle node of the Web.Test.config transform file that you created earlier.</span></span> <span data-ttu-id="0b8e6-186">Diese Zuordnung ist, was bewirkt, dass die Web.Test.config Transformationen angewendet werden, wenn Sie mit diesem Profil veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-186">This correspondence is what causes the Web.Test.config transformations to be applied when you publish by using this profile.</span></span>

<span data-ttu-id="0b8e6-187">Der Assistent springt automatisch zu den **Verbindung** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-187">The wizard automatically advances to the **Connection** tab.</span></span>

<span data-ttu-id="0b8e6-188">In der **Dienst-URL** geben *"localhost"*.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-188">In the **Service URL** box, enter *localhost*.</span></span>

<span data-ttu-id="0b8e6-189">In der **Website/Anwendung** geben *Default Web Site/ContosoUniversity*.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-189">In the **Site/application** box, enter *Default Web Site/ContosoUniversity*.</span></span>

<span data-ttu-id="0b8e6-190">In der **Ziel-URL** geben `http://localhost/ContosoUniversity`.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-190">In the **Destination URL** box, enter `http://localhost/ContosoUniversity`.</span></span>

<span data-ttu-id="0b8e6-191">Die **Ziel-URL** Einstellung ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-191">The **Destination URL** setting isn't required.</span></span> <span data-ttu-id="0b8e6-192">Wenn Visual Studio abgeschlossen ist, die Anwendung bereitstellen, wird Ihrem Standardbrowser an diese URL automatisch geöffnet.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-192">When Visual Studio finishes deploying the application, it automatically opens your default browser to this URL.</span></span> <span data-ttu-id="0b8e6-193">Wenn Sie nicht möchten, dass den Browser nach der Bereitstellung nicht automatisch geöffnet wird, lassen Sie dieses Feld leer.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-193">If you don't want the browser to open automatically after deployment, leave this box blank.</span></span>

![Publish_Web_wizard_Connection_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image11.png)

<span data-ttu-id="0b8e6-195">Klicken Sie auf **Validate Connection** um sicherzustellen, dass die Einstellungen richtig sind und Sie können mit IIS auf dem lokalen Computer verbinden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-195">Click **Validate Connection** to verify that the settings are correct and you can connect to IIS on the local computer.</span></span>

<span data-ttu-id="0b8e6-196">Ein grünes Häkchen überprüft, ob die Verbindung erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-196">A green check mark verifies that the connection is successful.</span></span>

![Publish_Web_wizard_Connection_tab_validated](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image12.png)

<span data-ttu-id="0b8e6-198">Klicken Sie auf **Weiter** um zum Wechseln der **Einstellungen** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-198">Click **Next** to advance to the **Settings** tab.</span></span>

<span data-ttu-id="0b8e6-199">Die **Konfiguration** Dropdown-Feld gibt die Buildkonfiguration bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-199">The **Configuration** drop-down box specifies the build configuration to deploy.</span></span> <span data-ttu-id="0b8e6-200">Der Standardwert ist die Version, was Sie gewünscht ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-200">The default value is Release, which is what you want.</span></span>

<span data-ttu-id="0b8e6-201">Lassen Sie die **entfernen weiterer Dateien am Ziel** Kontrollkästchen deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-201">Leave the **Remove additional files at destination** check box cleared.</span></span> <span data-ttu-id="0b8e6-202">Da dies Ihre erste Bereitstellung ist, gibt es keine Dateien im Zielordner noch.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-202">Since this is your first deployment, there won't be any files in the destination folder yet.</span></span>

<span data-ttu-id="0b8e6-203">In der **Datenbanken** Abschnitt, geben Sie den folgenden Wert in das Feld die Verbindungszeichenfolge für **SchoolContext**:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-203">In the **Databases** section, enter the following value in the connection string box for **SchoolContext**:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample3.cmd)]

<span data-ttu-id="0b8e6-204">Der Bereitstellungsprozess wird diese Verbindungszeichenfolge in der bereitgestellten Datei "Web.config" versetzt, da **verwenden diese Verbindungszeichenfolge zur Laufzeit** ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-204">The deployment process will put this connection string in the deployed Web.config file because **Use this connection string at runtime** is selected.</span></span>

<span data-ttu-id="0b8e6-205">Auch unter **SchoolContext**Option **gelten Code First-Migrationen**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-205">Also under **SchoolContext**, select **Apply Code First Migrations**.</span></span> <span data-ttu-id="0b8e6-206">Diese Option bewirkt, dass der Bereitstellungsprozess so konfigurieren Sie die bereitgestellte Datei "Web.config" Angeben der `MigrateDatabaseToLatestVersion` Initialisierer.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-206">This option causes the deployment process to configure the deployed Web.config file to specify the `MigrateDatabaseToLatestVersion` initializer.</span></span> <span data-ttu-id="0b8e6-207">Diese Initialisierer aktualisiert die Datenbank automatisch auf die neueste Version, wenn die Anwendung Zugriff auf die Datenbank zum ersten Mal nach der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-207">This initializer automatically updates the database to the latest version when the application accesses the database for the first time after deployment.</span></span>

<span data-ttu-id="0b8e6-208">In das Feld die Verbindungszeichenfolge für **DefaultConnection**, geben Sie den folgenden Wert:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-208">In the connection string box for **DefaultConnection**, enter the following value:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/samples/sample4.cmd)]

<span data-ttu-id="0b8e6-209">Lassen Sie **Datenbank aktualisieren** deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-209">Leave **Update database** cleared.</span></span> <span data-ttu-id="0b8e6-210">Die Mitgliedschaftsdatenbank durch Kopieren die SDF-Datei in die App bereitgestellt werden\_Daten und Sie nicht möchten, der Bereitstellungsprozess mit dieser Datenbank weitere Schritte sind.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-210">The membership database will be deployed by copying the .sdf file in App\_Data, and you don't want the deployment process to do anything else with this database.</span></span>

![Publish_Web_wizard_Settings_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image13.png)

<span data-ttu-id="0b8e6-212">Klicken Sie auf **Weiter** um zum Wechseln der **Vorschau** Registerkarte.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-212">Click **Next** to advance to the **Preview** tab.</span></span>

<span data-ttu-id="0b8e6-213">In der **Vorschau** auf **starten Preview** um eine Liste der Dateien anzuzeigen, die kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-213">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span>

![Publish_Web_wizard_Preview_tab_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image14.png)

![Publish_Web_wizard_Preview_tab_Test_with_file_list](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image15.png)

<span data-ttu-id="0b8e6-216">Klicken Sie auf **Veröffentlichen**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-216">Click **Publish**.</span></span>

<span data-ttu-id="0b8e6-217">Wenn Visual Studio nicht im Administratormodus ist, erhalten Sie möglicherweise eine Fehlermeldung angezeigt, die einen Berechtigungsfehler angibt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-217">If Visual Studio is not in administrator mode, you might get an error message that indicates a permissions error.</span></span> <span data-ttu-id="0b8e6-218">In diesem Fall schließen Sie Visual Studio, öffnen Sie es im Administratormodus und versuchen Sie, erneut zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-218">In that case, close Visual Studio, open it in administrator mode, and try to publish again.</span></span>

<span data-ttu-id="0b8e6-219">Wenn Visual Studio im Administratormodus, ist die **Ausgabe** Fenster Berichte erfolgreich erstellen und veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-219">If Visual Studio is in administrator mode, the **Output** window reports successful build and publish.</span></span>

![Output_window_publish_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image16.png)

<span data-ttu-id="0b8e6-221">Der Browser wird automatisch geöffnet, um zur Startseite der Contoso-University in IIS auf dem lokalen Computer ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-221">The browser automatically opens to the Contoso University Home page running in IIS on the local computer.</span></span>

<span data-ttu-id="0b8e6-222">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-222">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image17.png)</span></span>

## <a name="testing-in-the-test-environment"></a><span data-ttu-id="0b8e6-223">Testen in der Testumgebung</span><span class="sxs-lookup"><span data-stu-id="0b8e6-223">Testing in the Test Environment</span></span>

<span data-ttu-id="0b8e6-224">Beachten Sie, dass der Indikator für die Umgebung "(Test)" zeigt anstelle von "(Dev)", die zeigt, dass die *"Web.config"* Transformation für den Indikator für die Umgebung erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-224">Notice that the environment indicator shows "(Test)" instead of "(Dev)", which shows that the *Web.config* transformation for the environment indicator was successful.</span></span>

<span data-ttu-id="0b8e6-225">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image20.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-225">[![Home_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image20.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image19.png)</span></span>

<span data-ttu-id="0b8e6-226">Führen Sie die **Studenten** Seite, um zu überprüfen, ob die bereitgestellte Datenbank kein Studenten verfügt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-226">Run the **Students** page to verify that the deployed database has no students.</span></span> <span data-ttu-id="0b8e6-227">Bei Auswahl dieser Seite dauert möglicherweise einige Minuten, bis die geladen werden, da der Code First erstellt die Datenbank und führt dann die `Seed` Methode.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-227">When you select this page it may take a few minutes to load because Code First creates the database and then runs the `Seed` method.</span></span> <span data-ttu-id="0b8e6-228">(sie haben nicht, die ausgeführt werden, wenn Sie auf der Startseite waren, weil die Anwendung versucht hat nicht, Zugriff auf die Datenbank noch.)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-228">(It didn't do that when you were on the home page because the application didn't try to access the database yet.)</span></span>

<span data-ttu-id="0b8e6-229">[![Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image22.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-229">[![Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image22.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image21.png)</span></span>

<span data-ttu-id="0b8e6-230">Führen Sie die **Lehrkräfte** Seite, um sicherzustellen, dass Code First mit Anfangsdaten die Datenbank mit Instructor-Daten gefüllt:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-230">Run the **Instructors** page to verify that Code First seeded the database with instructor data:</span></span>

<span data-ttu-id="0b8e6-231">[![Instructors_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image24.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-231">[![Instructors_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image24.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image23.png)</span></span>

<span data-ttu-id="0b8e6-232">Wählen Sie **Studenten hinzufügen** aus der **Studenten** Menü eine Student hinzufügen, und zeigen Sie die neue Studenten in die **Studenten** Seite, um sicherzustellen, dass Sie erfolgreich in die Datenbank geschrieben werden können :</span><span class="sxs-lookup"><span data-stu-id="0b8e6-232">Select **Add Students** from the **Students** menu, add a student, and then view the new student in the **Students** page to verify that you can successfully write to the database:</span></span>

<span data-ttu-id="0b8e6-233">[![Add_Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image26.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-233">[![Add_Students_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image26.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image25.png)</span></span>

<span data-ttu-id="0b8e6-234">[![Students_page_with_new_student_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image28.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-234">[![Students_page_with_new_student_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image28.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image27.png)</span></span>

<span data-ttu-id="0b8e6-235">Aus der **Kurse** klicken Sie im Menü **Update Gutschriften**.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-235">From the **Courses** menu, select **Update Credits**.</span></span> <span data-ttu-id="0b8e6-236">Die **Update Gutschriften** Seite erfordert Administratorberechtigungen vorhanden sind, sodass der **anmelden** angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-236">The **Update Credits** page requires administrator permissions, so the **Log In** page is displayed.</span></span> <span data-ttu-id="0b8e6-237">Geben Sie die Anmeldeinformationen des Administratorkontos, die Sie früher ("Admin" und "Pas$ w0rd") erstellt.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-237">Enter the administrator account credentials that you created earlier ("admin" and "Pas$w0rd").</span></span> <span data-ttu-id="0b8e6-238">Die **Update Gutschriften** Seite wird angezeigt, die überprüft, ob das Administratorkonto, das Sie im vorherigen Lernprogramm erstellt ordnungsgemäß in der testumgebung bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-238">The **Update Credits** page is displayed, which verifies that the administrator account that you created in the previous tutorial was correctly deployed to the test environment.</span></span>

<span data-ttu-id="0b8e6-239">[![Log_In_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image30.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-239">[![Log_In_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image30.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image29.png)</span></span>

<span data-ttu-id="0b8e6-240">[![Update_Credits_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image32.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-240">[![Update_Credits_page_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image32.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image31.png)</span></span>

<span data-ttu-id="0b8e6-241">Überprüfen Sie, ob ein *Elmah* Ordner mit nur die Platzhalterdatei darin vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-241">Verify that an *Elmah* folder exists with only the placeholder file in it.</span></span>

<span data-ttu-id="0b8e6-242">[![Elmah_folder_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image34.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-242">[![Elmah_folder_Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image34.png)](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image33.png)</span></span>

<a id="efcfmigrations"></a>

## <a name="reviewing-the-automatic-webconfig-changes-for-code-first-migrations"></a><span data-ttu-id="0b8e6-243">Überprüfen die Änderungen für die automatische "Web.config" für die Code First-Migrationen</span><span class="sxs-lookup"><span data-stu-id="0b8e6-243">Reviewing the Automatic Web.config Changes for Code First Migrations</span></span>

<span data-ttu-id="0b8e6-244">Öffnen der *"Web.config"* -Datei in der bereitgestellten Anwendung auf *C:\inetpub\wwwroot\ContosoUniversity* sehen Sie, auf dem der Bereitstellungsprozess Code First-Migrationen zu automatisch konfiguriert Aktualisieren Sie die Datenbank, auf die neueste Version.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-244">Open the *Web.config* file in the deployed application at *C:\inetpub\wwwroot\ContosoUniversity* and you can see where the deployment process configured Code First Migrations to automatically update the database to the latest version.</span></span>

![](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image35.png)

<span data-ttu-id="0b8e6-245">Der Bereitstellungsprozess erstellt auch eine neue Verbindungszeichenfolge für die Code First-Migrationen verwenden ausschließlich für das Datenbankschema zu aktualisieren:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-245">The deployment process also created a new connection string for Code First Migrations to use exclusively for updating the database schema:</span></span>

![DatabasePublish_connection_string](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12/_static/image36.png)

<span data-ttu-id="0b8e6-247">Diese zusätzliche Verbindungszeichenfolge können Sie ein Benutzerkonto für Datenbank-Schema-Updates und ein anderes Benutzerkonto für den Datenzugriff für die Anwendung angeben.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-247">This additional connection string enables you to specify one user account for database schema updates, and a different user account for application data access.</span></span> <span data-ttu-id="0b8e6-248">Sie könnten z. B. zuweisen die Db\_Besitzer Code First-Migrationen und DB-\_Datareader und Db\_Datawriter Rollen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-248">For example, you could assign the db\_owner role to Code First Migrations, and db\_datareader and db\_datawriter roles to the application.</span></span> <span data-ttu-id="0b8e6-249">Dies ist ein allgemeines Verteidigung Muster, das verhindert, potenziell bösartigen Code in der Anwendung dass über das Datenbankschema zu ändern.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-249">This is a common defense-in-depth pattern that prevents potentially malicious code in the application from changing the database schema.</span></span> <span data-ttu-id="0b8e6-250">(Beispielsweise kann dies auf einen erfolgreichen SQL Injection-Angriff vorkommen.) Dieses Muster wird nicht von diesen Lernprogrammen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-250">(For example, this might happen in a successful SQL injection attack.) This pattern is not used by these tutorials.</span></span> <span data-ttu-id="0b8e6-251">Es gilt nicht für SQL Server Compact, und es gilt nicht, wenn die Migration zu SQL Server in einem späteren Lernprogramm dieser Reihe.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-251">It does not apply to SQL Server Compact, and it does not apply when you migrate to SQL Server in a later tutorial in this series.</span></span> <span data-ttu-id="0b8e6-252">Die Cytanium-Website bietet nur ein Benutzerkonto für den Zugriff auf die SQL Server-Datenbank, die Sie am Cytanium erstellen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-252">The Cytanium site offers just one user account for accessing the SQL Server database that you create at Cytanium.</span></span> <span data-ttu-id="0b8e6-253">Wenn Sie dieses Muster in Ihrem Szenario implementieren können, können Sie dies tun, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-253">If you are able to implement this pattern in your scenario, you can do it by performing the following steps:</span></span>

1. <span data-ttu-id="0b8e6-254">In der **Einstellungen** auf der Registerkarte die **Web veröffentlichen** -Assistenten geben Sie die Verbindungszeichenfolge, die ein Benutzer mit vollständigen Berechtigungen zum Aktualisieren Schema gibt an, und Deaktivieren der **diese Verbindungszeichenfolge verwenden zur Laufzeit** Kontrollkästchen.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-254">In the **Settings** tab of the **Publish Web** wizard, enter the connection string that specifies a user with full database schema update permissions, and clear the **Use this connection string at runtime** check box.</span></span> <span data-ttu-id="0b8e6-255">In der bereitgestellten Datei "Web.config" Dies ist die `DatabasePublish` Verbindungszeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-255">In the deployed Web.config file, this becomes the `DatabasePublish` connection string.</span></span>
2. <span data-ttu-id="0b8e6-256">Erstellen Sie eine Web.config-Datei-Transformation für die Verbindungszeichenfolge, die die Anwendung zur Laufzeit verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-256">Create a Web.config file transformation for the connection string that you want the application to use at run time.</span></span>

<span data-ttu-id="0b8e6-257">Sie haben jetzt Ihre Anwendung in IIS auf dem Entwicklungscomputer bereitgestellt und es getestet.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-257">You have now deployed your application to IIS on your development computer and tested it there.</span></span> <span data-ttu-id="0b8e6-258">Dies stellt sicher, dass der Bereitstellungsprozess Inhalt der Anwendung auf den richtigen Speicherort kopiert (mit Ausnahme der Dateien, die Sie nicht bereitstellen möchten), und auch, Web Deploy IIS ordnungsgemäß während der Bereitstellung konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-258">This verifies that the deployment process copied the application's content to the right location (excluding the files that you did not want to deploy), and also that Web Deploy configured IIS correctly during deployment.</span></span> <span data-ttu-id="0b8e6-259">In den nächsten Lernprogrammen, führen Sie eine weitere Tests, die eine Bereitstellungsaufgabe findet, die noch nicht durchgeführt: Festlegen von Berechtigungen für Ordner für die *Elmah* Ordner.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-259">In the next tutorial, you'll run one more test that finds a deployment task that has not yet been done: setting folder permissions on the *Elmah* folder.</span></span>

## <a name="more-information"></a><span data-ttu-id="0b8e6-260">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="0b8e6-260">More Information</span></span>

<span data-ttu-id="0b8e6-261">Informationen zum Ausführen von IIS oder IIS Express in Visual Studio finden Sie unter den folgenden Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="0b8e6-261">For information about running IIS or IIS Express in Visual Studio, see the following resources:</span></span>

- <span data-ttu-id="0b8e6-262">[Übersicht über IIS Express](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) auf der Website IIS.net.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-262">[IIS Express Overview](https://www.iis.net/learn/extensions/introduction-to-iis-express/iis-express-overview) on the IIS.net site.</span></span>
- <span data-ttu-id="0b8e6-263">[Einführung in IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) Scott Guthries Blog.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-263">[Introducing IIS Express](https://weblogs.asp.net/scottgu/archive/2010/06/28/introducing-iis-express.aspx) on Scott Guthrie's blog.</span></span>
- <span data-ttu-id="0b8e6-264">[Vorgehensweise: Angeben des Webservers für Webprojekte in Visual Studio](https://msdn.microsoft.com/library/ms178108.aspx).</span><span class="sxs-lookup"><span data-stu-id="0b8e6-264">[How to: Specify the Web Server for Web Projects in Visual Studio](https://msdn.microsoft.com/library/ms178108.aspx).</span></span>
- <span data-ttu-id="0b8e6-265">[Unterschiede zwischen IIS und ASP.NET Development Server Core](../deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) auf der ASP.NET-Website.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-265">[Core Differences Between IIS and the ASP.NET Development Server](../deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-cs.md) on the ASP.NET site.</span></span>
- <span data-ttu-id="0b8e6-266">[Testen Ihrer ASP.NET MVC- oder Web Forms-Anwendung unter IIS 7 in 30 Sekunden](https://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) in Rick andersons Blog.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-266">[Test your ASP.NET MVC or Web Forms Application on IIS 7 in 30 seconds](https://blogs.msdn.com/b/rickandy/archive/2011/04/22/test-you-asp-net-mvc-or-webforms-application-on-iis-7-in-30-seconds.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="0b8e6-267">Dieser Eintrag enthält Beispiele für Gründe Tests mit Visual Studio Development Server (Cassini) nicht so zuverlässig wie Testen in IIS Express ist und warum Testen in IIS Express nicht so zuverlässig wie Testen in IIS ist.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-267">This entry provides examples of why testing with the Visual Studio Development Server (Cassini) is not as reliable as testing in IIS Express, and why testing in IIS Express is not as reliable as testing in IIS.</span></span>

<span data-ttu-id="0b8e6-268">Informationen darüber, welche Probleme auftreten kann, wenn Ihre Anwendung in mittlerer Vertrauenswürdigkeit ausgeführt wird, finden Sie unter [Hosten von ASP.NET-Anwendungen im mittlere Vertrauensebene](http://www.4guysfromrolla.com/articles/100307-1.aspx) auf die 4 Guys von Rolla-Website.</span><span class="sxs-lookup"><span data-stu-id="0b8e6-268">For information about what issues might arise when your application runs in medium trust, see [Hosting ASP.NET Applications in Medium Trust](http://www.4guysfromrolla.com/articles/100307-1.aspx) on the 4 Guys from Rolla site.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="0b8e6-269">[Zurück](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12.md)
> [Weiter](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="0b8e6-269">[Previous](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12.md)
[Next](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)</span></span>
