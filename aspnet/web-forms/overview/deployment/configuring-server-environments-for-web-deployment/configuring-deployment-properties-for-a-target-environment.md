---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Konfigurieren von Bereitstellungseigenschaften für eine Zielumgebung | Microsoft-Dokumentation
author: jrjlee
description: In diesem Thema wird beschrieben, wie bestimmte Eigenschaften zu konfigurieren, um die Beispiel-Contact Manager-Lösung für eine bestimmte zielumgebung bereitstellen wird...
ms.author: aspnetcontent
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 205a60ee8695f84054bf2139baa3eeb88728d28a
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/05/2018
ms.locfileid: "37817764"
---
<a name="configuring-deployment-properties-for-a-target-environment"></a>Konfigurieren von Bereitstellungseigenschaften für eine Zielumgebung
====================
durch [Jason Lee](https://github.com/jrjlee)

[PDF herunterladen](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> In diesem Thema wird beschrieben, wie bestimmte Eigenschaften zu konfigurieren, um die Beispiel-Contact Manager-Lösung für eine bestimmte zielumgebung bereitstellen wird.


In diesem Thema ist Teil einer Reihe von Tutorials, die auf der Basis der bereitstellungsanforderungen Enterprise ein fiktives Unternehmen, die mit dem Namen Fabrikam, Inc. Dieser tutorialreihe verwendet eine beispiellösung&#x2014;der [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) Lösung&#x2014;zur Darstellung einer Webanwendung mit einem realistischen Maß an Komplexität, einschließlich einer ASP.NET MVC 3-Anwendung, eine Windows-Kommunikation Foundation (WCF)-Dienst und ein Datenbankprojekt.

Die Methode für die Bereitstellung das Kernstück des in diesen Tutorials basiert auf den geteilten Projekt Dateiansatz beschrieben, die [Verständnis des Prozesses erstellen](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in dem der Buildprozess durch gesteuert wird zwei Projektdateien&#x2014;enthält Erstellen Sie die Anweisungen, die für jede zielumgebung, und enthält umgebungsspezifische Build & Deployment-Einstellungen gelten. Zur Erstellungszeit wird die umgebungsspezifischen-Projektdatei in die Unabhängigkeit von der Umgebung Projektdatei, um einen vollständigen Satz von einrichtungsanweisungen bilden zusammengeführt.

## <a name="process-overview"></a>Prozessübersicht

Die Projektdatei, die Sie zum Erstellen und Bereitstellen von Contact Manager-Lösung verwenden, ist in zwei physische Dateien unterteilt:

- Universal enthält die Einstellungen und Anweisungen erstellen (die *Publish.proj* Datei).
- Enthält umgebungsspezifische Einstellungen erstellen (*Env-Dev.proj*, *Env-Stage.proj*und so weiter).

Beim Erstellen die entsprechenden umgebungsspezifische Projektdatei mit der Universal zusammengeführt wird *Publish.proj* Datei, um einen vollständigen Satz von Buildanweisungen zu bilden. Sie können die Bereitstellung auf bestimmte zielumgebungen konfigurieren, durch das Erstellen oder Anpassen der umgebungsspezifischen Projektdateien mit Einstellungen, die Ihr eigenes Szenario zu beschreiben.

Viele dieser Werte werden durch die Konfiguration Ihrer zielumgebung bestimmt&#x2014;insbesondere, ob Ihre Ziel-Webserver der Webbereitstellungs-Agent-Dienst (der remote-Agent) oder der Handler für die Web-Bereitstellung verwenden konfiguriert ist. Weitere Informationen zu diesen Vorgehensweisen und Anleitungen zum Auswählen des richtigen Ansatzes für Ihre eigene Umgebung, finden Sie unter [Entscheidung zur Webbereitstellung rechts](choosing-the-right-approach-to-web-deployment.md).

Die [Contact Manager-Szenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) erfordert zwei umgebungsspezifische Projektdateien:

- Bereitstellung in einer testumgebung für Entwickler (*Env-Dev.proj*). Die Developer-testumgebung ist so konfiguriert, dass um Remotebereitstellungen mit den remote-Agenten zu akzeptieren, wie in beschrieben [Szenario: Konfigurieren einer Testumgebung für die Webbereitstellung](scenario-configuring-a-test-environment-for-web-deployment.md). Diese Datei muss der remote-Agent Endpunktadresse sowie die Speicherort-spezifische Einstellungen wie Verbindungszeichenfolgen und Dienstendpunkte angeben.
- Bereitstellung in einer Stagingumgebung (*Env-Stage.proj*). Die Stagingumgebung ist so konfiguriert, dass Sie um Remotebereitstellungen mit dem Web bereitstellen-Handler zu akzeptieren, wie in beschrieben [Szenario: Konfigurieren von einer Staging-Umgebung für die Webbereitstellung](scenario-configuring-a-staging-environment-for-web-deployment.md). Diese Datei muss die Endpunktadresse WebHandler bereitstellen sowie die Speicherort-spezifische Einstellungen wie Verbindungszeichenfolgen und Dienstendpunkte.

Es ist wichtig zu beachten, dass die Einstellungen, die Sie, in der Projektdatei auf umgebungsspezifische konfigurieren keine Auswirkungen auf den Inhalt des Pakets selbst hat&#x2014;stattdessen sie steuern, wie das Paket bereitgestellt wird und welche Parameterwerte bereitgestellt sind, wenn das Paket extrahiert. Sie importieren des Pakets in der produktionsumgebung manuell wie beschrieben in [Szenario: Konfigurieren einer Produktionsumgebung für die Webbereitstellung](scenario-configuring-a-production-environment-for-web-deployment.md) und [Manuelles Installieren von Webpaketen](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), Daher vollkommen gleichgültig welche Einstellungen verwendet Sie in der Projektdatei auf umgebungsspezifische, wenn Sie das Paket generiert. (Internet Information Services, IIS) Manager fordert Sie für jede parametrisierte Werte, wie Verbindungszeichenfolgen und Dienstendpunkte, wenn Sie das Paket importieren.

Zum Bereitstellen von Contact Manager-Lösung für Ihre eigenen zielumgebung, können Sie passen Sie diese Datei oder als Vorlage verwenden und eine eigene Datei erstellen.

**So konfigurieren Sie umgebungsspezifische Einstellungen für die Projektmappe Contact Manager**

1. Öffnen Sie die ContactManager-WCF-Lösung in Visual Studio 2010.
2. In der **Projektmappen-Explorer** Fenster, erweitern Sie die **veröffentlichen** Ordner erweitern Sie die **EnvConfig** Ordner, und doppelklicken Sie dann auf **Env-Dev.proj**.

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. Ersetzen Sie die Eigenschaftswerte in die *Env-Dev.proj* Datei durch die richtigen Werte für Ihre eigene testumgebung.

    > [!NOTE]
    > Die Tabelle, die von dieser Prozedur folgt enthält weitere Informationen für jede dieser Eigenschaften.
4. Speichern Sie Ihre Arbeit, und schließen Sie die *Env-Dev.proj* Datei.

## <a name="choosing-the-right-deployment-properties"></a>Auswählen der richtigen Bereitstellungseigenschaften

Diese Tabelle beschreibt den Zweck der einzelnen Eigenschaften in der Umgebung spezifischen Beispielprojektdatei, *Env-Dev.proj*, und enthält hilfreiche Informationen für die Werte, die Sie bereitstellen sollten.


|                                                        Eigenschaftenname                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <strong>MSDeployComputerName</strong> den Namen der Web-Server oder-Dienst Zielendpunkt.               |                                                                                                                                                                                                                                              Wenn Sie mit dem remote-Agent-Dienst auf dem Zielwebserver bereitstellen, können Sie den Namen des Zielcomputers angeben (z. B. <strong>TESTWEB1</strong> oder <strong>TESTWEB1.fabrikam.net</strong>), oder Sie können die Remote angeben Agent-Endpunkt (z. B. `http://TESTWEB1/MSDEPLOYAGENTSERVICE`). Die Bereitstellung funktioniert auf dieselbe Weise in jedem Fall. Wenn Sie an den Web bereitstellen Handler auf dem Zielserver bereitstellen, sollten Sie geben Sie den Dienstendpunkt und den Namen der IIS-Website als ein Abfragezeichenfolgen-Parameter enthalten (z. B. `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).                                                                                                                                                                                                                                              |
|         <strong>MSDeployAuth</strong> die Methode, die Web Deploy verwenden soll, um auf den Remotecomputer zu authentifizieren.          |                                                                                                                                                                                                                          Dies sollte festgelegt werden, um <strong>NTLM</strong> oder <strong>grundlegende</strong>. Verwenden Sie in der Regel <strong>NTLM</strong> Wenn Sie mit dem remote-Agent-Dienst bereitstellen und <strong>grundlegende</strong> Wenn Sie auf den Handler für die Web-Bereitstellung bereitstellen. Wenn Sie die Standardauthentifizierung verwenden, müssen Sie auch angeben, den Benutzernamen und Kennwort, das das IIS-Webbereitstellungstool (Web Deploy) für die Durchführung die Bereitstellung Identitätswechsel verwenden soll. In diesem Beispiel werden diese Werte bereitgestellt, über die <strong>MSDeployUsername</strong> und <strong>MSDeployPassword</strong> Eigenschaften. Wenn Sie die NTLM-Authentifizierung verwenden, können Sie diese Eigenschaften wegzulassen oder diese Angaben leer lassen.                                                                                                                                                                                                                          |
| <strong>MSDeployUsername</strong> Wenn Sie die Standardauthentifizierung verwenden, Web Deploy verwendet dieses Konto auf dem Remotecomputer.  |                                                                                                                                                                                                                                                                                                                                                                                                                       Dies dauert das Formular <em>Domäne</em>\*Benutzername * (z. B. <strong>FABRIKAM\matt</strong>). Dieser Wert wird nur verwendet, wenn Sie die Standardauthentifizierung angeben. Wenn Sie die NTLM-Authentifizierung verwenden, kann die Eigenschaft ausgelassen werden. Wenn ein Wert angegeben wird, wird es ignoriert.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <strong>MSDeployPassword</strong> Wenn Sie die Standardauthentifizierung verwenden, Web Deploy verwenden dieses Kennwort auf dem Remotecomputer. |                                                                                                                                                                                                                                                                                                                                                                                                                    Dies ist das Kennwort für das Benutzerkonto an, die Sie, in angegeben der <strong>MSDeployUsername</strong> Eigenschaft. Dieser Wert wird nur verwendet, wenn Sie die Standardauthentifizierung angeben. Wenn Sie die NTLM-Authentifizierung verwenden, kann die Eigenschaft ausgelassen werden. Wenn ein Wert angegeben wird, wird es ignoriert.                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <strong>ContactManagerIisPath</strong> die IIS-Pfad auf dem Sie die Kontakt-Manager-MVC-Anwendung bereitstellen möchten.     |                                                                                                                                                                                                                                                                                                                                                                        Dies sollte der Pfad sein, wie er im IIS-Manager im Formular angezeigt wird [<em>Name der IIS-Website</em>] / [<em>Web</em><em>Anwendungsname</em>]. Denken Sie daran, dass die IIS-Website muss vorhanden sein, bevor Sie Ihre Anwendung bereitstellen. Wenn Sie eine IIS-Website, die mit dem Namen DemoSite erstellt haben, können Sie z. B. den IIS-Pfad für die MVC-Anwendung als DemoSite/ContactManager angeben.                                                                                                                                                                                                                                                                                                                                                                        |
|   <strong>ContactManagerServiceIisPath</strong> die IIS-Pfad, auf denen den Contact Manager-WCF-Dienst bereitgestellt werden sollen.    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Z. B. Wenn Sie eine IIS-Website, die mit dem Namen DemoSite erstellt haben, geben Sie den IIS-Pfad für den WCF-Dienst als <strong>DemoSite/ContactManagerService</strong>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <strong>ContactManagerTargetUrl</strong> die URL, an dem der WCF-Dienst erreicht werden kann.                   |                                                                                                                                                     Dadurch gelangen die Form [<em>IIS-Website-Stamm-URL</em>] / [<em>dienstanwendungsname</em>] / [<em>Dienstendpunkt</em>]. Z. B. Wenn Sie eine IIS-Website auf Port 85 erstellt haben, die URL würde weisen die Form `http://localhost:85/ContactManagerService/ContactService.svc`. Denken Sie daran, dass die MVC-Anwendung und der WCF-Dienst auf dem gleichen Server bereitgestellt werden. Diese URL wird daher immer nur auf dem Computer zugegriffen auf dem er installiert ist. Aus diesem Grund ist es besser, in der URL "localhost" oder die IP-Adresse, anstatt den Computernamen oder einen Hostheader zu verwenden. Wenn Sie den Computernamen oder einen Hostheader verwenden, die [loopbackprüfung](https://go.microsoft.com/?linkid=9805131) Sicherheitsfunktion in IIS blockiert die URL und zurückgeben kann ein <strong>HTTP 401.1 - nicht autorisiert</strong> Fehler.                                                                                                                                                     |
|                  <strong>CmDatabaseConnectionString</strong> die Verbindungszeichenfolge für den Datenbankserver.                  | Die Verbindungszeichenfolge bestimmt sowohl die Anmeldeinformationen, die VSDBCMD verwendet werden, wenden Sie sich an den Datenbankserver und die Datenbank und die Anmeldeinformationen für der Server-Webanwendungspool wenden Sie sich an den Datenbankserver und die Interaktion mit der Datenbank zu erstellen. Im Wesentlichen haben Sie zwei Optionen hier. Können Sie angeben, <strong>integrierte Sicherheit = "true"</strong>, in diesem Fall die integrierte Windows-Authentifizierung verwendet wird: <strong>Datenquelle = die Datenbank "testdb1"; Integrated Security = True</strong> In diesem Fall die Datenbank erstellt werden mit die Anmeldeinformationen des Benutzers, der die ausführbare Datei VSDBCMD ausgeführt, und die Anwendung werden die Datenbank mit der Identität des Computerkontos für Web-Server zugreifen. Alternativ können Sie den Benutzernamen und das Kennwort eines Kontos für die SQL Server angeben. In diesem Fall werden die SQL Server-Anmeldeinformationen verwendet, von VSDBCMD zum Erstellen der Datenbank und den Anwendungspool für die Interaktion mit der Datenbank: <strong>Data Source = die Datenbank "testdb1"; Benutzer-Id = ASqlUser; Kennwort = Pa$ $w0rd</strong> exemplarischen Vorgehensweisen in diesem Thema wird davon ausgegangen, dass Sie integrierte Windows-Authentifizierung verwenden. |
|        <strong>CmTargetDatabase</strong> den Namen für die Datenbank ein, Sie auf dem Datenbankserver ausgeführt erstellen, werden sollen.        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     Der Wert, den Sie hier angeben, wird der VSDBCMD-Befehl als Parameter hinzugefügt. Es wird auch verwendet, um eine vollständige Verbindungszeichenfolge zu erstellen, die der Anwendungspool auf dem Webserver verwenden kann, um die Interaktion mit der Datenbank.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

Diese Beispiele zeigen, wie Sie diese Eigenschaften für bestimmte Szenarien konfigurieren können.

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a>Beispiel 1&#x2014;Bereitstellung mit dem Remote-Agent-Dienst

In diesem Beispiel:

- Sie können mit dem remote-Agent-Dienst auf TESTWEB1 bereit.
- Sie können Web Deploy, um die NTLM-Authentifizierung verwendet angewiesen. Web Deploy wird ausgeführt, mit den Anmeldeinformationen, die Sie zum Aufrufen der Microsoft Build Engine (MSBuild) verwendet.
- Sie können mithilfe der integrierten Authentifizierung zum Bereitstellen der **ContactManager** Datenbank in der Datenbank "testdb1". Die Datenbank wird mit den Anmeldeinformationen, die Sie zum Aufrufen von MSBuild verwendet bereitgestellt werden.


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]


### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a>Beispiel 2&#x2014;Bereitstellung im Web Endpunkt des Ereignishandlers

In diesem Beispiel:

- Sie können zum Bereitstellen von Web-Handler-Endpunkt auf STAGEWEB1 bereit.
- Sie können Web Deploy, um die Standardauthentifizierung verwenden angewiesen.
- Geben Sie, dass Web Deploy das FABRIKAM\stagingdeployer-Konto auf dem Remotecomputer Identitätswechsel verwenden soll.
- Verwenden Sie SQL Server-Authentifizierung zum Bereitstellen der **ContactManager** STAGEDB1 Datenbank.


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]


## <a name="conclusion"></a>Schlussbemerkung

An diesem Punkt werden die Projektdateien zum Erstellen und Bereitstellen der Contact Manager-Lösung für eine oder mehrere zielumgebungen vollständig konfiguriert.

Um diese Projektdateien als Teil des einen Schritt für Schritt, wiederholbaren Prozess verwenden zu können, müssen Sie zum Ausführen der *Publish.proj* mithilfe von MSBuild-Datei und den Speicherort der Projektdatei umgebungsspezifische als Parameter übergeben. Sie können auf verschiedene Weise dazu:

- Eine Übersicht über MSBuild und eine Einführung in benutzerdefinierte Projektdateien, finden Sie unter [Grundlegendes zur Projektdatei](../web-deployment-in-the-enterprise/understanding-the-project-file.md).
- Informationen dazu, wie Sie einen MSBuild-Befehl zu formulieren, die Ihre benutzerdefinierten Projektdateien ausgeführt wird, finden Sie unter [Bereitstellen von Webpaketen](../web-deployment-in-the-enterprise/deploying-web-packages.md).
- Informationen dazu, wie die MSBuild-Befehle in einer Befehlsdatei für Schritt für Schritt, wiederholbare Bereitstellungen integrieren, finden Sie unter [erstellen und Ausführen einer Befehlsdatei Bereitstellung](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).
- Informationen zum benutzerdefinierten Projektdateien aus Team Build ausführen, finden Sie unter [Erstellen einer Builddefinition, dass unterstützt die Bereitstellung](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).

> [!div class="step-by-step"]
> [Vorherige](creating-a-server-farm-with-the-web-farm-framework.md)
